repeat wait()
until game:FindFirstChild("CoreGui")
and game.Players.LocalPlayer

repeat wait(.25)
until game:IsLoaded()
and game.Players.LocalPlayer.Character

getgenv().plr = game.Players.LocalPlayer
local CurCam = game.workspace.CurrentCamera
local Mouse = plr:GetMouse()
local CommF = game.ReplicatedStorage.Remotes.CommF_
local wOrigin = game.workspace._WorldOrigin

function FireButton(x)
    for i, v in pairs(getconnections(x.MouseButton1Click)) do 
        v:Fire()
        v:Function()
    end
    for i, v in pairs(getconnections(x.MouseButton1Down)) do 
        v:Fire()
    end
    for i, v in pairs(getconnections(x.Activated)) do 
        v:Fire()
    end
end

repeat wait()
until plr:FindFirstChild("Backpack")
and plr:FindFirstChild("DataLoaded")

for i, v in pairs(getconnections(plr.Idled)) do
    v:Disable()
end

if not getgenv().NoclipRun then
    setfflag("HumanoidParallelRemoveNoPhysics", "False")
    setfflag("HumanoidParallelRemoveNoPhysicsNoSimulate2", "False")
    local function Noclip()
        for i, v in ipairs(plr.Character:GetDescendants()) do
            if v:IsA("BasePart") and v.CanCollide == true then
                v.CanCollide = false
            end
        end
    end
    game:GetService("RunService").Stepped:Connect(function()
        if getgenv().noclip then
            if plr.Character ~= nil then
                local x = plr.Character:FindFirstChild("Humanoid")
                if x then x:ChangeState(11) end
                Noclip()
            end
        end
    end)
    getgenv().NoclipRun = true
end

if getgenv().Key == nil then
    LPH_NO_VIRTUALIZE = function(tvkretard) return tvkretard end
end

local HttpService = game:GetService("HttpService")
local Settings = {}
local SaveFileName = plr.Name .. "_BloxFruits.json"
function Conv2Save(sett) 
    local allsett = {}
    for k, v in pairs(sett) do 
        if typeof(v) == "CFrame" then 
            local cac = {v:GetComponents()}
            table.insert(cac,"CFrame")
            allsett[k]  = cac
        elseif type(v) == "table" then
            allsett[k] = Conv2Save(v)
        else
            allsett[k] = v
        end
    end
    return allsett
end
function DeseriSetting(sett) 
    local allsett = {}
    for k, v in pairs(sett) do 
        if type(v) == "table" then 
            if v[13] == "CFrame" then 
                v[13] = nil
                allsett[k] = CFrame.new(unpack(v))
            else
                allsett[k] = DeseriSetting(v)
            end
        else
            allsett[k] = v
        end
    end
    return allsett
end
function SaveSettings()
    if not isfolder("Sea Hub") then
        makefolder("Sea Hub")
    end
    writefile("Sea Hub/" .. SaveFileName, HttpService:JSONEncode(Conv2Save(Settings)))
end
function ReadSetting() 
    local s,e = pcall(function() 
        if not isfolder("Sea Hub") then
            makefolder("Sea Hub")
        end
        return DeseriSetting(HttpService:JSONDecode(readfile("Sea Hub/" .. SaveFileName)))
    end)
    if s then return e 
    else
        SaveSettings()
        return ReadSetting()
    end
end

Settings = ReadSetting()
getgenv().Settings = Settings

loadstring([[
    local BlacklistedNPCs = {
        "Set Spawn Point",
        "Boat Dealer",
        "Luxury Boat Dealer",
        "Set Home Point"
    }
    getgenv().IsValidNPC = function(v, x)
        if v:IsA("Model")
        and not table.find(BlacklistedNPCs, v.Name)
        and v:FindFirstChild("Head")
        and v.Head:FindFirstChild("QuestBBG")
        and (v.Head.QuestBBG.Title.Text ~= "QUEST" and not x
        or v.Head.QuestBBG.Title.Text == "QUEST") then 
            return true
        end
    end
    getgenv().QuestPoses = {}
    for i, v in pairs(getnilinstances()) do 
        if IsValidNPC(v) then
            getgenv().QuestPoses[v.Name] = v.Head.CFrame * CFrame.new(0, -1, -2)    
        end
    end
    for i, v in ipairs(game.Workspace.NPCs:GetChildren()) do 
        if IsValidNPC(v) then
            getgenv().QuestPoses[v.Name] = v.Head.CFrame * CFrame.new(0, -1, -2)    
        end
    end
    getgenv().RemoteList = {}
    for i, v in pairs(debug.getprotos(getscriptclosure(plr.PlayerScripts.NPC))) do 
        if #debug.getconstants(v) == 1 then 
            table.insert(getgenv().RemoteList, debug.getconstant(v, 1))    
        end
    end
    getgenv().DialogueList = {}
    local Continue
    for i, v in pairs(debug.getconstants(getscriptclosure(plr.PlayerScripts.NPC))) do
        if type(v) == "string" then
            if v == "Players" then
                Continue = false
            end
            if not Continue then
                if v == "Blox Fruit Dealer" then
                    Continue = true
                end
            end
            if Continue then
                table.insert(getgenv().DialogueList, v)
            end
        end
    end
]])()

if not plr.Backpack:FindFirstChildOfClass("Tool")
and not plr.Character:FindFirstChildOfClass("Tool") then
    repeat wait()
        if not plr.PlayerGui:FindFirstChild("Main") then
            repeat wait()
            until plr.PlayerGui:FindFirstChild("Main")
            and plr.PlayerGui.Main:FindFirstChild("ChooseTeam")
            and plr.PlayerGui.Main.ChooseTeam.Visible
            wait(3)
        elseif plr.PlayerGui.Main:FindFirstChild("ChooseTeam") then
            if plr.PlayerGui.Main.ChooseTeam.Visible then
                getconnections(plr.PlayerGui.Main.ChooseTeam.Container[Settings.ChooseSide or "Pirates"].Frame.ViewportFrame.TextButton.Activated)[1]:Function()
                wait(.5)
            end
        end
    until plr.Backpack:FindFirstChildOfClass("Tool")
    or plr.Character:FindFirstChildOfClass("Tool")
end

local concac = game:HttpGet("https://raw.githubusercontent.com/7bgqRy0CC2wCjblo9W4kmWBejs72uKCNqI7XqUL/SeaUILib/main/UI/Logo")
local Library = loadstring(syn.crypt.decrypt(concac, "cac"))()

require(plr.PlayerScripts.CombatFramework.CameraShaker).Shake = function() end

loadstring([[
    local CbFw = getupvalues(require(plr.PlayerScripts.CombatFramework))
    local CbFw2 = CbFw[2]
    
    function GetCurrentBlade() 
        local p13 = CbFw2.activeController
        local ret = p13.blades[1]
        if not ret then
            return
        end
        while ret.Parent ~= plr.Character do
            ret = ret.Parent
        end
        return ret
    end
    getgenv().TimerAttack = tick()
    getgenv().AttackM1 = function(BladeHitRoot) 
        local CurrentEquipWP = plr.Character:FindFirstChildOfClass("Tool")
        if not CurrentEquipWP
        or not CheckM1Weapon(CurrentEquipWP) then
            return
        end
        local AC = CbFw2.activeController
        if not AC.attack then return end
        for i = 1, 1 do 
            local bladehit
            if BladeHitRoot then
                bladehit = require(game.ReplicatedStorage.CombatFramework.RigLib).getBladeHits(
                    game.Players[BladeHitRoot.Name].Character,
                    {BladeHitRoot.HumanoidRootPart},
                    60
                )
            else
                bladehit = require(game.ReplicatedStorage.CombatFramework.RigLib).getBladeHits(
                    plr.Character,
                    {plr.Character.HumanoidRootPart},
                    60
                )
            end
            local cac = {}
            local hash = {}
            for k, v in pairs(bladehit) do
                if v.Parent:FindFirstChild("HumanoidRootPart") and not hash[v.Parent] then
                    table.insert(cac, v.Parent.HumanoidRootPart)
                    hash[v.Parent] = true
                end
            end
            bladehit = cac
            if #bladehit > 0 then
                local u8 = debug.getupvalue(AC.attack, 5)
                local u9 = debug.getupvalue(AC.attack, 6)
                local u7 = debug.getupvalue(AC.attack, 4)
                local u10 = debug.getupvalue(AC.attack, 7)
                local u12 = (u8 * 798405 + u7 * 727595) % u9
                local u13 = u7 * 798405
                (function()
                    u12 = (u12 * u9 + u13) % 1099511627776
                    u8 = math.floor(u12 / u9)
                    u7 = u12 - u8 * u9
                end)()
                u10 = u10 + 1
                debug.setupvalue(AC.attack, 5, u8)
                debug.setupvalue(AC.attack, 6, u9)
                debug.setupvalue(AC.attack, 4, u7)
                debug.setupvalue(AC.attack, 7, u10)
                pcall(function()
                    for k, v in pairs(AC.animator.anims.basic) do
                        v:Play()
                    end                  
                end)
                if AC.blades and AC.blades[1] then 
                    if Settings.AttackAutoScale and tick() - TimerAttack > 4 and not AttackCheck then 
                        getgenv().AttackCheck = true
                        getgenv().AntiLagSvKick = false
                        delay(2, function()
                            getgenv().AttackCheck = false
                            getgenv().AntiLagSvKick = true
                            getgenv().TimerAttack = tick()
                        end)
                    end
                    game:GetService("ReplicatedStorage").RigControllerEvent:FireServer("weaponChange", tostring(GetCurrentBlade()))
                    game.ReplicatedStorage.Remotes.Validator:FireServer(math.floor(u12 / 1099511627776 * 16777215), u10)
                    game:GetService("ReplicatedStorage").RigControllerEvent:FireServer("hit", bladehit, i, "")
                elseif not AC.blades
                and (AttackNoCDAura or AttackingMob and IsMobAlive(AttackingMob)) then
                    local TimerWait = tick()
                    local AMHealth
                    if AttackingMob then 
                        AMHealth = AttackingMob.Humanoid.Health
                    end
                    repeat wait()
                    until CbFw2.activeController.blades
                    or tick() - TimerWait >= 2
                    and (AttackNoCDAura or AttackingMob.Humanoid.Health == AMHealth)
                    if tick() - TimerWait >= 2 then 
                        local CurEWP = plr.Character:FindFirstChildOfClass("Tool")
                        plr.Character.Humanoid:UnequipTools()
                        wait()
                        plr.Character.Humanoid:EquipTool(CurEWP)
                        wait(.5)
                    end
                end
            end
        end
    end
]])()
--[[
 spawn(function()
        while wait(2) do
            local CurrentEquipWP = plr.Character:FindFirstChildOfClass("Tool")
            if CurrentEquipWP
            and CheckM1Weapon(CurrentEquipWP)
            and getgenv().noclip
            and not Settings.NoClip
            and not TweenPath then
                local Timer = tick()
                while plr.Character:FindFirstChildOfClass("Tool")
                and getgenv().noclip and not Settings.NoClip
                and not TweenPath do wait()
                    if tick() - Timer > 15 then
                        local v = plr.Character:FindFirstChildOfClass("Tool")
                        plr.Character.Humanoid:UnequipTools()
                        wait()
                        plr.Character.Humanoid:EquipTool(v)
                        break
                    end
                end
            end
        end
    end)
]]

function ClickM1()
    if not plr.Character:FindFirstChildOfClass("Tool") then return end
    if Settings.AttackNoCD
    and not getgenv().AntiLagSvKick then
        if not getgenv().AntiLagSvKick2 and not Settings.AttackAutoScale then
            getgenv().AntiLagSvKick2 = true
            delay(Settings.AttackDuration, function()
                getgenv().AntiLagSvKick = true
                local Timer = tick()
                repeat wait()
                until tick() - Timer >= Settings.AttackCooldown
                getgenv().AntiLagSvKick = false
            end)
            getgenv().AntiLagSvKick2 = false
        end
        pcall(AttackM1)
    else
        spawn(function()
            if AttackInCooldown then
                local Timer = tick()
                while getgenv().AttackInCooldown do wait()
                    if tick() - Timer > 5 then
                        getgenv().AttackInCooldown = false
                    end
                end
            else
                if tick() - TimerAttack > 3 and not Settings.AttackAutoScale then 
                    getgenv().AntiLagSvKick = false
                    getgenv().TimerAttack = tick()
                end
                getgenv().AttackInCooldown = true
                pcall(AttackM1)
                wait(.3)
                getgenv().AttackInCooldown = false
            end
        end)
    end
end
loadstring([[
    Mouse = plr:GetMouse()
    mt = getrawmetatable(game)
    old = mt.__index
    setreadonly(mt, false)
    mt.__index = newcclosure(function(a, b)
        if not checkcaller()
        and a == Mouse
        and b == "Hit" then
            if AimPos
            and (Settings.MasteryFarm or Settings.SilentAim or Settings.BountyFarm or Settings.SeaBeastFarm)
            and not game:GetService("UserInputService"):IsKeyDown(Enum.KeyCode.F) -- Flight Skills
            and not game:GetService("UserInputService"):IsKeyDown(Enum.KeyCode.R) -- Flash Step
            and not plr.Character.HumanoidRootPart:FindFirstChild("PounceRush") -- Godhuman Z
            and not plr.Character.HumanoidRootPart:FindFirstChild("ShadowGlide") -- Shadow Z
            then
                if AimPos.Y == 0 then return end
                return CFrame.new(AimPos.X, AimPos.Y, AimPos.Z)
            end
        end
        return old(a, b)
    end)
    setreadonly(mt, true)
]])()
--[[
    local mt = getrawmetatable(game)
    local old = mt.__namecall
    setreadonly(mt, false)
    mt.__namecall = function(self, ...)
        local args = {...}
        if getnamecallmethod() == "FireServer"
        and self.Name == "RemoteEvent" then
            if Settings.MasteryFarm
            and AimPos
            or Settings.SilentAim
            and AimPos then
                if typeof(args[1]) == "Vector3" then
                    args[1] = Vector3.new(AimPos.X, AimPos.Y, AimPos.Z)
                elseif typeof(args[1]) == "CFrame" then
                    args[1] = CFrame.new(AimPos.X, AimPos.Y, AimPos.Z)
                end
            end
        end
        return old(self, unpack(args))
    end

    Mouse = plr:GetMouse()
    mt = getrawmetatable(game)
    old = mt.__index
    setreadonly(mt, false)
    mt.__index = newcclosure(function(a, b)
        if not checkcaller()
        and a == Mouse
        and b == "Hit" then
            if Settings.SilentAim
            and AimPos then
                local WP = plr.Character:FindFirstChildOfClass("Tool")
                if WP and WP.ToolTip == "Gun"
                and getcallingscript() == WP:FindFirstChildOfClass("LocalScript") then
                    return CFrame.new(AimPos.X, AimPos.Y, AimPos.Z)
                end
            end
        end
        return old(a, b)
    end)
    setreadonly(mt, true)
]]
loadstring([[
    local connect
    local ListFunc = {}
    local old
    local connect2
    old = hookmetamethod(game,"__index", function(...) 
        if checkcaller() then return old(...) end
        if not connect then 
            connect=Instance.new("IntValue")
            connect.Changed:Connect(function(val)
                if val==100 then 
                    for k,v in pairs(ListFunc) do 
                        if not v.Done then 
                            spawn(function() 
                                local s,e = pcall(function() 
                                    v.Res = k()
                                end)
                                if e then print(e) end
                                v.tvk = true
                                connect2.Value=100
                                connect2.Value=0
                            end)
                            v.Done=true
                        end
                    end
                end 
            end)
        end
        return old(...)
    end)
    repeat wait() until connect
    getgenv().warpF2 = function(f) 
        if not connect2 then 
            connect2=Instance.new("IntValue")
        end
        ListFunc[f] = {}
        connect.Value=100
        connect.Value=0
        while not ListFunc[f].tvk do 
            connect2.Changed:Wait()
        end
        local res = ListFunc[f].Res
        ListFunc[f] = nil
        return res
    end
]])()
function ShootM1(v)
    local Pos, OnScreen = CurCam:WorldToViewportPoint(v.HumanoidRootPart.Position)
    if OnScreen then
        warpF2(function() 
            spawn(function()
                getconnections(game:GetService("UserInputService").TouchTapInWorld)[1].Function(Pos, false)
            end)
        end)
    end
end

local QuestNPCs = {}
for i, v in pairs(DialogueList) do
    if QuestPoses[v] then
        QuestNPCs[RemoteList[i]] = DialogueList[i]
    end
end

local Mobs = {}
local MobsName = {}
for i, x in pairs(require(game.ReplicatedStorage.Quests)) do
    for m, v in pairs(x) do
        for k, _ in pairs(v.Task) do
            if v.Task[k] > 1 and QuestNPCs[i] and v.LevelReq then
                a = v.Name
                if a:sub(#a, #a) == "s"
                and a:sub(#a - 1, #a) ~= "ss" then
                    b = a:sub(#a, #a)
                    a = a:gsub(b, "")
                end
                if game.PlaceId == 2753915549 
                and string.find(a, "Mil.") then
                    a = a:gsub("Mil.", "Military")
                end
                Mobs[a] = {
                    ["QNPC"] = QuestNPCs[i],
                    ["QPos"] = QuestPoses[QuestNPCs[i]],
                    ["QName"] = i,
                    ["QNumber"] = m,
                    ["QLevel"] = v.LevelReq,
                }
                if a == "God's Guard" then
                    Mobs[a].QPos = CFrame.new(-4721.5625, 845.2771606445312, -1952.377685546875)
                elseif a == "Wysper" then
                    Mobs[a].QPos = CFrame.new(-7860.703125, 5545.51904296875, -380.1561584472656)
                end
                table.insert(MobsName, a)
            end
        end
    end
end

local Bosses = {}
local BossesName = {}
for i, x in pairs(require(game.ReplicatedStorage.Quests)) do
    for m, v in pairs(x) do
        for k, _ in pairs(v.Task) do
            if v.Task[k] == 1 and QuestNPCs[i] and v.LevelReq then
                local d = v.Name
                if d == "Ice Admiral" then
                    d = "Awakened Ice Admiral"
                end
                Bosses[d] = {
                    ["QNPC"] = QuestNPCs[i],
                    ["QPos"] = QuestPoses[QuestNPCs[i]],
                    ["QName"] = i,
                    ["QNumber"] = m,
                    ["QLevel"] = v.LevelReq,
                }
                table.insert(BossesName, d)
            end
        end
    end
end
if game.PlaceId == 4442272183 then
    local ExtraBoss = {
        "Cursed Captain",
        "Don Swan"
    }
    for i, v in pairs(ExtraBoss) do
        Bosses[v] = {
            ["QLevel"] = math.huge,
        }
        table.insert(BossesName, v)
    end
end
function GetMobNameOnly(v)
    local mName = v:gsub(" %pLv. %d+%p", "")
    if string.find(mName, "Boss") then
        mName = mName:split(" \n")[1]
    end
    return mName
end
local EnemySpawns = {}
for i, v in ipairs(wOrigin.EnemySpawns:GetChildren()) do
    table.insert(EnemySpawns, v)
end
for i, v in pairs(getnilinstances()) do
    if v:IsA("Part") and string.find(v.Name, "Lv. ") then
        table.insert(EnemySpawns, v)
    end
end
function GetMidPoint(mob)
    local count = 0
    local vec
    local AllMobs = {}
    for i, v in ipairs(EnemySpawns) do
        if mob == GetMobNameOnly(v.Name) then
            table.insert(AllMobs, v)
        end
    end
    for i, v in pairs(AllMobs) do
        if vec == nil then
            vec = v.Position
            count = count + 1
        else
            vec = vec + v.Position
            count = count + 1
        end
    end
    vec = vec / count
    return vec
end
for i, v in pairs(Mobs) do
    Mobs[i].MPos = GetMidPoint(i)
end

local Title = Library.CreateMain({Title = 'Blox Fruits'})

local Page1 = Title.CreatePage({Page_Name = 'Main', Page_Title = 'Main Tab'})
local Section11 = Page1.CreateSection('Main Features')
local Codes = {
    "Sub2Fer999",
    "Enyu_is_Pro",
    "JCWK",
    "StarcodeHEO",
    "MagicBUS",
    "KittGaming",
    "Sub2CaptainMaui",
    "Sub2OfficialNoobie",
    "TheGreatAce",
    "Sub2NoobMaster123",
    "Sub2Daigrock",
    "Axiore",
    "StrawHatMaine",
    "TantaiGaming",
    "Bluxxy",
    "SUB2GAMERROBOT_EXP1"
}
Section11.CreateButton({Title = 'Redeem all EXP Codes'}, function()
	for i, v in pairs(Codes) do
        game.ReplicatedStorage.Remotes.Redeem:InvokeServer(v)
    end
end)
loadstring([[
    local PlaceID = game.PlaceId
    local AllIDs = {}
    local foundAnything = ""
    local actualHour = os.date("!*t").hour
    local Deleted = false
    local File = pcall(function()
        AllIDs = game:GetService('HttpService'):JSONDecode(readfile("NotSameServers.json"))
    end)
    if not File then
        table.insert(AllIDs, actualHour)
        writefile("NotSameServers.json", game:GetService('HttpService'):JSONEncode(AllIDs))
    end
    function TPReturner()
        local Site;
        if foundAnything == "" then
            Site = game.HttpService:JSONDecode(game:HttpGet('https://games.roblox.com/v1/games/' .. PlaceID .. '/servers/Public?sortOrder=Asc&limit=100'))
        else
            Site = game.HttpService:JSONDecode(game:HttpGet('https://games.roblox.com/v1/games/' .. PlaceID .. '/servers/Public?sortOrder=Asc&limit=100&cursor=' .. foundAnything))
        end
        local ID = ""
        if Site.nextPageCursor and Site.nextPageCursor ~= "null" and Site.nextPageCursor ~= nil then
            foundAnything = Site.nextPageCursor
        end
        local num = 0;
        for i,v in pairs(Site.data) do
            local Possible = true
            ID = tostring(v.id)
            if tonumber(v.maxPlayers) > tonumber(v.playing)
            and tonumber(v.playing) <= 2 then
                for _,Existing in pairs(AllIDs) do
                    if num ~= 0 then
                        if ID == tostring(Existing) then
                            Possible = false
                        end
                    else
                        if tonumber(actualHour) ~= tonumber(Existing) then
                            local delFile = pcall(function()
                                delfile("NotSameServers.json")
                                AllIDs = {}
                                table.insert(AllIDs, actualHour)
                            end)
                        end
                    end
                    num = num + 1
                end
                if Possible == true then
                    table.insert(AllIDs, ID)
                    wait()
                    pcall(function()
                        writefile("NotSameServers.json", game:GetService('HttpService'):JSONEncode(AllIDs))
                        wait()
                        game:GetService("TeleportService"):TeleportToPlaceInstance(PlaceID, ID, game.Players.LocalPlayer)
                    end)
                    wait(4)
                end
            end
        end
    end
    
    getgenv().TeleportLow = function()
        pcall(function()
            TPReturner()
            if foundAnything ~= "" then
                TPReturner()
            end
        end)
    end
]])()
loadstring([[
    local S = {}
    local HttpService = game:GetService("HttpService")
    local SaveFileName = "!BloxFruit_BlacklistServers.json"
    
    function SaveS()
        local HttpService = game:GetService("HttpService")
        if not isfolder("Sea Hub") then
            makefolder("Sea Hub")
        end
        writefile("Sea Hub/" .. SaveFileName, HttpService:JSONEncode(S))
    end
    
    function ReadS() 
        local s,e = pcall(function() 
            local HttpService = game:GetService("HttpService")
            if not isfolder("Sea Hub") then
                makefolder("Sea Hub")
            end
            return HttpService:JSONDecode(readfile("Sea Hub/" .. SaveFileName))
        end)
        if s then return e 
        else
            SaveS()
            return ReadS()
        end
    end
    S = ReadS()
    local function Hop(IgnoreRegion) 
        for i = 1, 100 do 
            local huhu = game:GetService("ReplicatedStorage").__ServerBrowser:InvokeServer(i)
            if huhu then
                for k,v in pairs(huhu) do 
                    if v.Count <= 11
                    and (IgnoreRegion
                    or not Settings.HopServerRegion
                    or Settings.HopServerRegion == "Random"
                    or string.find(v.Region, Settings.HopServerRegion)) then 
                        if not S[k] or tick() - S[k].Time > 60 * 60  then 
                            S = ReadS()
                            S[k] = {
                                Time = tick()
                            }
                            SaveS()
                           game:GetService("ReplicatedStorage").__ServerBrowser:InvokeServer("teleport",k)
                           return true
                        elseif tick() - S[k].Time > 60 * 60 then
                            S[k] = nil 
                        end
                    end
                end
            end
        end
        return false
    end 
    getgenv().Teleport = function(IgnoreRegion, HopLowServer) 
        local x = plr.Character:FindFirstChild("Chop Glitch Fix")
        if x then
            x:Destroy()
        end
        getgenv().Hopping = true
        if not getgenv().Loaded then 
            local function child(v)
                if v.Name == "ErrorPrompt" then 
                    if v.Visible then 
                        if v.TitleFrame.ErrorTitle.Text == "Teleport Failed" then 
                            Teleport()
                        end
                    end
                    v:GetPropertyChangedSignal("Visible"):Connect(function() 
                        if v.Visible then 
                            if v.TitleFrame.ErrorTitle.Text == "Teleport Failed" then 
                                Teleport()
                            end
                        end
                    end)
                end
            end
            for k, v in pairs(game.CoreGui.RobloxPromptGui.promptOverlay:GetChildren()) do 
                child(v)
            end
            game.CoreGui.RobloxPromptGui.promptOverlay.ChildAdded:Connect(child)
            getgenv().Loaded = true
        end
        while wait() do
            pcall(function()
                if not plr.PlayerGui.Main.InCombat.Visible and not DisableEquipItem then
                    if HopLowServer then
                        if not TeleportingLow then
                            getgenv().TeleportingLow = tick()
                        end
                        if tick() - TeleportingLow < 10 then
                            TeleportLow()
                        else
                            Hop(IgnoreRegion)
                        end
                    else
                        Hop(IgnoreRegion)
                    end
                end
            end)
        end
    end
]])()
function HopServer(IgnoreRegion, HopLowServer)
    if HopLowServer then
        Library.CreateNoti({Desc = "Hopping Low Player Server", ShowTime = 30})
    else
        Library.CreateNoti({Desc = "Hopping Server", ShowTime = 30})
    end
    Teleport(IgnoreRegion, HopLowServer)
end
Section11.CreateButton({Title = 'Hop Server'}, function()
    if #game.CoreGui["Sea Hub Notification"].NotiContainer:GetChildren() > 1 then
	    return HopServer()
    end
    Library.CreateNoti({Desc = "Press the Hop Server button again to Hop Server", ShowTime = 10})
end)
Section11.CreateButton({Title = 'Hop Server (Low Player)'}, function()
    if #game.CoreGui["Sea Hub Notification"].NotiContainer:GetChildren() > 1 then
	    return HopServer(nil, true)
    end
    Library.CreateNoti({Desc = "Press the Hop Server button again to Hop Server", ShowTime = 10})
end)
spawn(function()
    while wait(1) do
        pcall(function()
            if not Hopping then
                if game.CoreGui.RobloxPromptGui.promptOverlay:FindFirstChild("ErrorPrompt") then
                    if Settings.AutoRejoin then    
                        while wait() do
                            game:GetService("TeleportService"):Teleport(game.PlaceId, plr)
                            wait(10)
                        end
                    else
                        game:Shutdown()
                    end
                end
            end
        end)
    end
end)
AutoRejoinToggle = Section11.CreateToggle({Title = 'Auto Rejoin', Desc = "Auto Rejoin if got kicked\n(this doesn't work with Private Server)", Default = Settings.AutoRejoin}, function(v) 
    Settings.AutoRejoin = v
end)
local Section11 = Page1.CreateSection('Auto Chest')
loadstring([[
    getgenv().GetChests = function()
        for i, v in ipairs(game.workspace:GetChildren()) do
            if string.find(v.Name, "Chest")
            and v:IsA("Part") then
                table.insert(getgenv().Chests, v)
            end
        end
        for i, v in ipairs(game.workspace.Map:GetDescendants()) do
            if string.find(v.Name, "Chest")
            and v:IsA("Part") then
                table.insert(getgenv().Chests, v)
            end
        end
    end
]])()
getgenv().Chests = {}
AutoChestToggle = Section11.CreateToggle({Title = "Auto Chest", Desc = "Tween to collect chests\n(can use with Auto Farm features)", Default = Settings.AutoChest}, function(v)
    if Settings.AutoChest and not v then
        spawn(function()
            wait(.5)
            ForceStopTween(true)
        end)
    end
    getgenv().CollectedChest = 0
    Settings.AutoChest = v
end)
Section11.CreateToggle({Title = "Hop Server if no Chest", Desc = "Will Hop Server if current server out of chest", Default = Settings.ACHopServer}, function(v)
    Settings.ACHopServer = v
end)
if game.PlaceId ~= 2753915549 then
    getgenv().SafeZone = "Mansion"
    getgenv().WorldReward = "God's Chalice"
    if game.PlaceId == 4442272183 then
        getgenv().WorldReward = "Fist of Darkness"
        getgenv().SafeZone = "Cafe"
    end
    AC10ChestToggle = Section11.CreateToggle({Title = "Hop Server after collected 10 Chest", Desc = "Will Hop Server after collected 10 chest\n(for " .. WorldReward .. " farm)", Default = Settings.AC10Chest}, function(v)
        Settings.AC10Chest = v
    end)
    Section11.CreateToggle({Title = 'Disable if got ' .. WorldReward, Desc = 'Will not Hop Server / Stop collecting chest and tween to ' .. SafeZone .. ' if got ' .. WorldReward, Default = Settings.ACDisable}, function(v)
        Settings.ACDisable = v
    end)
end
local Section12 = Page1.CreateSection('Blox Fruit')
local BloxFruitList = {}
for i, v in pairs(CommF:InvokeServer("GetFruits")) do
    table.insert(BloxFruitList, v.Name)
end
getgenv().SelectedSnipeBloxFruit = {}
if not Settings.SnipeBloxFruit then
    Settings.SnipeBloxFruit = {}
    for i, v in pairs(BloxFruitList) do
        Settings.SnipeBloxFruit[v] = false
    end
else
    local BloxFruitLCheck = {}
    for i, v in pairs(Settings.SnipeBloxFruit) do
        if v then
            table.insert(getgenv().SelectedSnipeBloxFruit, i)
        end
        table.insert(BloxFruitLCheck, i)
    end
    for i, v in pairs(BloxFruitList) do
        if not table.find(BloxFruitLCheck, v) then
            Settings.SnipeBloxFruit[v] = false
        end
    end
end
if CuttayAccountFarm and CuttayAccountFarm["Blox Fruit Sniper"] then
    for i, v in pairs(CuttayAccountFarm["Blox Fruit Sniper"]) do
        if table.find(BloxFruitList, v) then
            Settings.SnipeBloxFruit[v] = true
            table.insert(getgenv().SelectedSnipeBloxFruit, i)
        end
    end
end
function CheckPermBF(i)
    for _, v in pairs(CommF:InvokeServer("GetFruits")) do
        if i == v.Name
        and v.HasPermanent then
            return true
        end
    end
end
SelectSnipeBFDropdown = Section12.CreateDropdown({Title = 'Select Snipe Blox Fruit', List = Settings.SnipeBloxFruit, Selected = true, Search = true}, function(i, v)
    if i then
        if v and CheckPermBF(i) then
            Library.CreateNoti({Desc = "You already has permanent " .. i, ShowTime = 5})
            spawn(function()
                wait()
                Settings.SnipeBloxFruit[i] = false
                if SelectSnipeBFDropdown then
                    SelectSnipeBFDropdown:GetNewList(Settings.SnipeBloxFruit)
                end
            end)
        elseif v and tostring(plr.Data.DevilFruit.Value) == i then
            Library.CreateNoti({Desc = "You currently equipped " .. i, ShowTime = 5})
            spawn(function()
                wait()
                Settings.SnipeBloxFruit[i] = false
                if SelectSnipeBFDropdown then
                    SelectSnipeBFDropdown:GetNewList(Settings.SnipeBloxFruit)
                end
            end)
        else
            Settings.SnipeBloxFruit[i] = v
            if v and not table.find(SelectedSnipeBloxFruit, i) then
                table.insert(getgenv().SelectedSnipeBloxFruit, i)
            elseif not v and table.find(SelectedSnipeBloxFruit, i) then
                table.remove(getgenv().SelectedSnipeBloxFruit, table.find(SelectedSnipeBloxFruit, i))
            end
        end
    end
end)
spawn(function()
    while wait(1) do
        pcall(function()
            if Settings.BFDealerSniper then
                if table.find(SelectedSnipeBloxFruit, tostring(plr.Data.DevilFruit.Value)) then
                    if BFDealerSniperToggle then BFDealerSniperToggle.SetStage(false) end
                    return Library.CreateNoti({Desc = "Already own " .. tostring(plr.Data.DevilFruit.Value), ShowTime = 5})
                end
                local FruitPrio = CommF:InvokeServer("GetFruits")
                table.sort(FruitPrio, function(a, b)
                    return a.Price > b.Price
                end)
                for i, v in pairs(FruitPrio) do
                    if v.OnSale
                    and table.find(SelectedSnipeBloxFruit, v.Name) then
                        local CurBF = plr.Data.DevilFruit.Value
                        CommF:InvokeServer("GetFruits")
                        CommF:InvokeServer("PurchaseRawFruit", v.Name)
                        wait(2)
                        if CurBF ~= plr.Data.DevilFruit.Value then
                            if Settings.BFBSDWebhook then
                                SendWebHook({
                                    ["content"] = "@everyone",
                                    ["embeds"] = {{
                                        ["title"] = "Blox Fruits",
                                        ["type"] = "rich",
                                        ["color"] = tonumber(0xbdce44),
                                        ["fields"] = {
                                            {
                                                ["name"] = "Name",
                                                ["value"] = "||" .. plr.Name .. "||",
                                                ["inline"] = false
                                            },
                                            {
                                                ["name"] = "Blox Fruit Dealer Sniper",
                                                ["value"] = "Bought " .. v.Name,
                                                ["inline"] = false
                                            }
                                        },
                                        ["footer"] = {
                                            ["icon_url"] = "https://cdn.discordapp.com/attachments/832985237638086660/843786018892939284/turtle.png",
                                            ["text"] = "Sea Hub (" .. os.date("%X") .. ")"
                                        }
                                    }}
                                })
                            end
                            if BFDealerSniperToggle then BFDealerSniperToggle.SetStage(false) end
                            Library.CreateNoti({Desc = "Bought " .. v.Name, ShowTime = 5})
                            break
                        end
                    end
                end
                wait(10)
            end
        end)
    end
end)
BFDealerSniperToggle = Section12.CreateToggle({Title = 'Blox Fruit Dealer Sniper', Desc = "Auto buy selected Blox Fruit when on stock\n(will prioritize purchase highest value Fruit)", Default = Settings.BFDealerSniper}, function(v) 
    if v and not #SelectedSnipeBloxFruit == 0 then
        if BFDealerSniperToggle then BFDealerSniperToggle.SetStage(false) end
        return Library.CreateNoti({Desc = "Please select a Blox Fruit you want to snipe", ShowTime = 5})
    end
    Settings.BFDealerSniper = v
end)
function GetStoreBF(path)
    for i, v in ipairs(path:GetChildren()) do
        if string.find(v.Name, " Fruit")
        and not v:FindFirstChild("Ignored") then
            return v
        end
    end
end
function FruitNameToFF(v)
    v = v:gsub(" Fruit", "")
    if string.find(v, ":") then
        local x = v:split(":")
        v = x[1] .. "-" .. x[1] .. ":" .. x[2]
    else
        v = v .. "-" .. v
    end
    return v
end
function GetDropBF(path)
    for i, v in ipairs(path:GetChildren()) do
        if string.find(v.Name, " Fruit")
        and v:FindFirstChild("Ignored")
        and not v:FindFirstChild("CantDrop") then
            return v
        end
    end
end
function GetNearestLocation(x)
    local Dist = math.huge
    local NearestSpawn
    for i, v in ipairs(wOrigin.Locations:GetChildren()) do
        local Mag
        if x then
            Mag = (x - v.Position).magnitude
        else
            Mag = plr:DistanceFromCharacter(v.Position)
        end
        if Mag < Dist then
            Dist = Mag
            NearestSpawn = v
        end
    end
    return NearestSpawn.Name
end
spawn(function()
    while wait(1) do
        pcall(function()
            if Settings.AutoStoreBF
            and not DisableAutoStore then
                local v = GetStoreBF(plr.Character) or GetStoreBF(plr.Backpack)
                if v then
                    getgenv().DisableEquipItem = true
                    repeat wait()
                        plr.Character.Humanoid:EquipTool(v)
                    until v.Parent == plr.Character
                    or not Settings.AutoStoreBF
                    if Settings.AutoStoreBF then
                        local FruitName = FruitNameToFF(v.Name)
                        local StoreBF = CommF:InvokeServer("StoreFruit", FruitName, v)
                        if StoreBF then
                            Library.CreateNoti({Desc = "Stored Blox Fruit " .. FruitName, ShowTime = 5})
                            if Settings.BFBSDWebhook then
                                local PingEvery1 = ""
                                if table.find(OneMilFruits, v.Name) then
                                    PingEvery1 = "@everyone"
                                end
                                SendWebHook({
                                    ["content"] = PingEvery1,
                                    ["embeds"] = {{
                                        ["title"] = "Blox Fruits",
                                        ["type"] = "rich",
                                        ["color"] = tonumber(0xbdce44),
                                        ["fields"] = {
                                            {
                                                ["name"] = "Name",
                                                ["value"] = "||" .. plr.Name .. "||",
                                                ["inline"] = false
                                            },
                                            {
                                                ["name"] = "Auto Store Blox Fruit",
                                                ["value"] = "Stored " .. v.Name,
                                                ["inline"] = false
                                            }
                                        },
                                        ["footer"] = {
                                            ["icon_url"] = "https://cdn.discordapp.com/attachments/832985237638086660/843786018892939284/turtle.png",
                                            ["text"] = "Sea Hub (" .. os.date("%X") .. ")"
                                        }
                                    }}
                                })
                            end
                        else
                            Library.CreateNoti({Desc = "Maxed amount to store Blox Fruit " .. FruitName, ShowTime = 5})
                            plr.Character.Humanoid:UnequipTools()
                            local Ignored = Instance.new("IntValue", v)
                            Ignored.Name = "Ignored"
                        end
                    end
                else
                    if Settings.DropIfMaxed then
                        local v = GetDropBF(plr.Character) or GetDropBF(plr.Backpack)
                        if v then
                            getgenv().DisableEquipItem = true
                            repeat wait()
                                plr.Character.Humanoid:EquipTool(v)
                            until v.Parent == plr.Character
                            or not Settings.DropIfMaxed
                            if Settings.DropIfMaxed then
                                local plrPos = plr.Character.HumanoidRootPart.Position
                                plr.Character.HumanoidRootPart.CFrame = CFrame.new(plrPos.X, plrPos.Y, plrPos.Z)
                                local DropBF = v.EatRemote:InvokeServer("Drop")
                                if DropBF then
                                    Library.CreateNoti({Desc = "Dropped Blox Fruit " .. v.Name, ShowTime = 5})
                                    if Settings.BFBSDWebhook then
                                        local PingEvery1 = ""
                                        if table.find(OneMilFruits, v.Name) then
                                            PingEvery1 = "@everyone"
                                        end
                                        SendWebHook({
                                            ["content"] = PingEvery1,
                                            ["embeds"] = {{
                                                ["title"] = "Blox Fruits",
                                                ["type"] = "rich",
                                                ["color"] = tonumber(0xbdce44),
                                                ["fields"] = {
                                                    {
                                                        ["name"] = "Name",
                                                        ["value"] = "||" .. plr.Name .. "||",
                                                        ["inline"] = false
                                                    },
                                                    {
                                                        ["name"] = "Drop if Maxed",
                                                        ["value"] = "Dropped " .. v.Name
                                                        .. "\nAt (near): " .. GetNearestLocation(),
                                                        ["inline"] = false
                                                    }
                                                },
                                                ["footer"] = {
                                                    ["icon_url"] = "https://cdn.discordapp.com/attachments/832985237638086660/843786018892939284/turtle.png",
                                                    ["text"] = "Sea Hub (" .. os.date("%X") .. ")"
                                                }
                                            }}
                                        })
                                    end
                                else
                                    Library.CreateNoti({Desc = "Can't dropped Treasure Inventory Blox Fruit\n(" .. v.Name .. ")", ShowTime = 5})
                                    local CantDrop = Instance.new("IntValue", v)
                                    CantDrop.Name = "CantDrop"
                                end
                            end
                        else
                            getgenv().DisableEquipItem = false
                        end
                    else
                        getgenv().DisableEquipItem = false
                    end
                end
            end
        end)
    end
end)
AutoStoreBFToggle = Section12.CreateToggle({Title = 'Auto Store Blox Fruit', Desc = "Auto Store Blox Fruit in Inventory to Treasure Inventory", Default = Settings.AutoStoreBF}, function(v) 
    if Settings.AutoStoreBF and not v then
       spawn(function()
            wait(.5)
            getgenv().DisableEquipItem = false   
        end)
    end
    Settings.AutoStoreBF = v
end)
Section12.CreateToggle({Title = 'Drop if Maxed', Desc = "Will drop the Blox Fruit underground place you standing if maxed stored Blox Fruit amount\n(enable with Auto Store Blox Fruit)", Default = Settings.DropIfMaxed}, function(v) 
    if Settings.DropIfMaxed and not v then
        spawn(function()
             wait(.5)
             getgenv().DisableEquipItem = false   
         end)
     end
    Settings.DropIfMaxed = v
end)
local Section12 = Page1.CreateSection('Blox Fruit Farm')
function GetDroppedFruit()
    local StoredFruits = {}
    if Settings.NPIII then
        for i, v in pairs(getupvalue(require(plr.PlayerGui.Main.UIController.Inventory).UpdateRender, 4)) do
            if v.details and v.details.Type == "Blox Fruit" then
                table.insert(StoredFruits, v.details.Name)
            end
        end
    end
    local Dist = math.huge
    local Fruit
    for i, v in pairs(game.workspace:GetChildren()) do
        if v:IsA("Tool")
        and not v:FindFirstChild("Ignored")
        and v:FindFirstChild("TouchInterest", true) then
            local FruitName = FruitNameToFF(v.Name)
            local x = v:FindFirstChild("TouchInterest", true)
            if x
            and not table.find(StoredFruits, FruitName) then
                local Mag = plr:DistanceFromCharacter(x.Parent.Position)
                if Mag < Dist then
                    Dist = Mag
                    Fruit = x.Parent
                end
            else
                local Ignored = Instance.new("IntValue", v)
                Ignored.Name = "Ignored"
            end
        end
    end
    return Fruit
end
TweenBFToggle = Section12.CreateToggle({Title = 'Tween Blox Fruit', Desc = "Tween to dropped Blox Fruits by Players", Default = Settings.TweenBF}, function(v) 
    if Settings.TweenBF and not v then
        spawn(function()
            wait(.5)
            ForceStopTween(true)
        end)
    end
    Settings.TweenBF = v
end)
TweenNBFToggle = Section12.CreateToggle({Title = 'Tween Natural Blox Fruit', Desc = "Work same as Tween Blox Fruit but for natural spawned Blox Fruits", Default = Settings.TweenNBF}, function(v) 
    if Settings.TweenNBF and not v then
        spawn(function()
            wait(.5)
            ForceStopTween(true)
        end)
    end
    Settings.TweenNBF = v
end)
NPIIIToggle = Section12.CreateToggle({Title = 'No pickup if in Inventory', Default = Settings.NPIII, Desc = 'Will not pickup the dropped fruit / natural fruit if that fruit already'}, function(v)
    Settings.NPIII = v
end)
BTDFHopServerToggle = Section12.CreateToggle({Title = 'Hop Server if no Fruit', Default = Settings.BTDFHopServer, Desc = 'Will Hop Server if no dropped fruit / natural fruit in current server\n(enable with Auto Store Blox Fruit / stay at Mansion)'}, function(v)
    Settings.BTDFHopServer = v
end)
local Section13 = Page1.CreateSection('Visual')
function GetPlayer()
	local player
	for i, v in ipairs(game.Players:GetChildren()) do
		if v.Name ~= plr.Name
        and v.Character
		and v.Character:FindFirstChild("HumanoidRootPart")
		and not v.Character.HumanoidRootPart:FindFirstChild("Ignored") then
			player = v.Character
		end
	end
	return player
end
function IsMobAlive(v)
    if v and v.Parent
    and v:FindFirstChild("Humanoid")
    and pcall(function() return v.Humanoid.Health end)
    and v.Humanoid.Health ~= 0
    and v:FindFirstChild("HumanoidRootPart")
    and v.HumanoidRootPart.Position.Y > -100 then
        return true
    end
end
spawn(function()
    while wait(1) do
		pcall(function()
            if Settings.PlayerESP then
                local v = GetPlayer()
                if v then
                    local Ignored = Instance.new("IntValue", v.HumanoidRootPart)
                    Ignored.Name = "Ignored"
                    local Text = Drawing.new("Text")
                    Text.Visible = false
                    Text.Transparency = 1
                    Text.Text = v.Name
                    Text.Color = game.Players[v.Name].TeamColor.Color
                    Text.Size = 20
                    Text.Outline = true
                    Text.OutlineColor = Color3.fromRGB(0, 0, 0)
                    Text.Center = true
                    Text.Font = 1
                    spawn(function()
                        repeat wait()
                            if v:FindFirstChild("HumanoidRootPart") then
                                local Pos, OnScreen = CurCam:WorldToViewportPoint(v.HumanoidRootPart.Position)
                                if OnScreen then
                                    Text.Text = v.Name .. " (" .. math.round(plr:DistanceFromCharacter(v.HumanoidRootPart.Position)) .. ")"
                                    Text.Position = Vector2.new(Pos.X, Pos.Y - 20)
                                    Text.Visible = true
                                    if Targeting
                                    and Settings.SilentAim
                                    and v.Name == Targeting then
                                        Text.Color = Color3.fromRGB(130, 0, 255)
                                    elseif game.Players:FindFirstChild(v.Name) then
                                        Text.Color = game.Players[v.Name].TeamColor.Color
                                    end
                                else
                                    Text.Visible = false
                                end
                            end
                        until not v or not v.Parent or not game.Players:FindFirstChild(v.Name)
                        or not IsMobAlive(v)
                        or not Settings.PlayerESP
                        Text:Remove()
                        if v then
                            Ignored:Destroy()
                        end
                    end)
                end
            end
		end)
	end
end)
Section13.CreateToggle({Title = 'Player ESP', Default = Settings.PlayerESP, Desc = 'Will show ESP on Players'}, function(v)
	Settings.PlayerESP = v
end)
function GetBloxFruit()
    for i, v in ipairs(game.workspace:GetChildren()) do
        if string.find(v.Name, "Fruit") and not v:FindFirstChild("ESP_Ignored") then
            return v
        end
    end
end
function child_stringfind(child, string, mob, childreturn)
    if not child or not string then return end
    local target
    if not childreturn then
        target = 0
    end
    for i, v in ipairs(child:GetChildren()) do
        if not mob and string.find(v.Name, string)
        or mob and GetMobNameOnly(v.Name) == string
        and (child.Name == "ReplicatedStorage" or IsMobAlive(v)) then
            if mob
            and not childreturn then
                target = target + 1
            else
                target = v
            end
        end
    end
    return target
end
--[[
function FruitNameToFF(v)
    v = v:gsub(" Fruit", "")
    if string.find(v, ":") then
        local x = v:split(":")
        v = x[1] .. "-" .. x[1] .. ":" .. x[2]
    else
        v = v .. "-" .. v
    end
    return v
end
for i, v in pairs(plr.Backpack:GetChildren()) do
    if string.find(v.Name, " Fruit") then
        a = ""
        for _, x in pairs(v:GetDescendants()) do
            if x:IsA("MeshPart") and x.Name == "Fruit" then 
                a = '["' .. x.MeshId .. '"] = "' .. v.Name .. '",'
            end
        end
        setclipboard(a)
        local FruitName = FruitNameToFF(v.Name)
        game.ReplicatedStorage.Remotes.CommF_:InvokeServer("StoreFruit", FruitName, v)
    end
end
]]
local MeshList = {
    ["https://assetdelivery.roblox.com/v1/asset/?id=10445043756"] = "Leopard Fruit",
    ["https://assetdelivery.roblox.com/v1/asset/?id=10537896371"] = "Dragon Fruit",
    ["https://assetdelivery.roblox.com/v1/asset/?id=10056654383"] = "Control Fruit",
    ["https://assetdelivery.roblox.com/v1/asset/?id=10395893751"] = "Venom Fruit",
    ["rbxassetid://9425457162"] = "Shadow Fruit",
    ["https://assetdelivery.roblox.com/v1/asset/?id=9563214715"] = "Dough Fruit",
    ["https://assetdelivery.roblox.com/v1/asset/?id=10774284002"] = "Gravity Fruit",
    ["rbxassetid://10056526019"] = "Paw Fruit",
    ["rbxassetid://10444385994"] = "Rumble Fruit",
    ["https://assetdelivery.roblox.com/v1/asset/?id=9494083159"] = "Bird: Phoenix Fruit",
    ["https://assetdelivery.roblox.com/v1/asset/?id=10142079335"] = "String Fruit",
    ["rbxassetid://9371699342"] = "Human: Buddha Fruit",
    ["rbxassetid://9470879314"] = "Quake Fruit",
    ["rbxassetid://9285667997"] = "Magma Fruit",
    ["rbxassetid://10056781097"] = "Barrier Fruit",
    ["rbxassetid://9425346075"] = "Love Fruit",
    ["rbxassetid://10575195856"] = "Light Fruit",
    ["rbxassetid://10056754334"] = "Diamond Fruit",
    ["rbxassetid://10142225958"] = "Revive Fruit",
    ["rbxassetid://9656045127"] = "Dark Fruit",
    ["rbxassetid://9450245974"] = "Sand Fruit",
    ["rbxassetid://9346383748"] = "Ice Fruit",
    ["rbxassetid://9425207048"] = "Bird: Falcon Fruit",
    ["rbxassetid://10142175929"] = "Flame Fruit",
    ["rbxassetid://9307776737"] = "Spike Fruit",
    ["rbxassetid://9307787860"] = "Smoke Fruit",
    ["rbxassetid://9307783318"] = "Bomb Fruit",
    ["rbxassetid://10057133900"] = "Spring Fruit",
    ["rbxassetid://10119881213"] = "Chop Fruit",
    ["rbxassetid://9307796569"] = "Spin Fruit",
    ["rbxassetid://9308099037"] = "Kilo Fruit",
}
function GetFruitName(v, spawnmark)
    if not v:IsA("Model") then return v.Name end
    local FruitName = "Fruit"
    local MeshId
    for i, v in pairs(v:GetDescendants()) do
        if v:IsA("MeshPart") and v.Name == "Fruit" then
            MeshId = v.MeshId
        end
    end
    if MeshId then
        for i, v in pairs(MeshList) do
            if i == MeshId then
                FruitName = v
            end
        end
    end
    if FruitName == "Fruit" then
        local vF = v:FindFirstChild("Fruit")
        if vF then
            if vF:FindFirstChild("Retopo_Cube.001") then
                FruitName = "Spirit Fruit"
            elseif vF:FindFirstChild("Gravity cube.026") then
                FruitName = "Portal Fruit"
            elseif vF:FindFirstChild("Cube.011") then
                FruitName = "Rubber Fruit" 
            end
        end
    end
    if spawnmark then
        FruitName = FruitName .. " [S]"
    end
    return FruitName
end
spawn(function()
    while wait(1) do
		pcall(function()
            if Settings.BloxFruitESP then
                local v = GetBloxFruit()
                if v then   
                    local FruitRoot = v:FindFirstChild("Handle") or v:FindFirstChild("Fruit")
                    if FruitRoot:IsA("Model") then
                        FruitRoot = FruitRoot:FindFirstChild("RootPart")
                    end
                    local Ignored = Instance.new("IntValue", v)
                    Ignored.Name = "ESP_Ignored"
                    local Text = Drawing.new("Text")
                    Text.Visible = false
                    Text.Transparency = 1
                    Text.Text = v.Name
                    Text.Color = Color3.fromRGB(240, 240, 240)
                    Text.Size = 25
                    Text.Outline = true
                    Text.OutlineColor = Color3.fromRGB(0, 0, 0)
                    Text.Center = true
                    Text.Font = 1
                    spawn(function()
                        repeat wait()
                            local Pos, OnScreen = CurCam:WorldToViewportPoint(FruitRoot.Position)
                            if OnScreen then
                                Text.Text = GetFruitName(v, true) .. " (" .. math.round(plr:DistanceFromCharacter(FruitRoot.Position)) .. ")"
                                Text.Position = Vector2.new(Pos.X, Pos.Y - 20)
                                Text.Visible = true
                            else
                                Text.Visible = false
                            end
                        until not v or not v.Parent or v.Parent ~= game.workspace
                        or not Settings.BloxFruitESP
                        Text:Remove()
                        if v then
                            Ignored:Destroy()
                        end
                    end)
                end
            end
		end)
	end
end)
Section13.CreateToggle({Title = 'Blox Fruit ESP', Default = Settings.BloxFruitESP, Desc = 'Will show ESP on Blox Fruits'}, function(v)
	Settings.BloxFruitESP = v
end)
function GetChest()
    for i, v in ipairs(game.workspace:GetChildren()) do
        if string.find(v.Name, "Chest")
        and not v:FindFirstChild("Ignored")
        and v:IsA("Part") then
            return v
        end
    end
    for i, v in ipairs(game.workspace.Map:GetDescendants()) do
        if string.find(v.Name, "Chest")
        and not v:FindFirstChild("Ignored")
        and v:IsA("Part") then
            return v
        end
    end
end
function CreateChestESP(v)
    local Ignored = Instance.new("IntValue", v)
    Ignored.Name = "Ignored"
    local Text = Drawing.new("Text")
    Text.Visible = false
    Text.Transparency = 1
    Text.Text = v.Name
    Text.Color = Color3.fromRGB(237, 197, 64)
    Text.Size = 21
    Text.Outline = true
    Text.OutlineColor = Color3.fromRGB(0, 0, 0)
    Text.Center = true
    Text.Font = 1
    spawn(function()
        repeat wait()
            local Pos, OnScreen = CurCam:WorldToViewportPoint(v.Position)
            if OnScreen then
                Text.Text = v.Name .. " (" .. math.round(plr:DistanceFromCharacter(v.Position)) .. ")"
                Text.Position = Vector2.new(Pos.X, Pos.Y - 20)
                Text.Visible = true
            else
                Text.Visible = false
            end
        until not v or not v.Parent
        or not Settings.ChestESP
        Text:Remove()
        if v then
            Ignored:Destroy()
        end
    end)
end
spawn(function()
    while wait(10) do
		pcall(function()
            if Settings.ChestESP then
                local v = GetChest()
                if v then
                    CreateChestESP(v)
                end
            end
		end)
	end
end)
Section13.CreateToggle({Title = 'Chest ESP', Default = Settings.ChestESP, Desc = 'Will show ESP on Chests'}, function(v)
    if v then
        spawn(function()
            for i, v in ipairs(game.workspace:GetChildren()) do
                if string.find(v.Name, "Chest")
                and not v:FindFirstChild("Ignored")
                and v:IsA("Part") then
                    CreateChestESP(v)
                end
            end
            for i, v in ipairs(game.workspace.Map:GetDescendants()) do
                if string.find(v.Name, "Chest")
                and not v:FindFirstChild("Ignored")
                and v:IsA("Part") then
                    CreateChestESP(v)
                end
            end
        end)
    end
	Settings.ChestESP = v
end)
if game.PlaceId == 4442272183 then
    function GetFlower()
        for i, v in ipairs(game.workspace:GetChildren()) do
            if string.find(v.Name, "Flower") and not v:FindFirstChild("ESP_Ignored") then
                return v
            end
        end
    end
    spawn(function()
        while wait(1) do
            pcall(function()
                if Settings.FlowerESP then
                    local v = GetFlower()
                    if v then
                        local Ignored = Instance.new("IntValue", v)
                        Ignored.Name = "ESP_Ignored"
                        local Text = Drawing.new("Text")
                        Text.Visible = false
                        Text.Transparency = 1
                        Text.Size = 25
                        Text.Outline = true
                        Text.OutlineColor = Color3.fromRGB(0, 0, 0)
                        Text.Center = true
                        Text.Font = 1
                        local TText
                        if v.Color == Color3.fromRGB(33, 84, 185) then
                            TText = "Blue Flower"
                            Text.Color = Color3.fromRGB(33, 84, 185)
                        elseif v.Color == Color3.fromRGB(163, 75, 75) then
                            TText = "Red Flower"
                            Text.Color = Color3.fromRGB(163, 75, 75)
                        end
                        Text.Text = TText
                        spawn(function()
                            repeat wait()
                                local Pos, OnScreen = CurCam:WorldToViewportPoint(v.Position)
                                if OnScreen then
                                    Text.Text = TText .. " (" .. math.round(plr:DistanceFromCharacter(v.Position)) .. ")"
                                    Text.Position = Vector2.new(Pos.X, Pos.Y - 20)
                                    Text.Visible = true
                                else
                                    Text.Visible = false
                                end
                            until not v or not v.Parent
                            or not Settings.FlowerESP
                            Text:Remove()
                            if v then
                                Ignored:Destroy()
                            end
                        end)
                    end
                end
            end)
        end
    end)
    Section13.CreateToggle({Title = 'Flower ESP', Default = Settings.FlowerESP, Desc = 'Will show ESP on Flower (for Race v2 quest)'}, function(v)
        Settings.FlowerESP = v
    end)
end
local Locations
if game.PlaceId == 2753915549 then
    Locations = {
        {Name = "Starter Pirate", Pos = CFrame.new(997.435, 17, 1427.503)},
        {Name = "Starter Marine", Pos = CFrame.new(-2587.954, 7, 2045.833)},
        {Name = "Jungle", Pos = CFrame.new(-1326.712, 12, 491.887)},
        {Name = "Pirate Village", Pos = CFrame.new(-1186.582, 5, 3806.41)},
        {Name = "Desert", Pos = CFrame.new(895.113, 4, 4110.854)},
        {Name = "Frozen Village", Pos = CFrame.new(1110.143, 8, -1158.728)},
        {Name = "Marine Fortress", Pos = CFrame.new(-4906.562, 42, 4423.417)},
        {Name = "Skylands", Pos = CFrame.new(-4933.48, 718, -2615.348)},
        {Name = "Prison", Pos = CFrame.new(4846.092, 6, 733.926)}, 
        {Name = "Colosseum", Pos = CFrame.new(-1433.266, 8, -2808.647)},
        {Name = "Magma Village", Pos = CFrame.new(-5234.838, 9, 8445.013)},
        {Name = "Underwater City Entrance", Pos = CFrame.new(3872.264, 6, -1904.515), InstantTP = true},
        {Name = "Underwater City", Pos = CFrame.new(61163.8515625, 5.333106994628906, 1819.7841796875), InstantTP = true},
        {Name = "Skylands 2 Entrance", Pos = CFrame.new(-4607.82275390625, 872.5682983398438, -1667.556884765625), InstantTP = true},
        {Name = "Skylands 2 First", Pos = CFrame.new(-7894.61767578125, 5545.51904296875, -380.29119873046875), InstantTP = true},
        {Name = "Skylands 2 Second", Pos = CFrame.new(-7755.484, 5607, -1322.732)},
        {Name = "Fountain City", Pos = CFrame.new(5198.073, 39, 4114.87)},
        {Name = "Middle Town", Pos = CFrame.new(-711.315, 8, 1650.729)},
    }
elseif game.PlaceId == 4442272183 then
    Locations = {
        {Name = "Kingdom of Rose 1", Pos = CFrame.new(-392.257, 74, 1838.246)},
        {Name = "Kingdom of Rose 2", Pos = CFrame.new(585.803, 74, 919.134)},
        {Name = "Green Zone", Pos = CFrame.new(-2253.962, 74, -2685.214)},
        {Name = "Graveyard Island", Pos = CFrame.new(-5374.564, 10, -710.854)},
        {Name = "Snow Mountain", Pos = CFrame.new(438.361, 402, -5340.461)},
        {Name = "Half Cold", Pos = CFrame.new(-5891.036, 16, -5004.396)},
        {Name = "Half Hot", Pos = CFrame.new(-5467.585, 16, -5114.366)},
        {Name = "Cursed Ship Entrance", Pos = CFrame.new(-6508.55810546875, 83.21284484863281, -132.83953857421875), InstantTP = true},
        {Name = "Cursed Ship", Pos = CFrame.new(921.777, 126, 32859.688), InstantTP = true},
        {Name = "Ice Castle", Pos = CFrame.new(5550.848, 28.226, -6138.585)},
        {Name = "Forgotten Island", Pos = CFrame.new(-3041.354, 237, -10159.917)},
        {Name = "Dock", Pos = CFrame.new(-12.024, 30, 2768.837)},
        {Name = "Cafe", Pos = CFrame.new(-380.411, 74, 303.237)},
        {Name = "Factory", Pos = CFrame.new(428.505, 212, -429.62)},
        {Name = "???", Pos = CFrame.new(-2058.603, 126, -82.654)},
        {Name = "Colosseum", Pos = CFrame.new(-1836.411, 46, 1360.237)},
        {Name = "Mansion", Pos = CFrame.new(-391.738, 323, 782.886)}, 
        {Name = "Swan's Room", Pos = CFrame.new(2284.912109375, 15.15204906463623, 905.48291015625), InstantTP = true},
        {Name = "Dark Arena", Pos = CFrame.new(3750.262, 15, -3496.829)},
        {Name = "Raid Room", Pos = CFrame.new(-6517.805, 251, -4478.612)},
        {Name = "Law Raid Room", Pos = CFrame.new(-5552.231, 330, -5924.368)},
        {Name = "Usoapp Island", Pos = CFrame.new(4740.789, 8, 2897.414)},
    }
elseif game.PlaceId == 7449423635 then
    Locations = {
        {Name = "Port Town", Pos = CFrame.new(-288.28762817383, 29.447841644287, 5396.0268554688)},
        {Name = "Friendly Arena", Pos = CFrame.new(4671.3901367188, 51.488090515137, -1448.5268554688)},
        {Name = "Hydra Island (Under)", Pos = CFrame.new(3490.2419433594, 51.377799987793, 1617.46875)},
        {Name = "Hydra Island (Above)", Pos = CFrame.new(5768.31982421875, 610.4500122070312, -210.5147705078125), InstantTP = true},
        {Name = "Great Tree", Pos = CFrame.new(2234.2048339844, 25.88773727417, -6427.1098632813)},
        {Name = "Castle on the Sea", Pos = CFrame.new(-5056.90966796875, 314.5413818359375, -3156.484130859375), InstantTP = true},
        {Name = "Mansion", Pos = CFrame.new(-12464.21484375, 374.9403381347656, -7531.00341796875), InstantTP = true},
        {Name = "Floating Turtle", Pos = CFrame.new(-11343.61328125, 331.75823974609, -10407.4453125)},
        {Name = "Yama Room", Pos = CFrame.new(5226.8344726563, 5.2873110771179, 1072.3922119141)},
        {Name = "Haunted Castle", Pos = CFrame.new(-9506.11, 141.181, 5526.04)},
        {Name = "Sea of Treats 1", Pos = CFrame.new(-2082.1982421875, 38.139175415039, -10199.189453125)},
        {Name = "Sea of Treats 2", Pos = CFrame.new(-904.98992919922, 58.980766296387, -10879.041992188)},
        {Name = "Sea of Treats 3", Pos = CFrame.new(-1927.7567138671875, 37.82396697998047, -11808.140625)},
        {Name = "Sea of Treats 4", Pos = CFrame.new(186.59783935546875, 24.760190963745117, -12098.7099609375)},
        {Name = "Candy Cane", Pos = CFrame.new(-1046.3201904296875, 14.821266174316406, -14165.2978515625)},
    }
end
Section13.CreateToggle({Title = 'Locations ESP', Default = Settings.LocationsESP, Desc = 'Will show ESP on Locations / Islands'}, function(x)
	spawn(function()
        if x then
            for i, v in pairs(Locations) do
                local Text = Drawing.new("Text")
                Text.Visible = false
                Text.Transparency = 1
                Text.Text = v.Name
                Text.Color = Color3.fromRGB(150, 150, 150)
                Text.Size = 20
                Text.Outline = true
                Text.OutlineColor = Color3.fromRGB(0, 0, 0)
                Text.Center = true
                Text.Font = 1
                spawn(function()
                    repeat wait()
                        local Pos, OnScreen = CurCam:WorldToViewportPoint(Vector3.new(v.Pos.Position.X, v.Pos.Position.Y, v.Pos.Position.Z))
                        if OnScreen then
                            Text.Text = v.Name.. " (" .. math.round(plr:DistanceFromCharacter(v.Pos.Position)) .. ")"
                            Text.Position = Vector2.new(Pos.X, Pos.Y - 20)
                            Text.Visible = true
                        else
                            Text.Visible = false
                        end
                    until not Settings.LocationsESP
                    Text:Remove()
                end)
            end
        end
	end)
    Settings.LocationsESP = x
end)
local Section13 = Page1.CreateSection('Performance')
local function PressFastModeButton(v)
    local x = plr.PlayerGui.Main.Settings.Frame[v]
    if x.Button.AbsolutePosition == x:GetChildren()[2].AbsolutePosition then
        FireButton(x.Button)
    end
end
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local WindowFocusReleasedFunction = function()
    getgenv().TabStatus = "Out"
    if Settings.BoostFPS then
        RunService:Set3dRenderingEnabled(false)
    end
end
local WindowFocusedFunction = function()
    getgenv().TabStatus = "In"
    if Settings.BoostFPS then
        RunService:Set3dRenderingEnabled(true)
    end
end
UserInputService.WindowFocusReleased:Connect(WindowFocusReleasedFunction)
UserInputService.WindowFocused:Connect(WindowFocusedFunction)
game.workspace.Terrain.ChildAdded:Connect(function(v)
    if Settings.BoostFPS and v.Name == "Attachment" and v:FindFirstChild("Trail") then
        v.Trail.Enabled = false
    end
end)
BoostFPSToggle = Section13.CreateToggle({Title = 'Boost FPS', Default = Settings.BoostFPS}, function(v)
	Settings.BoostFPS = v
	spawn(function()
		if v and not BoostedFPS then
			getgenv().BoostedFPS = true
            game:GetService("RunService"):Set3dRenderingEnabled(true)
            local Lighting = game:GetService("Lighting")
            local Terrain = workspace:FindFirstChildOfClass("Terrain")
            sethiddenproperty(Terrain, "Decoration", false)
            sethiddenproperty(game.Lighting, "Technology", 0)
            settings().Rendering.QualityLevel = 1
            Lighting.GlobalColorCorrection.Enabled = false
            Lighting.Brightness = 0 
            pcall(function()
                Terrain.WaterWaveSize = 0
                Terrain.WaterWaveSpeed = 0
                Terrain.WaterReflectance = 0
                Terrain.WaterTransparency = 0
            end)
            for i, v in ipairs(Lighting:GetDescendants()) do
                if v:IsA("BlurEffect")
                or v:IsA("SunRaysEffect")
                or v:IsA("BloomEffect")
                or v:IsA("DepthOfFieldEffect") then
                    v.Enabled = false
                end
            end
            wait(1)
            for i, v in ipairs(workspace:GetDescendants()) do
                if v:IsA("Part")
                or v:IsA("SpawnLocation")
                or v:IsA("WedgePart")
                or v:IsA("Terrain")
                or v:IsA("UnionOperation")
                or v:IsA("CornerWedgePart")
                or v:IsA("TrussPart") then
                    v.Material = "Plastic"
                    v.Reflectance = 0
                elseif v:IsA("MeshPart") then
                    v.Material = "Plastic"
                    v.Reflectance = 0
                    v.TextureID = ""
                elseif v.ClassName == "Decal"
                or v.ClassName == "Texture" then
                    v.Transparency = 1
                elseif v:IsA("ParticleEmitter") or v:IsA("Trail") then
                    v.Lifetime = NumberRange.new(0)
                elseif v:IsA("Explosion") then
                    v.BlastPressure = 1
                    v.BlastRadius = 1
                end
            end
            wait(3)
            FireButton(plr.PlayerGui.Main.Settings.FastModeButton)
		end
	end)
end)
NoFogToggle = Section13.CreateToggle({Title = 'No Fog', Default = Settings.NoFog}, function(v)
	Settings.NoFog = v
    if v and game.Lighting:FindFirstChild("LightingLayers") then
        game.Lighting.LightingLayers:Destroy()
    end
end)
RemoveScreenShakeToggle = Section13.CreateToggle({Title = 'Remove Screen Shake', Default = Settings.RemoveScreenShake}, function(v)
	Settings.RemoveScreenShake = v
    if v and not RunRemoveScreenShake then
        getgenv().RunRemoveScreenShake = true
        require(game.ReplicatedStorage.Util.CameraShaker):Stop()
    end
end)
if game.PlaceId == 7449423635 then
    local Section14 = Page1.CreateSection('World Quest (Temporary Feature)')
    function BrF(pathname)
        for i, v in ipairs(game.workspace[pathname]:GetChildren()) do 
            if v:IsA("Tool")
            and v:FindFirstChild("Handle") then
                firetouchinterest(plr.Character.HumanoidRootPart, v.Handle, 0)
                firetouchinterest(plr.Character.HumanoidRootPart, v.Handle, 1)
            end
        end
    end
    function BringFruit(Status)
        _G.ToggleBringFruit = Status
        while _G.ToggleBringFruit and wait(1) do
            pcall(function()
                BrF("PineappleSpawner")
                BrF("AppleSpawner")
                BrF("BananaSpawner")
            end)
        end
    end
    Section14.CreateToggle({Title = 'Bring Fruit', Desc = 'Bring Fruit for Ken Haki v2 quest'}, function(v)
        spawn(function()
            BringFruit(v)
        end)
    end)
    Section14.CreateDropdown({Title = "TP Torch Locations", List = {
        "Torch 1",
        "Torch 2",
        "Torch 3",
        "Torch 4",
        "Torch 5"
    }}, function(v)
        if v then
            Tween(game.workspace.Map.Turtle.QuestTorches[v:gsub(" ", "")].CFrame)
        end
    end)
    Section14.CreateDropdown({Title = "TP Haki Color Buttons", List = {
        "Winter Sky",
        "Pure Red",
        "Snow White"
    }}, function(v)
        if v then
            if v == "Winter Sky" then
                Tween(CFrame.new(-5420.17, 1090.97, -2666.82), true)
                CommF:InvokeServer("activateColor", "Winter Sky")
            elseif v == "Pure Red" then
                Tween(CFrame.new(-5414.41, 315.866, -2212.46), true)
                CommF:InvokeServer("activateColor", "Pure Red")
            else
                Tween(CFrame.new(-4971.48, 335.566, -3720.03), true)
                CommF:InvokeServer("activateColor", "Snow White")
            end
        end
    end)
    Section14.CreateButton({Title = 'Stop Tween'}, function()
        ForceStopTween(true)
    end)
end

local Page2 = Title.CreatePage({Page_Name = 'Farm', Page_Title = 'Farm Tab'})
local Section21 = Page2.CreateSection('Setting')
getgenv().CheckM1Weapon = function(v)
    if v.ToolTip == "Melee"
    or v.ToolTip == "Sword"
    or v.ToolTip == "Gun" 
    or v.Name == "Light-Light"
    or v.Name == "Ice-Ice" then
        return true
    end
end
function IsM1Weapon(v)
    if v:IsA("Tool")
    and CheckM1Weapon(v) then
        return true
    end
end
function GetM1WP(x)
    if not x then x = "Melee" end
    for i, v in ipairs(plr.Backpack:GetChildren()) do 
        if v:IsA("Tool") and v.ToolTip == x then
            return v.Name
        end
    end
    for i, v in ipairs(plr.Character:GetChildren()) do 
        if v:IsA("Tool") and v.ToolTip == x then
            return v.Name
        end
    end
end
function EquipItem(v)
    if DisableEquipItem then return end
    local x = plr.Backpack:FindFirstChild(v)
    if not v or not x then return end
    plr.Character.Humanoid:EquipTool(x)
    wait(.5)
end
function GetWeaponList(x)
    if not plr:FindFirstChild("Backpack") then return {} end
    WeaponList = {}
    for i, v in ipairs(plr.Backpack:GetChildren()) do 
        if x
        and v:IsA("Tool")
        and v.ToolTip ~= ""
        and v.ToolTip ~= "Wear"
        or IsM1Weapon(v) then
            table.insert(WeaponList, v.Name)
        end
    end
    for i, v in ipairs(plr.Character:GetChildren()) do 
        if x
        and v:IsA("Tool")
        and v.ToolTip ~= ""
        and v.ToolTip ~= "Wear"
        or IsM1Weapon(v) then
            table.insert(WeaponList, v.Name)
        end
    end
    return WeaponList
end
SelectM1WeaponDropdown = Section21.CreateDropdown({Title = 'Select M1 Weapon', List = GetWeaponList(), Default = Settings.SelectM1Weapon}, function(v)
    Settings.SelectM1Weapon = v
end)
Section21.CreateButton({Title = 'Refresh M1 Weapon List'}, function()
    if SelectM1WeaponDropdown then
        SelectM1WeaponDropdown:GetNewList(GetWeaponList())
    end
end)
Section21.CreateSlider({Title = "Away Distance", Min = 5, Max = 40, Default = Settings.Distance or 30}, function(v)
    Settings.Distance = v
end)
AttackNoCDToggle = Section21.CreateToggle({Title = 'Attack No Cooldown', Default = Settings.AttackNoCD, Desc = 'Only work with Auto Farm features'}, function(v)
    Settings.AttackNoCD = v
end)
BringMobToggle = Section21.CreateToggle({Title = 'Bring Mob', Default = Settings.BringMob, Desc = 'Will bring all other Mobs to attacking Mob'}, function(v)
    Settings.BringMob = v
end)
local Section22 = Page2.CreateSection('Mob Farm')
getgenv().SelectedMFMob = {}
local FirstMob = {
    "Bandit",
    "Raider",
    "Pirate Millionaire"
}
if game.PlaceId == 2753915549 then
    table.remove(FirstMob, 1)
elseif game.PlaceId == 4442272183 then
    table.remove(FirstMob, 2)
elseif game.PlaceId == 7449423635 then
    table.remove(FirstMob, 3)
end
function IsMobInTable(FirstMob, x)
    for i, v in pairs(x) do
        if table.find(FirstMob, i) then
            return true
        end
    end
end
if not Settings.MFMob
or typeof(Settings.MFMob) ~= "table"
or IsMobInTable(FirstMob, Settings.MFMob) then
    Settings.MFMob = {}
    for i, v in pairs(MobsName) do
        Settings.MFMob[v] = false
    end
else
    local MobLCheck = {}
    for i, v in pairs(Settings.MFMob) do
        if v then
            table.insert(getgenv().SelectedMFMob, i)
        end
        table.insert(MobLCheck, i)
    end
    for i, v in pairs(MobsName) do
        if not table.find(MobLCheck, v) then
            Settings.MFMob[v] = false
        end
    end
end
Section22.CreateDropdown({Title = "Select Mob", List = Settings.MFMob, Selected = true, Search = true}, function(i, v)
    if i then
        Settings.MFMob[i] = v
        if v then
            table.insert(getgenv().SelectedMFMob, i)
        elseif table.find(getgenv().SelectedMFMob, i) then
            table.remove(getgenv().SelectedMFMob, table.find(getgenv().SelectedMFMob, i))
        end
    end
end)
AutoDLToggle = Section22.CreateToggle({Title = 'Auto Detect Level', Desc = "Will auto detect your current Level to farm best Mob\nEnable for reach level 700 (from lvl 1) under 1 hour method (make sure to enable Hop Server if no Boss in Auto Fighting Style Section)\n(will ignore selected mob above)", Default = Settings.AutoDL}, function(v)
    Settings.AutoDL = v
end)
--[[
SSPITToggle = Section22.CreateToggle({Title = 'Set Spawn Point Instant TP', Default = Settings.SSPIT, Desc = 'Instant TP to the Quest NPC if too far way\n(force reset character)'}, function(v)
    Settings.SSPIT = v
end)
]]
getgenv().ForceStopTween = function(DisableNC)
    if Settings.IgnoreYTween and LastYLevel and plr.Character.HumanoidRootPart.Position.Y > Settings.DefaultYLevel - 10 then
        local plrPos = plr.Character.HumanoidRootPart.Position
        plr.Character.HumanoidRootPart.CFrame = CFrame.new(plrPos.X, LastYLevel, plrPos.Z)
    end
    if DisableNC then
        getgenv().noclip = false
    end
    if not TweenPath then return end
    getgenv().ForcedStopTween = true
    TweenPath:Cancel()
    getgenv().TweenPath = nil
    delay(.1, function()
        getgenv().ForcedStopTween = false
    end)
end
local InstantTPPos = {}
if game.PlaceId == 2753915549 then
    InstantTPPos = {
        CFrame.new(3864.81787109375, 5.373160362243652, -1925.5087890625), -- Underwater City Entrance
        CFrame.new(61163.8515625, 5.307315349578857, 1819.7841796875), -- Underwater City
        CFrame.new(-4607.82275390625, 872.54248046875, -1667.556884765625), -- Skyland Second Entrance
        CFrame.new(-7897.15380859375, 5545.4931640625, -382.1011047363281), -- Skyland Second
    }
elseif game.PlaceId == 4442272183 then
    InstantTPPos = {
        CFrame.new(923.2125244140625, 125.05713653564453, 32852.83203125), -- Cursed Ship 
        CFrame.new(-6508.55810546875, 83.18704986572266, -132.83953857421875), -- Cursed Ship Entrance
        CFrame.new(2284.912109375, 15.15204906463623, 905.48291015625), -- Swan Room
        CFrame.new(-286.98907470703125, 306.1307067871094, 597.8827514648438) -- Swan Room Entrance
    }
elseif game.PlaceId == 7449423635 then
    InstantTPPos = {
        CFrame.new(5768.31982421875, 610.4500122070312, -210.5147705078125), -- Hydra Island Above
        CFrame.new(-5056.90966796875, 314.5413818359375, -3156.484130859375), -- Castle on the Sea
        CFrame.new(-12464.21484375, 374.9403381347656, -7531.00341796875), -- Mansion
        CFrame.new(5314.58203125, 22.536449432373047, -125.94227600097656), -- Beautiful Pirate Domain
        CFrame.new(-11993.580078125, 331.80780029296875, -8844.1826171875), -- Beautiful Pirate Domain Entrance
    }
end
function GetNearestTPfromPos(Pos)
    local Dist = math.huge
    local NearestTP
    for i, v in pairs(InstantTPPos) do
        local Mag = (Pos.Position - v.Position).magnitude
        if Mag < Dist then
            Dist = Mag
            NearestTP = v
        end
    end
    return NearestTP
end
function CheckTweenTo(Pos, TPPos)
    if (Pos.Position - TPPos).magnitude < plr:DistanceFromCharacter(Pos.Position) - 500 then
        if plr.Character.HumanoidRootPart.Position.Y > 9000 then
            local plrPos = plr.Character.HumanoidRootPart.Position
            plr.Character.HumanoidRootPart.CFrame = CFrame.new(plrPos.X, Pos.Position.Y, plrPos.Z)
            wait(.25)
        end
        return true
    end 
end
getgenv().IsPlayerDead = function()
    if not plr.Character
    or not plr.Character:FindFirstChild("Humanoid")
    or plr.Character.Humanoid.Health == 0 then
        return true
    end
end
function TPUntilReached(Pos, TPPos)
    repeat wait()
        plr.Character.HumanoidRootPart.CFrame = TPPos
        local Timer = tick()
        repeat wait()
        until tick() - Timer >= 1 or Hopping
        or ForcedStopTween
        or IsPlayerDead()
    until plr:DistanceFromCharacter(TPPos.Position) < 50
    or ForcedStopTween
    or IsPlayerDead()
end
function UnSit()
    if TweenPath then TweenPath:Pause() end
    getgenv().noclip = false
    wait(.5)
    plr.Character.Humanoid.Sit = false
    wait(.5)
    getgenv().noclip = true
    if TweenPath then TweenPath:Play() end
end
function Tween(Pos, DisableNC, ForceYTween)
    if Panicing then return end
    if not Pos
    or plr.PlayerGui.Main:FindFirstChild("ChooseTeam")
    or IsPlayerDead() then
        return
    end
    if TweenPath then
        TweenPath:Cancel()
        getgenv().TweenPath = nil
        getgenv().ForcedStopTween = true
    end
    if typeof(Pos) == "Vector3" then Pos = CFrame.new(Pos.X, Pos.Y, Pos.Z) end
    local TPPos = GetNearestTPfromPos(Pos)
    if TPPos and CheckTweenTo(Pos, TPPos.Position) 
    and (not Settings.BountyFarm or plr.Character.HumanoidRootPart.Position.Y < 9000) then
        getgenv().noclip = true
        TPUntilReached(Pos, TPPos)
        if not ForcedStopTween and not IsPlayerDead() and not Settings.BountyFarm then
            local plrRoot = plr.Character.HumanoidRootPart
            local x = not Settings.IgnoreYTween or Settings.DefaultYLevel < plrRoot.Position.Y
            if x then
                if plrRoot.Position.Y > 60 then
                    plrRoot.CFrame = plrRoot.CFrame * CFrame.new(0, -50, 0)
                else
                    plrRoot.CFrame = plrRoot.CFrame * CFrame.new(0, 50, 0)
                end
                wait(.5)
            end
            if Settings.IgnoreYTween and not x then
                wait(1)
            end
            return Tween(Pos, DisableNC, ForceYTween)
        else
            if Settings.BountyFarm or Settings.IgnoreYTween then
                wait(1)
            end
            return
        end
    end
    if plr:DistanceFromCharacter(Pos.Position) > 20 then
        if Settings.IgnoreYTween
        and Settings.DefaultYLevel > Pos.Position.Y
        or ForceYTween then
            local plrPos = plr.Character.HumanoidRootPart.Position
            local pP = Pos.Position
            if plrPos.Y < Settings.DefaultYLevel or ForceYTween then
                plr.Character.HumanoidRootPart.CFrame = CFrame.new(plrPos.X, ForceYTween or Settings.DefaultYLevel, plrPos.Z)
                getgenv().LastYLevel = pP.Y
                getgenv().noclip = true
            end
            getgenv().TweenPath = game:GetService('TweenService'):Create(
                plr.Character.HumanoidRootPart,
                TweenInfo.new(plr:DistanceFromCharacter(Vector3.new(pP.X, ForceYTween or Settings.DefaultYLevel, pP.Z)) / Settings.TweenSpeed, Enum.EasingStyle.Linear),
                {CFrame = CFrame.new(pP.X, ForceYTween or Settings.DefaultYLevel, pP.Z)}
            )
        else
            getgenv().TweenPath = game:GetService('TweenService'):Create(
                plr.Character.HumanoidRootPart,
                TweenInfo.new(plr:DistanceFromCharacter(Pos.Position) / Settings.TweenSpeed, Enum.EasingStyle.Linear),
                {CFrame = Pos}
            )
        end
        getgenv().noclip = true
        TweenPath:Play()
        local TweenCompleted = false
        TweenPath.Completed:Connect(function()
            TweenCompleted = true
            if Settings.IgnoreYTween
            or ForceYTween then
                local plrPos = plr.Character.HumanoidRootPart.Position
                plr.Character.HumanoidRootPart.CFrame = CFrame.new(plrPos.X, Pos.Position.Y, plrPos.Z)
            end
        end)
        repeat wait()
            if not IsPlayerDead() then
                if plr.Character.Humanoid.Sit then
                    UnSit()
                end
                if getgenv().MovingPos
                and (Pos.Position - MovingPos.Position).magnitude >= 10 then
                    return Tween(MovingPos.Position + Vector3.new(0, Settings.Distance, 0), DisableNC, ForceYTween)
                end
            end
        until TweenCompleted
        or ForcedStopTween
        or IsPlayerDead()
        if MovingPos then return end
        ForceStopTween(DisableNC)
    else
        ForceStopTween(DisableNC)
        plr.Character.HumanoidRootPart.CFrame = Pos
    end
    if DisableNC then
        getgenv().noclip = false
    end
end
function GetMob(FMob, UnloadBoss)
    local Dist = math.huge
    local Mob
    if typeof(FMob) == "string" then
        FMob = {FMob}
    end
    if UnloadBoss then
        for i, v in ipairs(game.ReplicatedStorage:GetChildren()) do
            if string.find(v.Name, "Boss")
            and IsMobAlive(v) then
                v.Parent = game.workspace.Enemies
            end
        end
    end
    local x = game.workspace.Enemies:GetChildren()
    if #x > 1 and Settings.BringMob then
        local MCounter = 0
        local MidPos
        for i, v in ipairs(x) do
            if table.find(FMob, GetMobNameOnly(v.Name))
            and IsMobAlive(v) then
                if not MidPos then
                    MidPos = v.HumanoidRootPart.Position
                else
                    MidPos = MidPos + v.HumanoidRootPart.Position
                end
                MCounter = MCounter + 1
            end
        end
        if not MidPos then return end
        MidPos = MidPos / MCounter
        for i, v in ipairs(x) do
            if table.find(FMob, GetMobNameOnly(v.Name))
            and IsMobAlive(v) then
                local Mag = (MidPos - v.HumanoidRootPart.Position).magnitude
                if Mag < Dist then
                    Dist = Mag
                    Mob = v
                end
            end
        end
    else
        for i, v in ipairs(x) do
            if table.find(FMob, GetMobNameOnly(v.Name))
            and IsMobAlive(v) then
                local Mag = plr:DistanceFromCharacter(v.HumanoidRootPart.Position)
                if Mag < Dist then
                    Dist = Mag
                    Mob = v
                end
            end
        end
    end
    if Mob and UnloadBoss then
        return GetMobNameOnly(Mob.Name)
    else
        return Mob
    end
end
game.workspace.Enemies.DescendantAdded:Connect(function(v)
    if AttackingMob and AttackingMob.Parent and Settings.AutoDodge and not Doding
    and (v.Name == "BodyGyro" or v.Name == "BodyPosition" or v.Name == "KiBlastFireShort")
    and v.Parent.Parent.Name == AttackingMob.Name then
        getgenv().Doding = true
        getgenv().ReadyToDodge = true
        local Timer = tick()
        repeat wait()
        until not v or not v.Parent or tick() - Timer > 14
        if Settings.HardDodge and tick() - Timer < 2 then
            wait(.5)
        end
        getgenv().Doding = false
        getgenv().ReadyToDodge = false
    end
end)
spawn(function()
    while wait(5) do
        if ReadyToDodge then
            local Timer = tick()
            repeat wait()
            until not getgenv().ReadyToDodge
            or tick() - Timer > 10
            getgenv().Doding = false
            getgenv().ReadyToDodge = false
        end
    end
end)

if not SetSimulationRadiusRun then
    getgenv().SetSimulationRadiusRun = true
    game:GetService('RunService').Stepped:connect(function()
        if SetSimulationRadius then 
            sethiddenproperty(plr, "SimulationRadius", math.huge)
        end
    end)
    plr.SimulationRadiusChanged:Connect(function(v)
        if SetSimulationRadius then 
            v = 9e9
        end
        return v
    end)
end
if not BringMobRun then
    getgenv().BringMobRun = true
    spawn(function()
        while wait() do
            if Settings.BringMob
            and BringTo then
                if BringTo.Parent
                and IsMobAlive(BringTo)
                and not string.find(BringTo.Name, "Boss") then 
                    for i, v in ipairs(game.workspace.Enemies:GetChildren()) do
                        if not v:FindFirstChild("Bringed")
                        and (v.Name == BringTo.Name or Settings.MobAura)
                        and IsMobAlive(v) then
                            local Bringed = Instance.new("IntValue", v)
                            Bringed.Name = "Bringed"
                            delay(10, function()
                                if v then
                                    Bringed:Destroy()
                                end
                            end)
                        end
                    end
                else
                    getgenv().BringTo = nil
                end
            end
        end
    end)
    game:GetService('RunService').Stepped:connect(function()
        if Settings.BringMob and BringTo then
            getgenv().SetSimulationRadius = true
            for i, v in ipairs(game.workspace.Enemies:GetChildren()) do
                if v:FindFirstChild("Bringed")
                and IsMobAlive(v)
                and isnetworkowner(v.HumanoidRootPart) then
                    BringTo.Humanoid:ChangeState(11)
                    v.HumanoidRootPart.CFrame = BringTo.HumanoidRootPart.CFrame
                    v.Humanoid:ChangeState(11)
                end
            end
        end
    end)
end
function CheckSkillUseable(v, x)
    if plr.PlayerGui.Main.Skills[v]:FindFirstChild(x)
    and plr.PlayerGui.Main.Skills[v][x].Title.TextColor3 == Color3.fromRGB(255, 255, 255)
    and plr.PlayerGui.Main.Skills[v][x].Cooldown.Size == UDim2.new(0, 0, 1, -1) then
        return true
    end
end
function UseSkillZ(x)
    if CheckSkillUseable(x, "Z") then
        game:GetService("VirtualInputManager"):SendKeyEvent(true, "Z", false, game)
        game:GetService("VirtualInputManager"):SendKeyEvent(false, "Z", false, game)
    end
end
local IgnoreZFruits = {
    "Control-Control",
    "Human-Human: Buddha",
    "Diamond-Diamond",
    "Bird-Bird: Falcon"
}
function AutoSkill(v, m)
    for _, x in pairs(SelectedAutoSkill) do
        if (x ~= "Z" or x == "Z" and not table.find(IgnoreZFruits, m))
        and CheckSkillUseable(m, x) then
            getgenv().AimPos = v.HumanoidRootPart.Position
            game:GetService("VirtualInputManager"):SendKeyEvent(true, x, false, game)
            local Timer = tick()
            repeat wait()
            until not IsMobAlive(v)
            or tick() - Timer >= Settings.HoldSkillTime[x]
            or IsPlayerDead()
            or not Settings.MasteryFarm
            getgenv().AimPos = v.HumanoidRootPart.Position
            game:GetService("VirtualInputManager"):SendKeyEvent(false, x, false, game)
        else
            if m == "Rubber-Rubber" then
                getgenv().AimPos = v.HumanoidRootPart.Position
                plr.Character.Humanoid['']:InvokeServer("TAP")
            end
        end
    end
end
function AttackMob(v, DisableDeadCheck)
    if IsPlayerDead() and not DisableDeadCheck then
        getgenv().AttackingMob = nil
        repeat wait() until not IsPlayerDead()
        wait(3)
    end
    if not IsMobAlive(v) then return end
    getgenv().AttackingMob = v
    local vP = v.HumanoidRootPart.Position
    if ReadyToDodge and plr:DistanceFromCharacter(v.HumanoidRootPart.Position) < 200 then
        if Settings.HardDodge then
            local DodgeY, DodgeZ = 50 , 50
            if string.find(v.Name, "Boss") then
                DodgeY, DodgeZ = 400, 70
            else
                if v.HumanoidRootPart.Position.Y > DodgeY / 2.5 then
                    DodgeY = -DodgeY / 2.5
                end
            end
            plr.Character.HumanoidRootPart.CFrame = CFrame.new(vP.X, vP.Y + Settings.Distance, vP.Z + DodgeZ)
            wait()
            plr.Character.HumanoidRootPart.CFrame = CFrame.new(vP.X, vP.Y + DodgeY, vP.Z + DodgeZ) 
            repeat wait()
            until not ReadyToDodge
            plr.Character.HumanoidRootPart.CFrame = CFrame.new(vP.X, vP.Y + Settings.Distance, vP.Z + DodgeZ)
        else
            local DodgeY = vP.Y - 50
            if vP.Y < 60 then
                DodgeY = vP.Y + Settings.Distance
            end
            plr.Character.HumanoidRootPart.CFrame  = CFrame.new(vP.X, DodgeY, vP.Z + 50)
        end
    else
        getgenv().BringTo = v
        Tween(CFrame.new(vP.X, vP.Y + Settings.Distance, vP.Z))
    end
    if v:FindFirstChild("HumanoidRootPart")
    and plr:DistanceFromCharacter(v.HumanoidRootPart.Position) < Settings.Distance + 5 then
        if plr.PlayerGui.Main.Dialogue.Visible
        and plr.PlayerGui.Main.Dialogue.Title.Text == "Quest" then
            FireButton(plr.PlayerGui.Main.Dialogue.Cancel)
        end
        if Settings.MasteryFarm
        and (v.Humanoid.Health / v.Humanoid.MaxHealth) * 100 <= Settings.HealthPercent then
            local mM1WP = Settings.SelectMasteryWP
            if GWeapon then
                mM1WP = GetM1WP("Gun")
            elseif BFWeapon then
                mM1WP = GetM1WP("Blox Fruit")
            end
            local mWP = plr.Character:FindFirstChildOfClass("Tool")
            if mWP and pcall(function() return mWP.ToolTip end) and mWP.Name == mM1WP then
                if mWP.ToolTip == "Gun" then
                    ShootM1(v)
                elseif mWP.ToolTip ~= "Blox Fruit" then
                    ClickM1()
                end
                if mWP.Name == "Control-Control" then
                    if not wOrigin:FindFirstChild("Globe")
                    or plr:DistanceFromCharacter(wOrigin.Globe.Position) > wOrigin.Globe.AB.CurveSize0 / 1.75 then
                        UseSkillZ(mM1WP)
                        return
                    end
                elseif mWP.Name == "Human-Human: Buddha" then
                    if plr.Character:WaitForChild("UpperTorso").Material ~= Enum.Material.Neon then
                        UseSkillZ(mM1WP)
                        return
                    end
                elseif mWP.Name == "Diamond-Diamond" then
                    if not plr.Character:FindFirstChild("DiamondBody") then
                        UseSkillZ(mM1WP)
                        return
                    end
                elseif mWP.Name == "Bird-Bird: Falcon" then
                    if not plr.Character:FindFirstChild("FalconWings") then
                        UseSkillZ(mM1WP)
                        return
                    end
                end
                AutoSkill(v, mM1WP)
                wait(.5)
            else
                EquipItem(mM1WP)
            end
        else
            local M1WP
            if Settings.SelectM1Weapon and CheckPlrBackpack(Settings.SelectM1Weapon) then
                M1WP = Settings.SelectM1Weapon
            else
                M1WP = GetM1WP()
            end
            if ASWeapon then
                M1WP = GetM1WP("Sword")
            elseif AFSWeapon then
                M1WP = GetM1WP()
            end
            local WP = plr.Character:FindFirstChildOfClass("Tool")
            if WP and pcall(function() return WP.ToolTip end) and WP.Name == M1WP then
                if WP.ToolTip == "Gun" then
                    ShootM1(v)
                else
                    ClickM1()
                end
            else
                EquipItem(M1WP)
            end
        end
    end
end
loadstring([[
    setreadonly(Vector3, false)
    local Vec = Vector3.new()
    local mt = debug.getmetatable(Vec)
    setreadonly(mt, false)
    local old = mt.__index
    mt.__index = newcclosure(function(a, b, c)
        if not checkcaller()
        and getcallingscript() == game.ReplicatedStorage.Queue
        and tostring(b) == "magnitude" then
            local Vec = old(a, b, c)
            if Vec > 400 then 
                return 400
            else
                return Vec
            end
            return 0
        end
        return old(a, b, c)
    end)
]])()
getgenv().plrLevel = plr.Data.Level.Value
plr.Data.Level:GetPropertyChangedSignal("Value"):Connect(function()
    getgenv().plrLevel = plr.Data.Level.Value
end)
function HaveQuest(MobTable, FMob, x)
    if x and #x >= 3 then return
        true
    end
    if not MobTable[FMob] then
        return true
    end
    if plrLevel < MobTable[FMob].QLevel then
        return true
    end
    if plr.PlayerGui.Main.Quest.Visible
    and string.find(plr.PlayerGui.Main.Quest.Container.QuestTitle.Title.Text, FMob) then
        return true
    end
end
function GetMobNameInCurrentQuest()
    if not plr.PlayerGui.Main.Quest.Visible then return end
    local a = plr.PlayerGui.Main.Quest.Container.QuestTitle.Title.Text
    a = a:gsub("Defeat ", "")
    a = a:gsub("%d+", "")
    a = a:gsub("%b()", "")
    a = a:sub(1)
    a = a:sub(1, #a - 1)
    if a:sub(#a, #a) == "s"
    and a:sub(#a - 1, #a) ~= "ss" then
        b = a:sub(#a, #a)
        a = a:gsub(b, "")
    end
    if game.PlaceId == 2753915549 
    and string.find(a, "Mil.") then
        a = a:gsub("Mil.", "Military")
    end
    return a
end
function GetMSelectFMob(FMob)
    local SFMob = FMob[1]
    if #FMob == 1 then
        for i, v in pairs(FMob) do
            SFMob = v
        end
    elseif #FMob == 2 then
        --[[
        local v = GetMobNameInCurrentQuest()
        if v and table.find(FMob, v) then
            return v
        end
        ]]
        local a = Mobs[FMob[1]].QNumber
        local b = Mobs[FMob[2]].QNumber
        if b > a then
            a = FMob[2]
            b = FMob[1]
        else
            a = FMob[1]
            b = FMob[2]
        end
        if not QuestSwap or QuestSwap == a then
            SFMob = a
            getgenv().QuestSwap = b
        else
            SFMob = b
            getgenv().QuestSwap = a
        end
        --[[
        for _, x in pairs(FMob) do
            if not plr.PlayerGui.Main.Quest.Visible
            and (child_stringfind(game.workspace.Enemies, x, true) >= 4 or child_stringfind(game.ReplicatedStorage, x, true) >= 4)
            and plr:DistanceFromCharacter(Mobs[x].MPos) < 2000
            or HaveQuest(Mobs, x) then
                SFMob = x
            end
        end
        ]]
    else
        for i, v in pairs(FMob) do
            if child_stringfind(game.workspace.Enemies, v, true) ~= 0
            or child_stringfind(game.ReplicatedStorage, v, true) ~= 0 then
                SFMob = v
            end
        end
        if not FMob then
            for i, v in pairs(FMob) do
                SFMob = v
            end
        end
    end
    return SFMob
end
function CheckNearestSpawn(Pos)
    local Dist = math.huge
    local NearestSpawn
    for i, v in ipairs(wOrigin.PlayerSpawns.Pirates:GetChildren()) do
        if v:IsA("Model") then
            local Mag = (v.Part.Position - Pos.Position).magnitude
            if Mag < Dist then
                Dist = Mag
                NearestSpawn = v
            end
        end
    end
    return NearestSpawn.Name
end
function GetMobByLevel()
    local ChoosenMob
    for i, v in pairs(Mobs) do
        if plrLevel >= v.QLevel then
            if ChoosenMob then
                if v.QLevel > Mobs[ChoosenMob].QLevel then
                    ChoosenMob = i
                end
            else
                ChoosenMob = i
            end
        end
    end
    return ChoosenMob
end
getgenv().OneMilFruits = {
    "Quake Fruit",
    "Human: Buddha Fruit",
    "String Fruit",
    "Bird: Phoenix Fruit",
    "Rumble Fruit",
    "Paw Fruit",
    "Gravity Fruit",
    "Dough Fruit",
    "Shadow Fruit",
    "Soul Fruit",
    "Venom Fruit",
    "Control Fruit",
    "Dragon Fruit",
    "Leopard Fruit"
}
function CheckPlrBackpack(v)
    local x = plr.Backpack:FindFirstChild(v)
    local m = plr.Character:FindFirstChild(v)
    if x then
        return x
    elseif m then
        return m
    end
end
function Is1MilFruit()
    for i, v in pairs(OneMilFruits) do
        if CheckPlrBackpack(v) then
            return true
        end
    end
end
function GetTreasureFruit(x)
    local Fruits = {}
    for i, v in pairs(getupvalue(require(plr.PlayerGui.Main.UIController.Inventory).UpdateRender, 4)) do
        if v.details.Type == "Blox Fruit" then
            if not x and v.details.Value < 1000000
            or x and v.details.Value >= 1000000 then
                Fruits[v.details.Value] = v.details.Name
            end
        end
    end
    local Lowest = math.huge
    local Fruit
    for i, v in pairs(Fruits) do
        if i < Lowest then
            Lowest = i
            Fruit = v
        end
    end
    return Fruit
end
function GetNearestPlayerToMFArea(x)
    local Dist = math.huge
    local TargetPlayer
    for i, v in ipairs(game.workspace.Characters:GetChildren()) do
        if v.Name ~= plr.Name
        and IsMobAlive(v) then
            local Mag = (v.HumanoidRootPart.Position - x).magnitude
            if Mag < Dist then
                Dist = Mag
                TargetPlayer = v
            end
        end
    end
    if TargetPlayer then
        return (TargetPlayer.HumanoidRootPart.Position - x).magnitude
    else
        return 100000
    end
end
function HopIfNearFarmArea(Pos, mag, forced)
    if not mag then mag = 1000 end
    if (Settings.MFHopServer or forced)
    and GetNearestPlayerToMFArea(Pos) < mag then
        Library.CreateNoti({Desc = "Have Player nearby Selected Mob Farm area", ShowTime = 5})
        HopServer(false, true)
        wait(5)
    end
end

function CheckInRaid()
    for i, v in ipairs(wOrigin.Locations:GetChildren()) do
        if string.find(v.Name, "Island ")
        and plr:DistanceFromCharacter(v.Position) < 3000 then
            return true
        end
    end
end
function GetLastRaidIsland()
    local LastIsland
    local LICounter = 0
    for i, v in ipairs(wOrigin.Locations:GetChildren()) do
        if string.find(v.Name, "Island ")
        and plr:DistanceFromCharacter(v.Position) < 3000 then
            local x = v.Name
            x = x:gsub("Island ", "")
            x = tonumber(x)
            if LICounter < x then
                LICounter = x
                LastIsland = v
            end
        end
    end
    return LastIsland
end
function KillRaidEnemy()
    for i, v in ipairs(game.workspace.Enemies:GetChildren()) do
        if IsMobAlive(v) and isnetworkowner(v.HumanoidRootPart) then
            v.Humanoid.Health = 0
        end
    end
end
function GetPirateRaid(path)
    if path then
        path = game.ReplicatedStorage
    else
        path = game.workspace.Enemies
    end
    for i, v in ipairs(path:GetChildren()) do
        if string.find(v.Name, "Lv.")
        and not string.find(v.Name, "Boss")
        and IsMobAlive(v)
        and (v.HumanoidRootPart.Position - Vector3.new(-5543, 313, -2964)).magnitude < 1000 then
            return v
        end
    end
end
function GetNearestChest()
    local Dist = math.huge
    local Chest
    local Counter
    for i, v in ipairs(Chests) do
        local Mag = plr:DistanceFromCharacter(v.Position)
        if Mag < Dist then
            Counter = i
            Dist = Mag
            Chest = v
        end
    end
    if Counter then
        table.remove(getgenv().Chests, Counter)
        return Chest
    end
end
function GetMobAura(x)
    local Mobs = {}
    for i, v in ipairs(game.workspace.Enemies:GetChildren()) do
        if not string.find(v.Name, "Boss")
        and IsMobAlive(v)
        and (x or plr:DistanceFromCharacter(v.HumanoidRootPart.Position) < 2000) then
            table.insert(Mobs, GetMobNameOnly(v.Name))
        end
    end
    local Mob = GetMob(Mobs)
    return Mob
end
function GetUnloadedMob()
    local ReqName = "Lv."
    local Dist = math.huge
    local Mob
    for i, v in ipairs(game.ReplicatedStorage:GetChildren()) do
        if string.find(v.Name, ReqName)
        and IsMobAlive(v) then
            local Mag = plr:DistanceFromCharacter(v.HumanoidRootPart.Position)
            if Mag < Dist then
                Dist = Mag
                Mob = v
            end
        end
    end
    return Mob
end
function GetNaturalBloxFruit()
    local StoredFruits = {}
    if Settings.NPIII then
        for i, v in pairs(getupvalue(require(plr.PlayerGui.Main.UIController.Inventory).UpdateRender, 4)) do
            if v.details and v.details.Type == "Blox Fruit" and v.details.Count >= plr.Data.FruitCap.Value then
                table.insert(StoredFruits, v.details.Name)
            end
        end
    end
    for i, v in ipairs(game.workspace:GetChildren()) do
        if v.Name == "Fruit "
        and v:IsA("Model")
        and not v:FindFirstChild("Ignored") then
            local x = GetFruitName(v)
            local FruitName = FruitNameToFF(x)
            if not table.find(StoredFruits, FruitName) then
                return v
            else
                local Ignored = Instance.new("IntValue", v)
                Ignored.Name = "Ignored"
            end
        end
    end
end

spawn(function()
    while wait() do
        pcall(function()
            if Settings.Cuttay then
                local old = plr.Character.HumanoidRootPart.Position
                wait(5)
                local new = plr.Character.HumanoidRootPart.Position
                local speed = (old - new).magnitude
                if speed == 0 and game.workspace.Map.CandyCane.Countdown.SurfaceGui.TextLabel.Text ~= "STARTING!" then
                    local Timer = tick()
                    repeat wait()
                        if tick() - Timer > 60 then
                            Library.CreateNoti({Desc = "Error player standing still, Hopping Server", ShowTime = 30})
                            HopServer()
                            wait(5)
                            return
                        end   
                    until (old - plr.Character.HumanoidRootPart.Position).magnitude ~= 0
                    or game.workspace.Map.CandyCane.Countdown.SurfaceGui.TextLabel.Text == "STARTING!"
                end
            end
        end)
        wait(16)
    end
end)
local MacLevel = game:GetService("MarketplaceService"):GetProductInfo(2753915549).Description
MacLevel = MacLevel:split("Current level cap: ")[2]:split("Current")[1]
getgenv().MaxLevel = tonumber(MacLevel)
getgenv().CT_EnableFarm = function()
    if Settings.AutoBuyFragments and AutoBuyFragmentsToggle then AutoBuyFragmentsToggle.SetStage(false) end
    if plrLevel < MaxLevel and not Settings.AutoBuy15mx2XP and AutoBuy15mx2XPToggle then AutoBuy15mx2XPToggle.SetStage(true) end
    Settings.SelectM1Weapon = GetM1WP()
    if not Settings.AutoDL and AutoDLToggle then AutoDLToggle.SetStage(true) end
    if not Settings.AttackNoCD and AttackNoCDToggle then AttackNoCDToggle.SetStage(true) end
    if not Settings.BringMob and BringMobToggle then BringMobToggle.SetStage(true) end
    if not Settings.AttackAutoScale and AttackAutoScaleToggle then AttackAutoScaleToggle.SetStage(true) end
    if game.PlaceId == 7449423635 and Settings.CT_FarmMethod and plr.Data.Beli.Value >= 3000000 and plrLevel >= MaxLevel and string.find(Settings.CT_FarmMethod, "Raid Boss Farm") then
        if Settings.MobAura and MobAuraToggle then MobAuraToggle.SetStage(false) end
        if Settings.MobFarm and MobFarmToggle then MobFarmToggle.SetStage(false) end
        if not Settings.CakePrinceFarm and CakePrinceFarmToggle then CakePrinceFarmToggle.SetStage(true) end
    elseif game.PlaceId == 7449423635 and Settings.CT_FarmMethod and plr.Data.Beli.Value >= 3000000 and plrLevel >= MaxLevel and string.find(Settings.CT_FarmMethod, "Mob Aura") then
        if Settings.CakePrinceFarm and CakePrinceFarmToggle then CakePrinceFarmToggle.SetStage(false) end
        if Settings.MobFarm and MobFarmToggle then MobFarmToggle.SetStage(false) end
        local x = CFrame.new(236.79563903808594, 76.14258575439453, -12497.48828125)
        if string.find(Settings.CT_FarmMethod, "Haunted Castle") then
            x = CFrame.new(-9501.076171875, 172.23019409179688, 6157.73486328125)
        end
        getgenv().MobAuraPos = x
        x = x.Position
        local pX, pY, pZ = math.floor(x.X), math.floor(x.Y), math.floor(x.Z)
        Settings.MAPosition[tostring(game.PlaceId)] = pX .. ", " .. pY .. ", " .. pZ
        if not Settings.MobAura and MobAuraToggle then MobAuraToggle.SetStage(true) end
    else
        if Settings.CakePrinceFarm and CakePrinceFarmToggle then CakePrinceFarmToggle.SetStage(false) end
        if Settings.MobAura and MobAuraToggle then MobAuraToggle.SetStage(false) end
        if not Settings.MobFarm and MobFarmToggle then MobFarmToggle.SetStage(true) end
    end
end
getgenv().CT_DisableFarm = function()
    if Settings.CakePrinceFarm and CakePrinceFarmToggle then CakePrinceFarmToggle.SetStage(false) end
    if Settings.MobAura and MobAuraToggle then MobAuraToggle.SetStage(false) end
    if Settings.MobFarm and MobFarmToggle then MobFarmToggle.SetStage(false) end
end
local RaidList = {}
for i, v in pairs(require(game.ReplicatedStorage.Raids)) do
    for _, x in pairs(v) do
        table.insert(RaidList, x)
    end
end
getgenv().CT_DisableAutoRaid = function()
    if Settings.BTDFHopServer and BTDFHopServerToggle then BTDFHopServerToggle.SetStage(false) end
    if not table.find(SelectedIgnoreAction, "Awake Current Blox Fruit") and not CheckFruitFullAwake() and CheckFruitAwakeable() then
        if plr.Data.Fragments.Value >= 8000 and not Settings.AutoAwake and AutoAwakeToggle then
            AutoAwakeToggle.SetStage(true)
        elseif Settings.AutoAwake and AutoAwakeToggle then
            AutoAwakeToggle.SetStage(false)
        end
        local EquippedBF = GetM1WP("Blox Fruit")
        local RaidMapBF = "Flame"
        if EquippedBF then
            EquippedBF = EquippedBF:split("-")[1]
            for i, v in pairs(RaidList) do
                if string.find(EquippedBF, v:split(":")[1])
                and not string.find(v, "Dough")
                and not string.find(v, "Phoenix") then
                    RaidMapBF = v
                end
            end
        end
        Settings.RaidMap = RaidMapBF
        if not Settings.AutoRaid and AutoRaidToggle then AutoRaidToggle.SetStage(true) end
        return
    end
    if Settings.AutoRaidAU and AutoRaidAUToggle then AutoRaidAUToggle.SetStage(false) end
    if Settings.AutoRaid and AutoRaidToggle then AutoRaidToggle.SetStage(false) end
end
getgenv().CT_AutoRaidForFrag = function()
    if Settings.Cuttay then
        if Settings.AutoBuy15mx2XP and AutoBuy15mx2XPToggle then AutoBuy15mx2XPToggle.SetStage(false) end
        if not Settings.AutoBuyFragments and AutoBuyFragmentsToggle then AutoBuyFragmentsToggle.SetStage(true) end
        if plrLevel >= 1100 then
            getgenv().AFSWeapon = nil
            local EquippedBF = GetM1WP("Blox Fruit")
            local RaidMapBF = "Flame"
            if EquippedBF then
                EquippedBF = EquippedBF:split("-")[1]
                for i, v in pairs(RaidList) do
                    if string.find(EquippedBF, v:split(":")[1])
                    and not string.find(v, "Dough")
                    and not string.find(v, "Phoenix") then
                        RaidMapBF = v
                    end
                end
            end
            Settings.RaidMap = RaidMapBF
            if Settings.NPIII and NPIIIToggle then NPIIIToggle.SetStage(false) end
            if not table.find(SelectedIgnoreHop, "[Main] Server Hop") then
                if not NotiHopSv then
                    getgenv().NotiHopSv = true
                    Library.CreateNoti({Desc = 'Will Hop Server for Blox Fruit\n(Farm Fragment to buy Fighting Style v2)', ShowTime = 20})
                end
                CT_DisableFarm()
                if not Settings.BTDFHopServer and BTDFHopServerToggle then BTDFHopServerToggle.SetStage(true) end
            else
                CT_EnableFarm()
            end
            if not Settings.AutoRaidAU and AutoRaidAUToggle then AutoRaidAUToggle.SetStage(true) end
            if not Settings.AutoRaid and AutoRaidToggle then AutoRaidToggle.SetStage(true) end
            if not TemporaryAFS
            and CommF:InvokeServer("BuySuperhuman", true) == 1 then
                BuyFightingStyle("BuySuperhuman")
                getgenv().TemporaryAFS = true
            end
        elseif m ~= 0 then
            getgenv().TemporaryAFS = false
            CT_DisableAutoRaid()
            CT_EnableFarm()
        end
    end
end
getgenv().LabelTextAFS = "[Auto Fighting Style / Sword]\n"
getgenv().LabelTextAF = "[Auto Farm]\n"
function BuyFightingStyle(v, x, c, m)
    if not c then c = 0 end
    if not m then m = 0 end
    if v == "DragonClaw" then
        if CommF:InvokeServer("BlackbeardReward", "DragonClaw", "1", true) then
            CommF:InvokeServer("BlackbeardReward", "DragonClaw", "2")
            return
        end
    else
        if CommF:InvokeServer(v, true) == 1 then
            CommF:InvokeServer(v)
            return
        end
    end
    if plr.Data.Beli.Value < c then
        if Settings.Cuttay then
            CT_DisableAutoRaid()
            CT_EnableFarm()
            if Settings.Cuttay
            and not TemporaryAFS
            and CommF:InvokeServer("BuySuperhuman", true) == 1 then
                BuyFightingStyle("BuySuperhuman")
                getgenv().TemporaryAFS = true
            end
        end
        if not TemporaryAFS then
            AutoFSSLabel.SetText(LabelTextAFS .. "Not have enough Beli to buy: " .. x)
        end
        return
    elseif Settings.Cuttay and c ~= 0 then
        getgenv().TemporaryAFS = false
    end
    if plr.Data.Fragments.Value < m then
        CT_AutoRaidForFrag()
        if not TemporaryAFS then
            AutoFSSLabel.SetText(LabelTextAFS .. "Not have enough Fragments to buy: " .. x)
        end
        return
    elseif Settings.Cuttay and m ~= 0 then
        getgenv().TemporaryAFS = false
        CT_DisableAutoRaid()
    end
    if x then
        AutoFSSLabel.SetText(LabelTextAFS .. "Buying Fighting Style: " .. x)
    end
    if v == "DragonClaw" then
        CommF:InvokeServer("BlackbeardReward", "DragonClaw", "1")
        CommF:InvokeServer("BlackbeardReward", "DragonClaw", "2")
    else
        CommF:InvokeServer(v)
    end
    wait(1)
end
function GetCurrentEquippedM1(x)
    if not x then x = "Melee" end
    for i, v in ipairs(plr.Backpack:GetChildren()) do
        if v:IsA("Tool")
        and v.ToolTip == x then
            return v
        end
    end
    for i, v in ipairs(plr.Character:GetChildren()) do
        if v:IsA("Tool")
        and v.ToolTip == x then
            return v
        end
    end
end
function GetItemCount(x)
    for i, v in pairs(CommF:InvokeServer("getInventory")) do
        if v.Name == x then
            return v.Count
        end
    end
    return 0
end
function GetMaterialMob()
    local Mob, Item
    if game.PlaceId == 4442272183 then
        if GetItemCount("Magma Ore") < 20 then
            Mob, Item = {
                "Magma Ninja",
                "Lava Pirate"
            }, {
                "Magma Ore",
                20
            }
        elseif GetItemCount("Mystic Droplet") < 10 then
            Mob, Item = {
                "Sea Soldier",
                "Water Fighter"
            }, {
                "Mystic Droplet",
                10
            }
        else
            CommF:InvokeServer("TravelZou")
            wait(5)
            return
        end
    else
        if GetItemCount("Fish Tail") < 20 then
            Mob, Item = {
                "Fishman Raider",
                "Fishman Captain"
            }, {
                "Fish Tail",
                20
            }
        elseif GetItemCount("Dragon Scale") < 10 then
            Mob, Item = {
                "Dragon Crew Warrior",
                "Dragon Crew Archer"
            }, {
                "Dragon Scale",
                10
            }
        elseif GetItemCount("Magma Ore") < 20
        or GetItemCount("Mystic Droplet") < 10 then
            CommF:InvokeServer("TravelDressrosa")
            wait(5)
            return
        end
    end
    return Mob, Item
end
function GetNewInv(OldInv)
    local NewItem
    for i, v in pairs(getupvalue(require(plr.PlayerGui.Main.UIController.Inventory).UpdateRender, 4)) do
        if v.details
        and (v.details.Type == "Accessory" or v.details.Type == "Sword") then
            if not table.find(OldInv, v.details.Name) then
                if not NewItem then
                    NewItem = v.details.Name
                else
                    NewItem = NewItem .. ", " .. v.details.Name
                end
            end
        end
    end
    return NewItem
end
function IsHaveItem(x)
    for i, v in pairs(getupvalue(require(plr.PlayerGui.Main.UIController.Inventory).UpdateRender, 4)) do
        if v.details
        and v.details.Name == x then
            return true
        end
    end
end
function GetSummonPlate()
    for i, v in ipairs(game.workspace.Map["Boat Castle"].Summoner.Circle:GetChildren()) do
        if v:IsA("Part") and v.Part.BrickColor.Name == "Dark stone grey" then
            if v.BrickColor.Name == "Hot pink" then
                return v, "Winter Sky"
            elseif v.BrickColor.Name == "Really red" then
                return v, "Pure Red"
            elseif v.BrickColor.Name == "Oyster" then
                return v, "Snow White"
            end
        end
    end
end
function CheckMasteryValue(x)
    for i, v in pairs(getupvalue(require(plr.PlayerGui.Main.UIController.Inventory).UpdateRender, 4)) do
        if v.details
        and v.details.Name == x then
            return v.details.Mastery
        end
    end
    return 0
end
function GetHazeSpawn()
    for i, v in pairs(plr.QuestHaze:GetChildren()) do
        if v.Value > 0 then
            return v.Name
        end
    end
end
function HazeCounter()
    local Counter = 0
    for i, v in pairs(plr.QuestHaze:GetChildren()) do
        if v.Value > 0 then
            Counter = Counter + 1
        end
    end
    return Counter
end
function CheckPlrHaveHallowEssence()
    for i, v in pairs(game.Players:GetChildren()) do
        if v.Character
        and (v.Backpack:FindFirstChild("Hallow Essence") or v.Character:FindFirstChild("Hallow Essence"))
        and v.Character.Humanoid.FloorMaterial ~= Enum.Material.Air then
            return v.Name
        end
    end
end
function DoDimension(v1, v2)
    if v1.Exit.BrickColor == BrickColor.new(v2) then
        Tween(v1.Exit.Position, true)
        wait(1)
    end
    local v = GetMob({"Cursed Skeleton", "Heaven's Guardian", "Hell's Messenger"})
    if v then
        AutoFSSLabel.SetText(LabelTextAFS ..  "Killing Dimension mob (CDK Quest)")
        repeat wait()
            AttackMob(v)
        until not IsMobAlive(v)
        wait(.5)
    else
        AutoFSSLabel.SetText(LabelTextAFS ..  "Doing Dimension Torch (CDK Quest)")
        if not v1.Torch1:FindFirstChild("Ignored") then
            Tween(v1.Torch1.CFrame)
            wait(1)
            fireproximityprompt(v1.Torch1.ProximityPrompt)
            local Ignored = Instance.new("IntValue", v1.Torch1)
            Ignored.Name = "Ignored"
        elseif not v1.Torch2:FindFirstChild("Ignored") then
            Tween(v1.Torch2.CFrame)
            wait(1)
            fireproximityprompt(v1.Torch2.ProximityPrompt)
            local Ignored = Instance.new("IntValue", v1.Torch2)
            Ignored.Name = "Ignored"
        elseif not v1.Torch3:FindFirstChild("Ignored") then
            Tween(v1.Torch3.CFrame)
            wait(1)
            fireproximityprompt(v1.Torch3.ProximityPrompt)
            local Ignored = Instance.new("IntValue", v1.Torch3)
            Ignored.Name = "Ignored"
        end
        wait(0.5)
        plr.Character.HumanoidRootPart.CFrame = plr.Character.HumanoidRootPart.CFrame * CFrame.new(0, 100, 0)
    end
end
function FindMobExist(v)
    if game.ReplicatedStorage:FindFirstChild(v)
    or game.workspace.Enemies:FindFirstChild(v) then
        return true
    end
end
local FDealDamageFruits = {
    "Venom-Venom",
    "Shadow-Shadow",
    "Dough-Dough"
}
local SkillList = {"Z", "X", "C", "V", "F"}
function GetUseableSkillWP()
    for i, v in ipairs(plr.PlayerGui.Main.Skills:GetDescendants()) do
        if table.find(SkillList, v.Name)
        and v.Title.Text ~= "Transformation"
        and v.Title.TextColor3 == Color3.fromRGB(255, 255, 255) 
        and v.Cooldown.Size == UDim2.new(0, 0, 1, -1)
        and (v.Name ~= "Z" or v.Name == "Z" and not table.find(IgnoreZFruits, v.Parent.Name))
        and (v.Name ~= "F" or v.Name == "F" and table.find(FDealDamageFruits, v.Parent.Name)) then
            return v.Parent.Name
        end
    end
end
function CheckSeaBeast()
    for i, v in ipairs(game.workspace.SeaBeasts:GetChildren()) do
        if v.Name == "SeaBeast1"
        and v:FindFirstChild("HealthBBG") then
            local MaxHealth = v.HealthBBG.Frame.TextLabel.Text:split("/")[2]
            MaxHealth = MaxHealth:gsub(",", "")
            MaxHealth = tonumber(MaxHealth)
            if MaxHealth >= 90000 then
                return v
            end
        end
    end
end
function CheckPirateShip()
    for i, v in ipairs(game.workspace.Enemies:GetChildren()) do
        if (v.Name == "PirateBasic" or v.Name == "PirateBrigade")
        and v:FindFirstChild("Health") and v.Health.Value > 0 then
            return v
        end
    end
end
function FindOwnBoat()
    for i, v in ipairs(game.workspace.Boats:GetChildren()) do
        if v.Owner.Value == plr
        and v.Humanoid.Value ~= 0 then
            return v
        end
    end
end
local SeaBeastRandomPos = {
    CFrame.new(0, 200, 25),
    CFrame.new(0, 200, -25)
}
local BossDrops = {
    [2753915549] = {
        ["Coat"] = "Vice Admiral", --
        ["Wardens Sword"] = "Chief Warden",
        ["Pink Coat"] = "Swan",
        ["Refined Musket"] = "Magma Admiral",
        ["Trident"] = "Fishman Lord",
        ["Bazooka"] = "Wysper",
        ["Pole (1st Form)"] = "Thunder God",
        ["Cool Shades"] = "Cyborg",
        ["Shark Saw"] = "The Saw",
    },
    [4442272183] = {
        ["Longsword"] = "Diamond",
        ["Black Spikey Coat"] = "Jeremy",
        ["Gravity Cane"] = "Fajita",
        ["Jitte"] = "Smoke Admiral",
        ["Rengoku"] = "Awakened Ice Admiral",
        ["Dragon Trident"] = "Tide Keeper",
        ["Red Spikey Coat"] = "Cursed Captain",
        ["Blue Spikey Coat"] = "Cursed Captain",
        ["Dark Coat"] = "Darkbeard",
    },
    [7449423635] = {
        ["Pilot Helmet"] = "Stone",
        ["Serpent Bow"] = "Island Empress",
        ["Lei"] = "Kilo Admiral",
        ["Twin Hooks"] = "Captain Elephant",
        ["Canvander"] = "Beautiful Pirate",
        ["Buddy Sword"] = "Cake Queen",
        ["Valkyrie Helm"] = "rip_indra True Form",
        ["Dark Dagger"] = "rip_indra True Form",
        ["Spikey Trident"] = "Cake Prince",
        ["Spikey Trident"] = "Dough King",
        ["Holy Crown"] = "Soul Reaper",
        ["Hallow Scythe"] = "Soul Reaper",
    }
}
local RaidBoss = {
    "The Saw",
    "Cursed Captain",
    "Darkbeard",
    "rip_indra True Form",
    "Cake Prince",
    "Dough King",
    "Soul Reaper",
}
if CommF:InvokeServer("ZQuestProgress", "Check") == 1 then
    BossDrops[4442272183]["Swan Glasses"] = "Don Swan"
end
getgenv().DonePrefarmGodhuman = 400
function PreFarmGodhuman(v)
    if v.Level.Value < DonePrefarmGodhuman then
        local x = "Prefarming Godhuman while not having enough Beli / Fragment / Requirements to buy v2 Fighting Style"
        if DonePrefarmGodhuman == 400 then
            x = "Farming till have enough Beli / Fragment / Requirements to buy v2 Fighting Style"
        end
        AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit " .. DonePrefarmGodhuman .. " Mastery\n" .. x)
        getgenv().AFSWeapon = v.Name
    else
        if v.Name == "Superhuman" then
            if CommF:InvokeServer("BuyDeathStep", true) == 1 then
                BuyFightingStyle("BuyDeathStep")
            else
                BuyFightingStyle("BuyFishmanKarate")
            end
        elseif v.Name == "Death Step" then
            if CommF:InvokeServer("BuySharkmanKarate", true) == 1 then
                BuyFightingStyle("BuySharkmanKarate")
            else
                BuyFightingStyle("BuyElectro")
            end
        elseif v.Name == "Sharkman Karate" then
            if CommF:InvokeServer("BuyElectricClaw", true) == 1 then
                BuyFightingStyle("BuyElectricClaw")
            else
                BuyFightingStyle("DragonClaw")
            end
        elseif v.Name == "Electric Claw" then
            BuyFightingStyle("BuySuperhuman")
            getgenv().DonePrefarmGodhuman = 600
        elseif v.Name == "Fishman Karate" then
            BuyFightingStyle("BuyElectro")
        elseif v.Name == "Electro" then
            BuyFightingStyle("DragonClaw")
        elseif v.Name == "Dragon Claw" then
            BuyFightingStyle("BuySuperhuman")
            getgenv().DonePrefarmGodhuman = 600
        end
    end
end
local RaidSummon, RaidColor
if game.PlaceId ~= 2753915549 then
    RaidSummon = game.workspace.Map:FindFirstChild("CircleIsland") or game.workspace.Map:FindFirstChild("Boat Castle")
    RaidSummon = RaidSummon.RaidSummon2
    RaidColor = Color3.fromRGB(255, 255, 0)
    if game.PlaceId == 4442272183 then
        RaidColor = Color3.fromRGB(0, 0, 255)
    end
end
getgenv().IgnoreSBF = {"Portal-Portal"}
function CountZombie(x)
    local Counter = 0
    for i, v in pairs(game.workspace.Enemies:GetChildren()) do
        if v.Name == "Living Zombie [Lv. 2000]"
        and IsMobAlive(v) then
            if not x or (v.HumanoidRootPart.Position - Vector3.new(-10171.7607421875, 138.62667846679688, 6008.0654296875)).magnitude < 50 then
                Counter = Counter + 1
            end
        end
    end
    return Counter
end
local BlankTablets = {
    "Segment6",
    "Segment2",
    "Segment8",
    "Segment9",
    "Segment5"
}
local Trophy = {
    ["Segment1"] = "Trophy1",
    ["Segment3"] = "Trophy2",
    ["Segment4"] = "Trophy3",
    ["Segment7"] = "Trophy4",
    ["Segment10"] = "Trophy5",
}
local Pipes = {
    ["Part1"] = "Really black",
    ["Part2"] = "Really black",
    ["Part3"] = "Dusty Rose",
    ["Part4"] = "Storm blue",
    ["Part5"] = "Really black",
    ["Part6"] = "Parsley green",
    ["Part7"] = "Really black",
    ["Part8"] = "Dusty Rose",
    ["Part9"] = "Really black",
    ["Part10"] = "Storm blue",
}
function Jump()
    game:GetService("VirtualInputManager"):SendKeyEvent(true, "Space", false, game)
    wait()
    game:GetService("VirtualInputManager"):SendKeyEvent(false, "Space", false, game)
end
function FarmLocation(Mobs, WaitPos, DisableHop)
    if DisableHop then
        HopIfNearFarmArea(WaitPos.Position)
    end
    local v = GetMob(Mobs)
    if v then
        getgenv().WaitSpawnTimer = nil
        repeat wait()
            HopIfNearFarmArea(WaitPos.Position)
            AttackMob(v)
        until not IsMobAlive(v)
        wait(.5)
    else
        if not WaitSpawnTimer then
            getgenv().WaitSpawnTimer = tick()
        elseif tick() - WaitSpawnTimer > 180 then
            getgenv().WaitSpawnTimer = nil
            if not table.find(SelectedIgnoreHop, "[Main] Server Hop") then
                Library.CreateNoti({Desc = "Server glitched, mobs not spawning in 3 minutes", ShowTime = 5})
                HopServer()

                wait(5)
            else                               
                if game.PlaceId == 2753915549 then
                    TPLocation("Underwater City Entrance")
                elseif game.PlaceId == 4442272183 then
                    TPLocation("Swan's Room")
                elseif game.PlaceId == 7449423635 then
                    TPLocation("Castle on the Sea")
                end
            end
            return
        end
        Tween(WaitPos)
    end
end
function GetSwordMaxMastery(x)
    local HighestMasteryRequire = 0
    for i, v in pairs(getupvalue(require(plr.PlayerGui.Main.UIController.Inventory).UpdateRender, 4)) do
        if v.details
        and v.details.Name == x then
            for _, k in pairs(v.details.MasteryRequirements) do
                if HighestMasteryRequire < k then
                    HighestMasteryRequire = k
                end
            end
        end
    end
    return HighestMasteryRequire
end
function GetPresentMinute()
    a = game.workspace.Map.CandyCane.Countdown.SurfaceGui.TextLabel.Text
    a = a:split(":")[2]
    return tonumber(a)
end
function GetPresent()
    for i, v in pairs(wOrigin:GetChildren()) do
        if v.Name == "Present" and v:FindFirstChild("Box") and v.Box:FindFirstChild("ProximityPrompt") then
            return v
        end
    end
end

function AutoFarmFeatures()
    if Panicing or Settings.AMHopServer then return end
    
    if (Settings.AutoRaid or Settings.Cuttay) then
        if CheckPlrBackpack("Special Microchip") and RaidSummon.MainRaid.Color.Color == RaidColor then
            repeat wait()
                if CheckPlrBackpack("Special Microchip") and not TweenPath then
                    fireclickdetector(RaidSummon.Button.Main.ClickDetector)
                    wait(2)
                end
            until plr.PlayerGui.Main.Timer.Visible or not Settings.AutoRaid and not Settings.Cuttay
        end
        if (plr.PlayerGui.Main.Timer.Visible or CheckInRaid()) then
            AutoFarmLabel.SetText(LabelTextAF ..  "Doing Raid")
            repeat wait()
                getgenv().SetSimulationRadius = true
                KillRaidEnemy()
                local RaidIsland = GetLastRaidIsland()
                if RaidIsland then
                    getgenv().noclip = true
                    Tween(RaidIsland.Position + Vector3.new(0, 100, 0))
                end
            until not plr.PlayerGui.Main.Timer.Visible
            or IsPlayerDead()
            or not Settings.AutoRaid and not Settings.Cuttay
            wait(3)
            ForceStopTween(true)
            getgenv().SetSimulationRadius = false
            wait(5)
            if Settings.AutoRaidAFR and Settings.AutoRaid and not IsPlayerDead() then
                CommF:InvokeServer("Awakener", "Awaken")
                CommF:InvokeServer("Awakener", "Check")
            end
            return
        end
    end

    if game.PlaceId ~= 2753915549
    and Settings.AutoWorldEvent
    and ASWeapon ~= "Tushita" then
        if game.PlaceId == 7449423635 then
            if PirateRaiding then
                AutoFarmLabel.SetText(LabelTextAF ..  "Killing Raid Pirates")
                local v = GetPirateRaid()
                if v then
                    repeat wait()
                        AttackMob(v)
                    until not IsMobAlive(v)
                    or not Settings.AutoWorldEvent
                    if not GetPirateRaid() and Settings.AutoWorldEvent then
                        local Timer = tick()
                        repeat wait(1)
                        until GetPirateRaid()
                        or tick() - Timer > 10
                        or not Settings.AutoWorldEvent 
                        if tick() - Timer > 10 and not GetPirateRaid() then
                            getgenv().PirateRaiding = false
                        end
                    end
                    return
                else
                    local UnloadMob = GetPirateRaid(true)
                    if UnloadMob then
                        Tween(UnloadMob.HumanoidRootPart.CFrame * CFrame.new(0, Settings.Distance * 2, 0))
                    end
                    return
                end
            elseif not PirateRaidCheck then
                getgenv().PirateRaidCheck = true
                delay(10, function()
                    getgenv().PirateRaidCheck = false
                end)
                if GetPirateRaid() or GetPirateRaid(true) then
                    getgenv().PirateRaiding = true
                end
            elseif Settings.AWEHopServer then
                HopServer(true)
                wait(5)
                return
            end
        else
            local x = "Core"
            local v = GetMob(x)
            if v then
                AutoFarmLabel.SetText(LabelTextAF ..  "Attacking " .. x)
                repeat wait()
                    AttackMob(v)
                until not IsMobAlive(v)
            else
                local UnloadBoss = child_stringfind(game.ReplicatedStorage, x, true, true)
                if UnloadBoss then
                    Tween(UnloadBoss.HumanoidRootPart.CFrame * CFrame.new(0, Settings.Distance * 2, 0))
                    return
                elseif Settings.AWEHopServer then
                    HopServer(true)
                    wait(5)
                    return
                end
            end
        end
    end

    local TargetBoss
    if Settings.BossFarm or (Settings.Cuttay and (Settings.CT_FarmBossDrop2 or FarmBossDrop and Settings.CT_FarmBossDrop)) then
        local BossList = {}
        local x = SelectedBFBoss
        if Settings.Cuttay then
            x = {}
            for i, v in pairs(BossDrops[game.PlaceId]) do
                if not IsHaveItem(i) then
                    table.insert(x, v)
                end
            end
        end
        if not Settings.Cuttay
        or plr.Data.Stats.Melee.Level.Value >= 1200 then
            for i, v in pairs(x) do
                if (child_stringfind(game.workspace.Enemies, v, true) == 1
                or child_stringfind(game.ReplicatedStorage, v, true) == 1)
                and (plrLevel == MaxLevel
                or not string.find(plr.PlayerGui.Main.Level.Exp.Text, "2x ends")
                or table.find(RaidBoss, v)
                or Bosses[v] and Bosses[v].QPos and plr:DistanceFromCharacter(Bosses[v].QPos.Position) < 1000) then
                    table.insert(BossList, v)
                end
            end
        end
        TargetBoss = GetMob(BossList, true)
        if not TargetBoss
        and Settings.BFHopServer then
            HopServer()
            wait(5)
            return
        end
    end

    if Settings.TweenNBF and (not ASWeapon or ASWeapon ~= "Tushita") then
        local v = GetNaturalBloxFruit()
        if v then
            getgenv().DisableEquipItem = true
            AutoFarmLabel.SetText(LabelTextAF ..  "Picking up Natural spawned Blox Fruit")
            local FruitRoot = v:FindFirstChild("Handle") or v:FindFirstChild("Fruit")
            if FruitRoot:IsA("Model") then
                FruitRoot = FruitRoot:FindFirstChild("RootPart")
            end
            local PickupTimer
            repeat wait(1)
                Tween(FruitRoot.Position, true, 200)
                if plr:DistanceFromCharacter(FruitRoot.Position) < 100 and not PickupTimer then
                    PickupTimer = tick()
                end
            until not v or not v.Parent
            or not FruitRoot or not FruitRoot.Parent
            or PickupTimer and tick() - PickupTimer > 60
            or not Settings.TweenNBF
            if PickupTimer and tick() - PickupTimer > 60 and v and FruitRoot then
                local Ignored = Instance.new("IntValue", v)
                Ignored.Name = "Ignored"
            end
            return
        elseif not TargetBoss then
            if Settings.BTDFHopServer
            and not Settings.TweenBF
            and not Settings.AutoRaid then
                HopServer(true)
                wait(5)
                return
            end
            if not Settings.TweenBF then
                getgenv().DisableEquipItem = false
            end
        end
    end

    if Settings.TweenBF and (not ASWeapon or ASWeapon ~= "Tushita") then
        local v = GetDroppedFruit()
        if v then
            getgenv().DisableEquipItem = true
            AutoFarmLabel.SetText(LabelTextAF ..  "Picking up dropped Blox Fruit")
            if plr:DistanceFromCharacter(v.Position) < 1000 then
                firetouchinterest(plr.Character.HumanoidRootPart, v, 0)
                firetouchinterest(plr.Character.HumanoidRootPart, v, 1)
            else
                Tween(v.Position + Vector3.new(0, 5, 0), true, 200)
            end
            if Settings.AutoRaid then
                plr.Character.HumanoidRootPart.CFrame = plr.Character.HumanoidRootPart.CFrame * CFrame.new(0, 100, 0)
            end
            wait(1)
            return
        elseif not TargetBoss then
            if Settings.BTDFHopServer
            and not Settings.AutoRaid then
                HopServer(true)
                wait(5)
                return
            end
            getgenv().DisableEquipItem = false
        end
    end

    if Settings.AutoSuperhuman
    and not DoneSuperhuman then
        local v = GetCurrentEquippedM1()
        if v.Name == "Black Leg" then
            if v.Level.Value < 300 then
                AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit 300 Mastery")
                getgenv().AFSWeapon = v.Name
            else
                BuyFightingStyle("BuyElectro", "Electric", 500000, 0)
            end
        elseif v.Name == "Electro" then
            if v.Level.Value < 300 then
                AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit 300 Mastery")
                getgenv().AFSWeapon = v.Name
            else
                BuyFightingStyle("BuyFishmanKarate", "Water Kung Fu", 750000, 0)
            end
        elseif v.Name == "Fishman Karate" then
            if v.Level.Value < 300 then
                AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit 300 Mastery")
                getgenv().AFSWeapon = v.Name
            else
                BuyFightingStyle("DragonClaw", "Dragon Breath", 0, 1500)
            end
        elseif v.Name == "Dragon Claw" then
            if v.Level.Value < 300 then
                AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit 300 Mastery")
                getgenv().AFSWeapon = v.Name
            else
                BuyFightingStyle("BuySuperhuman", "Superhuman", 3000000, 0)
                wait(1)
                if CommF:InvokeServer("BuySuperhuman", true) ~= 1 then
                    BuyFightingStyle("BuyBlackLeg", "Black Leg", 150000, 0)
                end
            end
        elseif v.Name == "Superhuman" then
            if Settings.OSIFS
            and v.Level.Value < 330 then
                AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit 330 Mastery")
                getgenv().AFSWeapon = v.Name
            else
                AutoFSSLabel.SetText(LabelTextAFS ..  "Done Auto Superhuman")
                getgenv().AFSWeapon = nil
                getgenv().DoneSuperhuman = true
                if AutoSuperhumanToggle then AutoSuperhumanToggle.SetStage(false) end
            end
        else
            getgenv().AFSWeapon = "Melee"
            BuyFightingStyle("BuyBlackLeg", "Black Leg", 150000, 0)
        end
    elseif Settings.AutoDeathStep
    and not DoneDeathStep then
        local v = GetCurrentEquippedM1()
        if v.Name == "Black Leg" or TemporaryAFS then
            if not TemporaryAFS and v.Level.Value < 400 then
                AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit 400 Mastery")
                getgenv().AFSWeapon = v.Name
            else
                if CommF:InvokeServer("BuyDeathStep", true) ~= 3 then
                    if TemporaryAFS then
                        PreFarmGodhuman(v)
                    end
                    BuyFightingStyle("BuyDeathStep", "Death Step", 2500000, 5000)
                else
                    if not DeathStepNoti then
                        getgenv().DeathStepNoti = true
                        AutoFSSLabel.SetText(LabelTextAFS ..  "Failed to buy Death Step (Library not unlocked)")
                        wait(3)
                    end
                    if game.PlaceId == 4442272183 then
                        if CheckPlrBackpack("Library Key") then
                            EquipItem("Library Key")
                            Tween(game.workspace.Map.IceCastle.Hall.LibraryDoor.Keyhole.Detect.Position, true)
                            wait(1)
                        else
                            local x = "Awakened Ice Admiral"
                            local v = GetMob(x)
                            if v then
                                repeat wait()
                                    AttackMob(v)
                                until not IsMobAlive(v)
                                wait(1)
                            else
                                local UnloadBoss = child_stringfind(game.ReplicatedStorage, x, true, true)
                                if UnloadBoss then
                                    Tween(UnloadBoss.HumanoidRootPart.CFrame * CFrame.new(0, Settings.Distance * 2, 0))
                                    return
                                elseif Settings.AFSHopServer then
                                    HopServer()
                                    wait(5)
                                    return
                                else
                                    AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. x .. " spawn")
                                end
                            end
                        end
                    else
                        AutoFSSLabel.SetText(LabelTextAFS ..  "Traveling to Sea 2")
                        CommF:InvokeServer("TravelDressrosa")
                        wait(5)
                        return
                    end
                end
            end
        elseif v.Name == "Death Step" then
            if game.PlaceId ~= 7449423635
            and Settings.AFSTPSea3 and CommF:InvokeServer("ZQuestProgress", "Check") == 1 then
                AutoFSSLabel.SetText(LabelTextAFS ..  "Traveling to Sea 3")
                CommF:InvokeServer("TravelZou")
                wait(5)
                return
            end
            if Settings.OSIFS
            and v.Level.Value < 350 then
                AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit 350 Mastery")
                getgenv().AFSWeapon = v.Name
            else
                AutoFSSLabel.SetText(LabelTextAFS ..  "Done Auto Death Step")
                getgenv().AFSWeapon = nil
                getgenv().DoneDeathStep = true
                if AutoDeathStepToggle then AutoDeathStepToggle.SetStage(false) end
            end
        else
            BuyFightingStyle("BuyBlackLeg", "Black Leg", 150000, 0)
            return
        end
    elseif Settings.AutoSharkmanKarate
    and not DoneSharkmanKarate then
        local v = GetCurrentEquippedM1()
        if v.Name == "Fishman Karate" or TemporaryAFS then
            if not TemporaryAFS and v.Level.Value < 400 then
                AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit 400 Mastery")
                getgenv().AFSWeapon = v.Name
            else
                if not string.find(CommF:InvokeServer("BuySharkmanKarate", true), "I lost") then
                    if TemporaryAFS then
                        PreFarmGodhuman(v)
                    end
                    BuyFightingStyle("BuySharkmanKarate", "Sharkman Karate", 2500000, 5000)
                else
                    if not SharkmanKarateNoti then
                        getgenv().SharkmanKarateNoti = true
                        AutoFSSLabel.SetText(LabelTextAFS ..  "Failed to buy Sharkman Karate (haven't gave Water Key)")
                        wait(3)
                    end
                    if game.PlaceId == 4442272183 then
                        if CheckPlrBackpack("Water Key") then
                            CommF:InvokeServer("BuySharkmanKarate", true)
                            wait(1)
                            return
                        else
                            local x = "Tide Keeper"
                            local v = GetMob(x)
                            if v then
                                repeat wait()
                                    AttackMob(v)
                                until not IsMobAlive(v)
                                wait(1)
                            else
                                local UnloadBoss = child_stringfind(game.ReplicatedStorage, x, true, true)
                                if UnloadBoss then
                                    Tween(UnloadBoss.HumanoidRootPart.CFrame * CFrame.new(0, Settings.Distance * 2, 0))
                                    return
                                elseif Settings.AFSHopServer then
                                    HopServer()
                                    wait(5)
                                    return
                                else
                                    AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. x .. " spawn")
                                end
                            end
                        end
                    else
                        AutoFSSLabel.SetText(LabelTextAFS ..  "Traveling to Sea 2")
                        CommF:InvokeServer("TravelDressrosa")
                        wait(5)
                        return
                    end
                end
            end
        elseif v.Name == "Sharkman Karate" then
            if game.PlaceId ~= 7449423635
            and Settings.AFSTPSea3 and CommF:InvokeServer("ZQuestProgress", "Check") == 1 then
                AutoFSSLabel.SetText(LabelTextAFS ..  "Traveling to Sea 3")
                CommF:InvokeServer("TravelZou")
                wait(5)
                return
            end
            if Settings.OSIFS
            and v.Level.Value < 300 then
                AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit 300 Mastery")
                getgenv().AFSWeapon = v.Name
            else
                AutoFSSLabel.SetText(LabelTextAFS ..  "Done Auto Sharkman Karate")
                getgenv().AFSWeapon = nil
                getgenv().DoneSharkmanKarate = true
                if AutoSharkmanKarateToggle then AutoSharkmanKarateToggle.SetStage(false) end
            end
        else
            BuyFightingStyle("BuyFishmanKarate", "Water Kung Fu", 750000, 0)
            return
        end
    elseif Settings.AutoElectricClaw
    and not DoneElectricClaw then
        local v = GetCurrentEquippedM1()
        if v.Name == "Electro" or TemporaryAFS then
            if not TemporaryAFS and v.Level.Value < 400 then
                AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit 400 Mastery")
                getgenv().AFSWeapon = v.Name
            else
                if not string.find(CommF:InvokeServer("BuyElectricClaw", true), "Nah")
                and CommF:InvokeServer("BuyElectricClaw", true) ~= 4 then
                    if TemporaryAFS then
                        PreFarmGodhuman(v)
                    end
                    BuyFightingStyle("BuyElectricClaw", "Electric Claw", 3000000, 5000)
                else
                    if not ElectricClawNoti then
                        getgenv().ElectricClawNoti = true
                        AutoFSSLabel.SetText(LabelTextAFS ..  "Failed to buy Electric Claw (Race Quest not finished)")
                        wait(3)
                    end
                    if game.PlaceId == 7449423635 then
                        if plr:DistanceFromCharacter(Vector3.new(-10369.2568359375, 331.6542663574219, -10128.90625)) < 10 then
                            CommF:InvokeServer("BuyElectricClaw", "Start")
                            wait(1)
                            TPLocation("Mansion")
                            wait(1)
                        else
                            Tween(CFrame.new(-10369.2568359375, 331.6542663574219, -10128.90625))
                            wait(2)
                            return
                        end
                    else
                        if CommF:InvokeServer("ZQuestProgress", "Check") == 1 then
                            AutoFSSLabel.SetText(LabelTextAFS ..  "Traveling to Sea 3")
                            CommF:InvokeServer("TravelZou")
                            wait(5)
                            return
                        else
                            AutoFSSLabel.SetText(LabelTextAFS ..  "Sea 3 is not unlocked to buy Electric Claw")
                            if Settings.Cuttay then
                                if not TemporaryAFS
                                and CommF:InvokeServer("BuySuperhuman", true) == 1 then
                                    BuyFightingStyle("BuySuperhuman")
                                    getgenv().TemporaryAFS = true
                                end
                                CT_DisableAutoRaid()
                                CT_EnableFarm()
                            end
                        end
                    end
                end
            end
        elseif v.Name == "Electric Claw" then
            if Settings.OSIFS
            and v.Level.Value < 330 then
                AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit 330 Mastery")
                getgenv().AFSWeapon = v.Name
            else
                AutoFSSLabel.SetText(LabelTextAFS ..  "Done Auto Electric Claw")
                getgenv().AFSWeapon = nil
                getgenv().DoneElectricClaw = true
                if AutoElectricClawToggle then AutoElectricClawToggle.SetStage(false) end
            end
        else
            BuyFightingStyle("BuyElectro", "Electric", 500000, 0)
            return
        end
    elseif Settings.AutoDragonTalon
    and not DoneDragonTalon then
        local v = GetCurrentEquippedM1()
        if v.Name == "Dragon Claw" or TemporaryAFS then
            if not TemporaryAFS and v.Level.Value < 400 then
                AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit 400 Mastery")
                getgenv().AFSWeapon = v.Name
            else
                if TemporaryAFS then
                    PreFarmGodhuman(v)
                end
                if not string.find(CommF:InvokeServer("BuyDragonTalon", true), "Set your") then
                    BuyFightingStyle("BuyDragonTalon", "Dragon Talon", 3000000, 5000)
                else
                    if not DragonTalonNoti then
                        getgenv().DragonTalonNoti = true
                        AutoFSSLabel.SetText(LabelTextAFS ..  "Failed to buy Dragon Talon (Haven't gave Fire Essence)")
                        wait(3)
                    end
                    if game.PlaceId == 7449423635 then
                        if CheckPlrBackpack("Fire Essence") then
                            getgenv().TemporaryAFS = false
                            CommF:InvokeServer("BuyDragonTalon", true)
                            wait(1)
                            return
                        else
                            if Settings.Cuttay
                            and not TemporaryAFS
                            and CommF:InvokeServer("BuySuperhuman", true) == 1 then
                                BuyFightingStyle("BuySuperhuman")
                                getgenv().TemporaryAFS = true
                            end
                            if CommF:InvokeServer("Bones", "Buy", 1, 1) ~= 0 then
                                repeat wait()
                                    if GetItemCount("Bones") < 50 then
                                        AutoFSSLabel.SetText(LabelTextAFS ..  "Not have enough Bone to buy random (to get Fire Essence)")
                                        AutoFarmLabel.SetText(LabelTextAF ..  "Farming Bone")
                                        FarmLocation({"Reborn Skeleton", "Living Zombie", "Demonic Soul", "Posessed Mummy"}, CFrame.new(-9500.9443359375, 172.10487365722656, 6167.43359375))
                                    end
                                until CommF:InvokeServer("Bones", "Buy", 1, 1) ~= 0
                                or not Settings.AutoDragonTalon
                                return
                            end
                        end
                    else
                        if CommF:InvokeServer("ZQuestProgress", "Check") == 1 then
                            AutoFSSLabel.SetText(LabelTextAFS ..  "Traveling to Sea 3")
                            CommF:InvokeServer("TravelZou")
                            wait(5)
                            return
                        else
                            AutoFSSLabel.SetText(LabelTextAFS ..  "Sea 3 is not unlocked to buy Dragon Talon")
                        end
                    end
                end
            end
        elseif v.Name == "Dragon Talon" then
            if Settings.OSIFS
            and v.Level.Value < 350 then
                AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit 350 Mastery")
                getgenv().AFSWeapon = v.Name
            else
                if Settings.Cuttay then BuyFightingStyle("BuySuperhuman") end
                AutoFSSLabel.SetText(LabelTextAFS ..  "Done Auto Dragon Talon")
                getgenv().AFSWeapon = nil
                getgenv().DoneDragonTalon = true
                if AutoDragonTalonToggle then AutoDragonTalonToggle.SetStage(false) end
            end
        else
            BuyFightingStyle("DragonClaw", "Dragon Breath", 0, 1500)
            return
        end
    elseif Settings.AutoGodhuman
    and not DoneGodhuman then
        if CommF:InvokeServer("BuyGodhuman", true) == 3 then
            local v = GetCurrentEquippedM1()
            if v.Name == "Superhuman" then
                if v.Level.Value < 400 then
                    AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit 400 Mastery")
                    getgenv().AFSWeapon = v.Name
                else
                    BuyFightingStyle("BuyDeathStep")
                end
            elseif v.Name == "Death Step" then
                if v.Level.Value < 400 then
                    AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit 400 Mastery")
                    getgenv().AFSWeapon = v.Name
                else
                    BuyFightingStyle("BuyElectricClaw")
                end
            elseif v.Name == "Electric Claw" then
                if v.Level.Value < 400 then
                    AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit 400 Mastery")
                    getgenv().AFSWeapon = v.Name
                else
                    BuyFightingStyle("BuySharkmanKarate")
                end
            elseif v.Name == "Sharkman Karate" then
                if v.Level.Value < 400 then
                    AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit 400 Mastery")
                    getgenv().AFSWeapon = v.Name
                else
                    BuyFightingStyle("BuyDragonTalon")
                end
            elseif v.Name == "Dragon Talon" then
                if v.Level.Value < 400 then
                    AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit 400 Mastery")
                    getgenv().AFSWeapon = v.Name
                else
                    if CommF:InvokeServer("BuyGodhuman", true) == 3 then
                        BuyFightingStyle("BuySuperhuman")
                    end
                    return
                end
            end
        elseif CommF:InvokeServer("BuyGodhuman", true) == "Bring me 20 Fish Tails, 20 Magma Ore, 10 Dragon Scales and 10 Mystic Droplets." then
            local x, m = GetMaterialMob()
            if not x then return end
            AutoFSSLabel.SetText(LabelTextAFS ..  "Farming material " .. m[1])
            local v = GetMob(x)
            if v then
                repeat wait()
                    AttackMob(v)
                until not IsMobAlive(v)
                or GetItemCount(m[1]) >= m[2]
                or not Settings.AutoGodhuman
            else
                if game.PlaceId == 2753915549 then
                    AutoFSSLabel.SetText(LabelTextAFS ..  "Traveling to Sea 3")
                    CommF:InvokeServer("TravelZou")
                    wait(5)
                    return
                end
                if m[1] == "Dragon Scale" then
                    if not SwapPlace then
                        Tween(CFrame.new(6669.94873046875, 439.9706115722656, 301.8127746582031))
                        getgenv().SwapPlace = true
                    else
                        Tween(CFrame.new(6505.375, 88.36115264892578, -971.4375610351562))
                        getgenv().SwapPlace = false
                    end
                elseif m[1] == "Magma Ore" then
                    if not SwapPlace then
                        Tween(CFrame.new(-5284.91845703125, 34.14228439331055, -5965.37841796875))
                        getgenv().SwapPlace = true
                    else
                        Tween(CFrame.new(-5193.80419921875, 35.531166076660156, -4996.73388671875))
                        getgenv().SwapPlace = false
                    end
                elseif m[1] == "Mystic Droplet" then
                    if not SwapPlace then
                        Tween(CFrame.new(-3326.19580078125, 266.4623718261719, -10516.6728515625))
                        getgenv().SwapPlace = true
                    else
                        Tween(CFrame.new(-3026.425048828125, 65.14846801757812, -9768.79296875))
                        getgenv().SwapPlace = false
                    end
                elseif m[1] == "Fish Tail" then
                    if not SwapPlace then
                        Tween(CFrame.new(-10957.9541015625, 331.78851318359375, -8889.294921875))
                        getgenv().SwapPlace = true
                    else
                        Tween(CFrame.new(-10674.505859375, 331.78851318359375, -8515.8017578125))
                        getgenv().SwapPlace = false
                    end
                else
                    local UnloadMob = child_stringfind(game.ReplicatedStorage, x[1], true, true)
                    if UnloadMob then
                        Tween(UnloadMob.HumanoidRootPart.CFrame * CFrame.new(0, Settings.Distance * 2, 0))
                    end
                end
            end
            return
        else
            if game.PlaceId ~= 7449423635 then
                AutoFSSLabel.SetText(LabelTextAFS ..  "Traveling to Sea 3")
                CommF:InvokeServer("TravelZou")
                wait(5)
                return
            end
            BuyFightingStyle("BuyGodhuman", "Godhuman", 5000000, 5000)
            local v = GetCurrentEquippedM1()
            if v.Name == "Godhuman" then
                if Settings.OSIFS
                and v.Level.Value < 350 then
                    AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit 350 Mastery")
                    getgenv().AFSWeapon = v.Name
                else
                    AutoFSSLabel.SetText(LabelTextAFS ..  "Done Auto Godhuman")
                    getgenv().AFSWeapon = nil
                    getgenv().DoneGodhuman = true
                    if AutoGodhumanToggle then AutoGodhumanToggle.SetStage(false) end
                end
            end
        end
    elseif Settings.AutoSaber
    and plrLevel >= 300
    and not DoneSaber then
        if Settings.Cuttay and Settings.MobFarm and MobFarmToggle then MobFarmToggle.SetStage(false) end
        local v = GetCurrentEquippedM1("Sword")
        if v and v.Name == "Saber" then
            if game.PlaceId ~= 7449423635
            and Settings.AFSTPSea3 and CommF:InvokeServer("ZQuestProgress", "Check") == 1 then
                AutoFSSLabel.SetText(LabelTextAFS ..  "Traveling to Sea 3")
                CommF:InvokeServer("TravelZou")
                wait(5)
                return
            end
            if Settings.OSIFS
            and CheckMasteryValue(v.Name) < 350 then
                AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit 350 Mastery")
                getgenv().ASWeapon = v.Name
            else
                AutoFSSLabel.SetText(LabelTextAFS ..  "Done Auto Saber")
                getgenv().ASWeapon = nil
                getgenv().DoneSaber = true
                if AutoSaberToggle then AutoSaberToggle.SetStage(false) end
            end 
        else
            if IsHaveItem("Saber") then
                CommF:InvokeServer("LoadItem", "Saber")
                return
            else
                if game.PlaceId == 2753915549 then
                    AutoFarmLabel.SetText(LabelTextAF ..  "Doing Saber Quest")
                    if game.workspace.Map.Jungle.Final.Invis.CanCollide then
                        if game.workspace.Map.Jungle.QuestPlates.Door.CanCollide then
                            for i, v in ipairs(game.workspace.Map.Jungle.QuestPlates:GetChildren()) do
                                if v:FindFirstChild("Button")
                                and v.Button:FindFirstChild("TouchInterest") then
                                    repeat wait()
                                        Tween(v.Button.Position, true)
                                    until not v.Button:FindFirstChild("TouchInterest")
                                end
                            end
                        else
                            if game.workspace.Map.Desert.Burn.Part.CanCollide then
                                if CheckPlrBackpack("Torch") then
                                    EquipItem("Torch")
                                    Tween(game.workspace.Map.Desert.Burn.Part.CFrame * CFrame.new(0, 0, 2), true)
                                    wait(7)
                                else
                                    Tween(game.workspace.Map.Jungle.Torch.Position, true)
                                end
                            else
                                if CommF:InvokeServer("ProQuestProgress", "RichSon") == 0 then
                                    local x = "Mob Leader"
                                    local v = GetMob(x)
                                    if v then
                                        AutoFarmLabel.SetText(LabelTextAF ..  "Killing " .. x)
                                        repeat wait()
                                            AttackMob(v)
                                        until not IsMobAlive(v)
                                    else
                                        local UnloadBoss = child_stringfind(game.ReplicatedStorage, x, true, true)
                                        if UnloadBoss then
                                            Tween(UnloadBoss.HumanoidRootPart.CFrame * CFrame.new(0, Settings.Distance * 2, 0))
                                            return
                                        else
                                            AutoFarmLabel.SetText(LabelTextAF ..  "Waiting ".. x .." spawn")
                                        end
                                    end
                                elseif CommF:InvokeServer("ProQuestProgress", "RichSon") == 1 then
                                    if CheckPlrBackpack("Relic") then
                                        EquipItem("Relic")
                                        Tween(game.workspace.Map.Jungle.Final.Invis.Position + Vector3.new(0, 0, 2), true)
                                    else
                                        if plr:DistanceFromCharacter(Vector3.new(-908.12579345703, 13.877366065979, 4077.5068359375)) > 10 then
                                            Tween(CFrame.new(-908.12579345703, 13.877366065979, 4077.5068359375))
                                        else
                                            CommF:InvokeServer("ProQuestProgress", "RichSon")
                                        end
                                    end
                                else
                                    if CheckPlrBackpack("Cup") then 
                                        EquipItem("Cup")
                                        if CheckPlrBackpack("Cup").Handle:FindFirstChild("TouchInterest") then
                                            Tween(CFrame.new(1395.77307, 37.4733238, -1324.34631, -0.999978602, -6.53588605e-09, 0.00654155109, -6.57083277e-09, 1, -5.32077493e-09, -0.00654155109, -5.3636442e-09, -0.999978602), true)
                                        else
                                            if plr:DistanceFromCharacter(Vector3.new(1457.8768310547, 88.377502441406, -1390.6892089844)) > 10 then
                                                Tween(CFrame.new(1457.8768310547, 88.377502441406, -1390.6892089844), true)
                                            else
                                                CommF:InvokeServer("ProQuestProgress", "SickMan")
                                            end
                                        end
                                    else
                                        Tween(game.workspace.Map.Desert.Cup.Position, true)
                                    end
                                end
                            end
                        end
                        return
                    else
                        local x = "Saber Expert"
                        local v = GetMob(x)
                        if v then
                            AutoFarmLabel.SetText(LabelTextAF ..  "Killing " .. x)
                            repeat wait()
                                AttackMob(v)
                            until not IsMobAlive(v)
                        else
                            local UnloadBoss = child_stringfind(game.ReplicatedStorage, x, true, true)
                            if UnloadBoss then
                                Tween(UnloadBoss.HumanoidRootPart.CFrame * CFrame.new(0, Settings.Distance * 2, 0))
                                return
                            else
                                if Settings.AFSHopServer then
                                    HopServer()
                                    wait(5)
                                    return
                                end
                                AutoFarmLabel.SetText(LabelTextAF ..  "Waiting ".. x .." spawn")
                            end
                        end
                    end
                else
                    AutoFSSLabel.SetText(LabelTextAFS ..  "Traveling to Sea 1")
                    CommF:InvokeServer("TravelMain")
                    wait(5)
                    return
                end
            end
        end
    elseif Settings.AutoRengoku
    and not DoneRengoku then
        if Settings.Cuttay and Settings.MobFarm and MobFarmToggle then MobFarmToggle.SetStage(false) end
        local v = GetCurrentEquippedM1("Sword")
        if v and v.Name == "Rengoku" then
            if game.PlaceId ~= 7449423635
            and Settings.AFSTPSea3 and CommF:InvokeServer("ZQuestProgress", "Check") == 1 then
                AutoFSSLabel.SetText(LabelTextAFS ..  "Traveling to Sea 3")
                CommF:InvokeServer("TravelZou")
                wait(5)
                return
            end
            if Settings.OSIFS
            and CheckMasteryValue(v.Name) < 350 then
                AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit 350 Mastery")
                getgenv().ASWeapon = v.Name
            else
                AutoFSSLabel.SetText(LabelTextAFS ..  "Done Auto Rengoku")
                getgenv().ASWeapon = nil
                getgenv().DoneRengoku = true
                if AutoRengokuToggle then AutoRengokuToggle.SetStage(false) end
            end 
        else
            if IsHaveItem("Rengoku") then
                CommF:InvokeServer("LoadItem", "Rengoku")
                return
            else
                if game.PlaceId == 4442272183 then
                    if CheckPlrBackpack("Hidden Key") then
                        EquipItem("Hidden Key")
                        Tween(game.workspace.Map.IceCastle.RengokuChest.Detection.Position, true)
                    else
                        AutoFarmLabel.SetText(LabelTextAF ..  "Farming for Hidden Key")
                        local x = "Awakened Ice Admiral"
                        local v = GetMob(x)
                        if v then
                            repeat wait()
                                AttackMob(v)
                            until not IsMobAlive(v)
                            wait(1)
                        else
                            local UnloadBoss = child_stringfind(game.ReplicatedStorage, x, true, true)
                            if UnloadBoss then
                                Tween(UnloadBoss.HumanoidRootPart.CFrame * CFrame.new(0, Settings.Distance * 2, 0))
                            else
                                if Settings.AFSHopServer then
                                    HopServer()
                                    wait(5)
                                else
                                    local v = GetMob({"Arctic Warrior", "Snow Lurker"})
                                    if v then
                                        repeat wait()
                                            AttackMob(v)
                                        until not IsMobAlive(v)
                                        wait(.5)
                                    else
                                        Tween(CFrame.new(5835.5380859375, 99.31262969970703, -6517.54736328125))
                                    end
                                end
                            end
                        end
                    end
                else
                    AutoFSSLabel.SetText(LabelTextAFS ..  "Traveling to Sea 2")
                    CommF:InvokeServer("TravelDressrosa")
                    wait(5)
                end
            end
            return
        end
    elseif Settings.AutoTripleKatana
    and not DoneTripleKatana then
        local v = GetCurrentEquippedM1("Sword")
        if v then
            if Settings.Cuttay then
                CT_DisableAutoRaid()
                CT_EnableFarm()
            end
            if v.Name == "Saddi" then
                if CheckMasteryValue(v.Name) < 300 then
                    AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit 300 Mastery")
                    getgenv().ASWeapon = v.Name
                else
                    CommF:InvokeServer("LoadItem", "Shisui")
                    return
                end
            elseif v.Name == "Shisui" then
                if CheckMasteryValue(v.Name) < 300 then
                    AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit 300 Mastery")
                    getgenv().ASWeapon = v.Name
                else
                    CommF:InvokeServer("LoadItem", "Wando")
                    return
                end
            elseif v.Name == "Wando" then
                if CheckMasteryValue(v.Name) < 300 then
                    AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit 300 Mastery")
                    getgenv().ASWeapon = v.Name
                else
                    if CheckMasteryValue("Saddi") >= 300
                    and CheckMasteryValue("Shisui") >= 300
                    and CheckMasteryValue("Wando") >= 300 then
                        if plr.Data.Beli.Value >= 2000000 then
                            CommF:InvokeServer("MysteriousMan", "2")
                            CommF:InvokeServer("LoadItem", "True Triple Katana")
                        end
                    else
                        CommF:InvokeServer("LoadItem", "Saddi")
                        return
                    end
                end
            elseif v.Name == "True Triple Katana" then
                if Settings.OSIFS
                and CheckMasteryValue(v.Name) < 350 then
                    AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit 350 Mastery")
                    getgenv().ASWeapon = v.Name
                else
                    AutoFSSLabel.SetText(LabelTextAFS ..  "Done Auto True Triple Katana")
                    getgenv().ASWeapon = nil
                    getgenv().DoneTripleKatana = true
                    if AutoTripleKatanaToggle then AutoTripleKatanaToggle.SetStage(false) end
                end
            else
                CommF:InvokeServer("LoadItem", "Saddi")
                return
            end
        else
            CommF:InvokeServer("LoadItem", "Saddi")
            return
        end
    elseif Settings.AutoDualKatana
    and not DoneDualKatana then
        if CheckMasteryValue("Yama") >= 350 and CheckMasteryValue("Tushita") >= 350 then
            if Settings.Cuttay then
                CT_DisableFarm()
            end
            local cdk = "Cursed Dual Katana"
            if IsHaveItem(cdk) then
                if Settings.OSIFS then
                    if CheckMasteryValue(cdk) < 375 then
                        AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. cdk .. " hit 375 Mastery")
                        getgenv().ASWeapon = v.Name
                    else
                        AutoFSSLabel.SetText(LabelTextAFS ..  "Done Auto " .. cdk)
                        getgenv().ASWeapon = nil
                        getgenv().DoneDualKatana = true
                        if AutoDualKatanaToggle then AutoDualKatanaToggle.SetStage(false) end
                    end
                else
                    if AutoDualKatanaToggle then AutoDualKatanaToggle.SetStage(false) end
                    Library.CreateNoti({Desc = "Got " .. cdk, ShowTime = 5})
                    local x = plr.PlayerGui.ScreenGui:FindFirstChild("Frame")
                    if x then
                        x.Visible = false
                    end
                end
                return
            end
            getgenv().ASWeapon = "Tushita"
            if not CheckPlrBackpack("Tushita") then
                CommF:InvokeServer("LoadItem", "Tushita")
                return
            end
            if plr.PlayerGui.Main.Dialogue.Visible then
                game.VirtualUser:Button1Down(Vector2.new(50, 50))
                game.VirtualUser:Button1Down(Vector2.new(50, 50))
            end
            if CommF:InvokeServer("CDKQuest", "Progress", "Good").Good == 4 
			and CommF:InvokeServer("CDKQuest", "Progress", "Good").Evil == 3 then
				if plr:DistanceFromCharacter(workspace.Map.Turtle.Cursed.Pedestal2.Position) > 10 then
					Tween(workspace.Map.Turtle.Cursed.Pedestal2.Position)
                end
                fireproximityprompt(game.workspace.Map.Turtle.Cursed.Pedestal2.ProximityPrompt)
                return
            end
            if CommF:InvokeServer("CDKQuest", "Progress", "Good").Good == 3
			and CommF:InvokeServer("CDKQuest", "Progress", "Good").Evil == 4 then
				if plr:DistanceFromCharacter(workspace.Map.Turtle.Cursed.Pedestal1.Position) > 10 then
					Tween(workspace.Map.Turtle.Cursed.Pedestal1.Position)
                end
                fireproximityprompt(game.workspace.Map.Turtle.Cursed.Pedestal1.ProximityPrompt)
                return
			end
            if CommF:InvokeServer("CDKQuest", "Progress", "Good").Good == 4
			and CommF:InvokeServer("CDKQuest", "Progress", "Good").Evil == 4 then
                if game.workspace.Map.Turtle.Cursed:FindFirstChild("Breakable") then
                    Tween(CFrame.new(-12130.416015625, 577.7924194335938, -6707.59765625))
                    wait(.5)
                    CommF:InvokeServer("CDKQuest", "OpenDoor")
                    CommF:InvokeServer("CDKQuest", "OpenDoor", true)
                    wait(1)
                    local Breakable = game.workspace.Map.Turtle.Cursed:FindFirstChild("Breakable")
                    if Breakable then Breakable:Destroy() end
                elseif game.workspace.Map.Turtle.Cursed.PlacedGem.Transparency == 0 then
                    local x = "Cursed Skeleton Boss"
                    local v = GetMob(x)
                    if v then
                        AutoFarmLabel.SetText(LabelTextAF ..  "Killing " .. x)
                        repeat wait()
                            AttackMob(v)
                        until not IsMobAlive(v)
                        wait(2)
                    else
                        local UnloadBoss = child_stringfind(game.ReplicatedStorage, x, true, true)
                        if UnloadBoss then
                            Tween(UnloadBoss.HumanoidRootPart.CFrame * CFrame.new(0, Settings.Distance * 2, 0))
                        else
                            Tween(CFrame.new(-12362.349609375, 603.3199462890625, -6550.33154296875), true)
                            wait(1)
                            plr.Character.Humanoid:MoveTo(Vector3.new(-12336.287109375, 603.3199462890625, -6550.80419921875))
                            wait(1)
                        end
                    end
                else
                    if game.workspace.Map.Turtle.Cursed.Pedestal3.ProximityPrompt.Enabled then
                        if plr:DistanceFromCharacter(workspace.Map.Turtle.Cursed.Pedestal3.Position) > 10 then
                            Tween(workspace.Map.Turtle.Cursed.Pedestal3.Position)
                        end
                        fireproximityprompt(game.workspace.Map.Turtle.Cursed.Pedestal3.ProximityPrompt)
                    else
                        wait(2)
                    end
                end
                return
			end
            if CommF:InvokeServer("CDKQuest", "Progress", "Good").Good ~= 4
            and CommF:InvokeServer("CDKQuest", "Progress", "Good").Good ~= -2 then
                CommF:InvokeServer("CDKQuest", "StartTrial", "Good")
                if CommF:InvokeServer("CDKQuest", "Progress", "Good").Good == -3 then
                    AutoFSSLabel.SetText(LabelTextAFS ..  "Talking to Luxury Boat Dealer (CDK Quest)")
					for i, v in pairs(workspace.NPCs:GetChildren()) do
						if v.Name == "Luxury Boat Dealer" then
							plr.Character.HumanoidRootPart.CFrame = v.HumanoidRootPart.CFrame
							CommF:InvokeServer("CDKQuest", "BoatQuest", v)
						end
					end
                    wait(2)
                elseif CommF:InvokeServer("CDKQuest", "Progress", "Good").Good == -4 then
                    if PirateRaiding then
                        AutoFSSLabel.SetText(LabelTextAFS ..  "Killing Raid Pirates (CDK Quest)")
                        local v = GetPirateRaid()
                        if v then
                            repeat wait()
                                AttackMob(v)
                            until not IsMobAlive(v)
                            if not GetPirateRaid() then
                                local Timer = tick()
                                repeat wait(1)
                                until GetPirateRaid()
                                or tick() - Timer > 10
                                or not Settings.AutoWorldEvent 
                                if tick() - Timer > 10 and not GetPirateRaid() then
                                    getgenv().PirateRaiding = false
                                end
                            end
                            return
                        else
                            local UnloadMob = GetPirateRaid(true)
                            if UnloadMob then
                                Tween(UnloadMob.HumanoidRootPart.CFrame * CFrame.new(0, Settings.Distance * 2, 0))
                            end
                            return
                        end
                    elseif not PirateRaidCheck then
                        AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for Raid Pirates (CDK Quest)")
                        getgenv().PirateRaidCheck = true
                        delay(10, function()
                            getgenv().PirateRaidCheck = false
                        end)
                        if GetPirateRaid() or GetPirateRaid(true) then
                            getgenv().PirateRaiding = true
                        elseif Settings.AFSHopServer then
                            TPLocation("Castle on the Sea")
                        end
                        if Settings.Cuttay then return end
                    elseif Settings.AFSHopServer then
                        HopServer(true)
                        wait(5)
                        return
                    end
                elseif CommF:InvokeServer("CDKQuest", "Progress", "Good").Good == -5 then
					if plr:DistanceFromCharacter(wOrigin.Locations["Heavenly Dimension"].Position) < 1000 then
                        return DoDimension(game.workspace.Map.HeavenlyDimension, "Cloudy grey")
					else
                        local x = "Cake Queen"
                        local v = GetMob(x)
                        if v then
                            AutoFSSLabel.SetText(LabelTextAFS ..  "Entering Heavenly Dimension (CDK Quest)")
                            repeat wait()
                                AttackMob(v)
                            until not IsMobAlive(v)
                            wait(2)
                            return
                        else
                            local UnloadBoss = child_stringfind(game.ReplicatedStorage, x, true, true)
                            if UnloadBoss then
                                Tween(UnloadBoss.HumanoidRootPart.CFrame * CFrame.new(0, Settings.Distance * 2, 0))
                                return
                            elseif Settings.AFSHopServer then
                                HopServer()
                                wait(5)
                                return
                            else
                                AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. x .. " spawn (CDK Quest)")
                            end
                        end
					end
                end
            else
                CommF:InvokeServer("CDKQuest", "StartTrial", "Evil")
				if CommF:InvokeServer("CDKQuest", "Progress", "Good").Evil == -3 then
                    AutoFSSLabel.SetText(LabelTextAFS ..  "Doing die to mob (CDK Quest)")
                    local v = GetMobAura(true)
                    if v then
                        repeat wait()
                            if game.Lighting.ExposureCompensation ~= 0 then
                                getgenv().DisableKen = true
                                game:GetService("VirtualInputManager"):SendKeyEvent(true, "K", false, game)
                                game:GetService("VirtualInputManager"):SendKeyEvent(false, "K", false, game)
                            end
                            Tween(v.HumanoidRootPart.Position + Vector3.new(0, 5, 0))
                            getgenv().BringTo = v
                        until not IsMobAlive(v)
                        or IsPlayerDead()
                        if IsPlayerDead() then
                            getgenv().DisableKen = false
                            repeat wait()
                            until not IsPlayerDead()
                            wait(3)
                        end
                    else
                        Tween(CFrame.new(-13271.83203125, 350.2919006347656, -7754.43408203125))
                    end
                    return
                elseif CommF:InvokeServer("CDKQuest", "Progress", "Good").Evil == -4 then
                    local x = GetHazeSpawn()
                    local v = GetMob(x)
                    AutoFSSLabel.SetText(LabelTextAFS ..  "Killing " .. x .. "\nHaze Mob left: " .. HazeCounter() .. " (CDK Quest)")
                    if v then
                        repeat wait()
                            AttackMob(v)
                        until not IsMobAlive(v)
                    else
                        local UnloadMob = child_stringfind(game.ReplicatedStorage, x, true, true)
                        if UnloadMob then
                            Tween(UnloadMob.HumanoidRootPart.CFrame * CFrame.new(0, Settings.Distance * 2, 0))
                        else
                            for i, v in ipairs(EnemySpawns) do
                                if not GetMob(x)
                                and GetMobNameOnly(v.Name) == x then
                                    Tween(v.Position + Vector3.new(0, Settings.Distance, 0))
                                    wait()
                                    if Settings.IgnoreYTween then wait(.8) end
                                end
                            end
                        end
                    end
                    return
                elseif CommF:InvokeServer("CDKQuest", "Progress", "Good").Evil == -5 then
                    if plr:DistanceFromCharacter(wOrigin.Locations["Hell Dimension"].Position) < 1000 then
                        return DoDimension(game.workspace.Map.HellDimension, "Olivine")
                    else
                        if FindMobExist("Soul Reaper [Lv. 2100] [Raid Boss]") then
                            AutoFSSLabel.SetText(LabelTextAFS ..  "Entering Hell Dimension (CDK Quest)")
                            local x = "Soul Reaper"
                            local v = GetMob(x)
                            if v then
                                repeat wait()
                                    if plr:DistanceFromCharacter(wOrigin.Locations["Hell Dimension"].Position) < 1000 then return end
                                    if game.Lighting.ExposureCompensation ~= 0 then
                                        getgenv().DisableKen = true
                                        game:GetService("VirtualInputManager"):SendKeyEvent(true, "K", false, game)
                                        game:GetService("VirtualInputManager"):SendKeyEvent(false, "K", false, game)
                                    end
                                    Tween(v.HumanoidRootPart.Position + Vector3.new(0, 5, 0))
                                    wait(1)
                                until not IsMobAlive(v)
                                or plr:DistanceFromCharacter(wOrigin.Locations["Hell Dimension"].Position) < 1000
                                or IsPlayerDead()
                                if IsPlayerDead() then
                                    getgenv().DisableKen = false
                                    repeat wait()
                                    until not IsPlayerDead()
                                    wait(3)
                                end
                            else
                                local UnloadBoss = child_stringfind(game.ReplicatedStorage, x, true, true)
                                if UnloadBoss then
                                    Tween(UnloadBoss.HumanoidRootPart.CFrame * CFrame.new(0, Settings.Distance * 2, 0))
                                end
                            end
                            return
                        elseif CheckPlrBackpack("Hallow Essence") then
                            AutoFSSLabel.SetText(LabelTextAFS ..  "Spawning Soul Reaper (CDK Quest)")
                            EquipItem("Hallow Essence") 
                            Tween(game.workspace.Map["Haunted Castle"].Summoner.Detection.Position, true)
                            wait(2)
                            return
                        else
                            if CommF:InvokeServer("Bones", "Buy", 1, 1) ~= 0 then
                                repeat wait()
                                    if GetItemCount("Bones") < 50 then
                                        AutoFSSLabel.SetText(LabelTextAFS ..  "Not have enough Bone to buy random to get Hallow Essence (CDK Quest)")
                                        AutoFarmLabel.SetText(LabelTextAF ..  "Farming Bone")
                                        FarmLocation({"Reborn Skeleton", "Living Zombie", "Demonic Soul", "Posessed Mummy"}, CFrame.new(-9500.9443359375, 172.10487365722656, 6167.43359375))
                                    end
                                until CommF:InvokeServer("Bones", "Buy", 1, 1) ~= 0
                                or not Settings.AutoDualKatana
                                return
                            elseif Settings.AFSHopServer then
                                if not WaitTimer then
                                    getgenv().WaitTimer = tick()
                                end
                                local v = CheckPlrHaveHallowEssence()
                                if v and tick() - WaitTimer < 120 then
                                    if plr.Character.HumanoidRootPart.Position.Y < 500 then
                                        plr.Character.HumanoidRootPart.CFrame = plr.Character.HumanoidRootPart.CFrame * CFrame.new(0, 400, 0)
                                    end
                                    AutoFSSLabel.SetText(LabelTextAFS ..  "Detected " .. v .. " got Hallow Essence, waiting for them summon Soul Reaper, will Hop Server if they didn't spawn the boss in 2 minutes (CDK Quest)")
                                else
                                    if plr:DistanceFromCharacter(Vector3.new(-9625.3076171875, 141.3268585205078, 5393.041015625)) > 400 then
                                        TPLocation("Haunted Castle")
                                        wait(2)
                                    end
                                    HopServer(true)
                                    wait(5)
                                end
                            else
                                AutoFarmLabel.SetText(LabelTextAF ..  "Farming Bone")
                                FarmLocation({"Reborn Skeleton", "Living Zombie", "Demonic Soul", "Posessed Mummy"}, CFrame.new(-9500.9443359375, 172.10487365722656, 6167.43359375))
                            end
                        end
                    end
                end
            end
        elseif IsHaveItem("Yama") and IsHaveItem("Tushita") then
            if Settings.Cuttay then
                CT_EnableFarm()
            end
            local v = GetCurrentEquippedM1("Sword")
            if v and v.Name == "Yama" then
                if CheckMasteryValue(v.Name) < 350 then
                    AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit 350 Mastery")
                    getgenv().ASWeapon = v.Name
                else
                    CommF:InvokeServer("LoadItem", "Tushita")
                    return
                end
            elseif v and v.Name == "Tushita" then
                if CheckMasteryValue(v.Name) < 350 then
                    AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit 350 Mastery")
                    getgenv().ASWeapon = v.Name
                end
            else
                CommF:InvokeServer("LoadItem", "Yama")
                return
            end
        end
    elseif Settings.AutoSoulGuitar then
        if IsHaveItem("Soul Guitar") then
            if AutoSoulGuitarToggle then AutoSoulGuitarToggle.SetStage(false) end
            return Library.CreateNoti({Desc = "Got Soul Guitar", ShowTime = 5})
        end
        if GetItemCount("Dark Fragment") == 0 then
            if game.PlaceId ~= 4442272183 then
                CommF:InvokeServer("TravelDressrosa")
                wait(5)
                return
            else
                AutoFSSLabel.SetText(LabelTextAFS ..  "Farming for Dark Fragment (Auto Soul Guitar)")
                if not Settings.DarkbeardFarm and DarkbeardFarmToggle then DarkbeardFarmToggle.SetStage(true) end
                if not Settings.AutoChest and AutoChestToggle then AutoChestToggle.SetStage(true) end
                if not Settings.AC10Chest and AC10ChestToggle then AC10ChestToggle.SetStage(true) end
            end
        else
            if Settings.DarkbeardFarm and DarkbeardFarmToggle then DarkbeardFarmToggle.SetStage(false) end
            if Settings.AutoChest and AutoChestToggle then AutoChestToggle.SetStage(false) end
            if GetItemCount("Ectoplasm") < 250 then
                if game.PlaceId ~= 4442272183 then
                    CommF:InvokeServer("TravelDressrosa")
                    wait(5)
                    return
                else
                    AutoFSSLabel.SetText(LabelTextAFS ..  "Farming 250 Ectoplasm (Auto Soul Guitar)")
                    FarmLocation({"Ship Deckhand", "Ship Engineer", "Ship Steward", "Ship Officer"}, CFrame.new(913.5241088867188, 126.08345794677734, 33189.7734375))
                end
                return
            else
                if game.PlaceId ~= 7449423635 then 
                    CommF:InvokeServer("TravelZou")
                    wait(5)
                    return
                else
                    if GetItemCount("Bones") < 500 then
                        AutoFSSLabel.SetText(LabelTextAFS ..  "Farming 500 Bones (Auto Soul Guitar)")
                        FarmLocation({"Reborn Skeleton", "Living Zombie", "Demonic Soul", "Posessed Mummy"}, CFrame.new(-9500.9443359375, 172.10487365722656, 6167.43359375))
                        return
                    elseif plr.Data.Fragments.Value < 5000 then
                        AutoFSSLabel.SetText(LabelTextAFS .. "Not have enough Fragments to buy: Soul Guitar")
                        CT_AutoRaidForFrag()
                    else
                        local SGProgressCheck = CommF:InvokeServer("GuitarPuzzleProgress", "Check")
                        if not SGProgressCheck then
                            if game.Lighting.Sky.MoonTextureId == "http://www.roblox.com/asset/?id=9709149431"
                            and (game.Lighting.ClockTime >= 19
                            or game.Lighting.ClockTime < 5) then
                                if plr:DistanceFromCharacter(Vector3.new(-8654.314453125, 140.9499053955078, 6167.5283203125)) > 50 then
                                    Tween(CFrame.new(-8654.314453125, 140.9499053955078, 6167.5283203125))
                                end
                                CommF:InvokeServer("gravestoneEvent", 2)
                                CommF:InvokeServer("gravestoneEvent", 2, true)
                                wait(1)
                            elseif Settings.AFSHopServer then
                                Library.CreateNoti({Desc = "Hopping Server for Full Moon", ShowTime = 5})
                                HopServer()
                                wait(5)
                                return
                            else
                                AutoFSSLabel.SetText(LabelTextAFS .. "Waiting for Full Moon")
                                if Settings.Cuttay then
                                    CT_DisableAutoRaid()
                                    CT_EnableFarm()
                                end
                            end
                        else
                            if plr.PlayerGui.Main.Dialogue.Visible then
                                game.VirtualUser:Button1Down(Vector2.new(0, 0))
                                game.VirtualUser:Button1Down(Vector2.new(0, 0))
                            end
                            if not SGProgressCheck.Swamp then
                                HopIfNearFarmArea(Vector3.new(-9500.9443359375, 172.10487365722656, 6167.43359375), nil, true)
                                getgenv().SetSimulationRadius = true
                                Tween(CFrame.new(-10171.7607421875, 138.62667846679688, 6008.0654296875) * CFrame.new(0, 50, 0))
                                if CountZombie() == 6 then
                                    for i, v in pairs(game.workspace.Enemies:GetChildren()) do
                                        if v.Name == "Living Zombie [Lv. 2000]"
                                        and IsMobAlive(v)
                                        and v.Humanoid.Health == v.Humanoid.MaxHealth
                                        and (v.HumanoidRootPart.Position - Vector3.new(-10171.7607421875, 138.62667846679688, 6008.0654296875)).magnitude > 45 then
                                            local vP = v.HumanoidRootPart.Position
                                            for i, v in ipairs(game.workspace.Enemies:GetChildren()) do
                                                if IsMobAlive(v)
                                                and isnetworkowner(v.HumanoidRootPart) then
                                                    v.HumanoidRootPart.CFrame = CFrame.new(-10171.7607421875, 138.62667846679688, 6008.0654296875)
                                                    v.Humanoid:ChangeState(11)
                                                end
                                            end
                                        end
                                    end
                                end
                                if CountZombie(true) == 6 then
                                    repeat wait()
                                        if not plr.Character:FindFirstChildOfClass("Tool") then
                                            EquipItem(GetM1WP())
                                        end
                                        ClickM1()
                                    until CountZombie() == 0
                                    or CommF:InvokeServer("GuitarPuzzleProgress", "Check").Swamp
                                    or not Settings.AutoSoulGuitar
                                    getgenv().SetSimulationRadius = false
                                end
                            elseif not SGProgressCheck.Gravestones then
                                if plr:DistanceFromCharacter(Vector3.new(-8761.4765625, 142.10487365722656, 6086.07861328125)) > 50 then
                                    Tween(CFrame.new(-8761.4765625, 142.10487365722656, 6086.07861328125))
                                end
                                local ClickSigns = {
                                    game.workspace.Map["Haunted Castle"].Placard1.Right.ClickDetector,
                                    game.workspace.Map["Haunted Castle"].Placard2.Right.ClickDetector,
                                    game.workspace.Map["Haunted Castle"].Placard3.Left.ClickDetector,
                                    game.workspace.Map["Haunted Castle"].Placard4.Right.ClickDetector,
                                    game.workspace.Map["Haunted Castle"].Placard5.Left.ClickDetector,
                                    game.workspace.Map["Haunted Castle"].Placard6.Left.ClickDetector,
                                    game.workspace.Map["Haunted Castle"].Placard7.Left.ClickDetector
                                }
                                for i, v in pairs(ClickSigns) do
                                    fireclickdetector(v)
                                end
                            elseif not SGProgressCheck.Ghost then
                                if plr:DistanceFromCharacter(Vector3.new(-9755.6591796875, 271.0661315917969, 6290.61474609375)) > 50 then
                                    Tween(CFrame.new(-9755.6591796875, 271.0661315917969, 6290.61474609375))
                                end
                                CommF:InvokeServer("GuitarPuzzleProgress", "Ghost")
                                wait(3)
                            elseif not SGProgressCheck.Trophies then
                                if plr:DistanceFromCharacter(Vector3.new(-9530.0126953125, 6.104853630065918, 6054.83349609375)) > 50 then
                                    Tween(CFrame.new(-9530.0126953125, 6.104853630065918, 6054.83349609375))
                                end
                                local Tablet = game.workspace.Map["Haunted Castle"].Tablet
                                for i, v in pairs(BlankTablets) do
                                    local x = Tablet[v]
                                    if x.Line.Position.X ~= 0 then
                                        repeat wait()
                                            fireclickdetector(x.ClickDetector)
                                        until x.Line.Position.X == 0
                                    end
                                end
                                for i, v in pairs(Trophy) do
                                    local x = game.workspace.Map["Haunted Castle"].Trophies.Quest[v].Handle.CFrame
                                    x = tostring(x)
                                    x = x:split(", ")[4]
                                    local c = "180"
                                    if x == "1" or x == "-1" then
                                        c = "90"
                                    end
                                    if not string.find(tostring(Tablet[i].Line.Rotation.Z), c) then
                                        repeat wait()
                                            fireclickdetector(Tablet[i].ClickDetector)
                                        until string.find(tostring(Tablet[i].Line.Rotation.Z), c)
                                    end
                                end
                            elseif not SGProgressCheck.Pipes then
                                for i, v in pairs(Pipes) do
                                    local x = game.workspace.Map["Haunted Castle"]["Lab Puzzle"].ColorFloor.Model[i]
                                    if x.BrickColor.Name ~= v then
                                        repeat wait()
                                            fireclickdetector(x.ClickDetector)
                                        until x.BrickColor.Name == v
                                    end
                                end
                            else
                                CommF:InvokeServer("soulGuitarBuy", true)
                                CommF:InvokeServer("soulGuitarBuy")
                                wait(1)
                            end
                            return
                        end
                    end
                end
            end
        end
    elseif Settings.AutoSwitchSword then
        local v = GetCurrentEquippedM1("Sword")
        local CustomMasteryValue = Settings.RequireMastery
        if v and Settings.CT_FarmUntilUnlock and not DoneFarmUntilUnlock then
            CustomMasteryValue = GetSwordMaxMastery(v.Name)
        end
        if v and CheckMasteryValue(v.Name) < CustomMasteryValue then
            AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit " .. CustomMasteryValue .. " Mastery")
            getgenv().ASWeapon = v.Name
        else
            for i, v in pairs(getupvalue(require(plr.PlayerGui.Main.UIController.Inventory).UpdateRender, 4)) do
                if v.details
                and v.details.Type == "Sword"
                and not table.find(SelectedIgnoreRarity2, v.details.Rarity)
                and ((not Settings.CT_FarmUntilUnlock or DoneFarmUntilUnlock) and v.details.Mastery < Settings.RequireMastery
                or Settings.CT_FarmUntilUnlock and v.details.Mastery < GetSwordMaxMastery(v.details.Name)) then
                    CommF:InvokeServer("LoadItem", v.details.Name)
                    wait(1)
                    return
                end
            end
            if Settings.CT_FarmUntilUnlock and not DoneFarmUntilUnlock then
                Settings.RequireMastery = 600
                getgenv().DoneFarmUntilUnlock = true
                getgenv().DoneFightingStyle = true
                if CommF:InvokeServer("BuyGodhuman", true) == 1 then
                    BuyFightingStyle("BuyGodhuman")
                else
                    BuyFightingStyle("BuyDragonTalon")
                end
                for i, v in pairs(O_ExtraTimeMasteryFarm) do
                    getgenv().ExtraTimeMasteryFarm[i] = 600
                end
            end
        end
    elseif Settings.AutoSwitchGun then
        local v = GetCurrentEquippedM1("Gun")
        if v and CheckMasteryValue(v.Name) < Settings.RequireMastery then
            AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit " .. Settings.RequireMastery .. " Mastery")
            getgenv().GWeapon = v.Name
        else
            for i, v in pairs(getupvalue(require(plr.PlayerGui.Main.UIController.Inventory).UpdateRender, 4)) do
                if v.details
                and v.details.Type == "Gun"
                and not table.find(SelectedIgnoreRarity2, v.details.Rarity)
                and v.details.Mastery < Settings.RequireMastery then
                    CommF:InvokeServer("LoadItem", v.details.Name)
                    wait(1)
                    return
                end
            end
        end
    elseif Settings.AutoSwitchBloxFruit then
        local v = GetCurrentEquippedM1("Blox Fruit")
        if v and v.Level.Value < Settings.RequireMastery then
            AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit " .. Settings.RequireMastery .. " Mastery")
            getgenv().BFWeapon = v.Name
        else
            table.insert(getgenv().IgnoreSBF, v.Name)
            for _, v in pairs(CommF:InvokeServer("GetFruits")) do
                if v.HasPermanent and not table.find(IgnoreSBF, v.Name) then
                    Tween(CFrame.new(-12510.607421875, 336.9401550292969, -7443.73974609375))
                    wait(2)
                    CommF:InvokeServer("SwitchFruit", v.Name)
                    wait(1)
                    return
                end
            end
        end
    else
        AutoFSSLabel.SetText("[Auto Fighting Style / Sword]: None")
    end
    
    if Settings.Cuttay and game.PlaceId == 2753915549 and not Settings.AutoSaber and not CT_DoneGetStuffs and plrLevel >= 700 then
        CommF:InvokeServer("TravelDressrosa")
    end

    if game.PlaceId ~= 7449423635
    and Settings.AutoNextSea then
        if game.PlaceId == 2753915549 and plrLevel >= 700 then
            AutoFarmLabel.SetText(LabelTextAF ..  "Doing Sea 2 Quest")
            CommF:InvokeServer("TravelDressrosa")
            if game.workspace.Map.Ice.Door.Transparency == 1 then
                local x = "Ice Admiral"
                local v = GetMob(x)
                if v then
                    repeat wait()
                        AttackMob(v)
                    until not IsMobAlive(v)
                    wait(1)
                    CommF:InvokeServer("TravelDressrosa")
                    wait(5)
                else
                    local UnloadBoss = child_stringfind(game.ReplicatedStorage, x, true, true)
                    if UnloadBoss then
                        Tween(UnloadBoss.HumanoidRootPart.CFrame * CFrame.new(0, Settings.Distance * 2, 0))
                    else
                        if Settings.AFSHopServer then
                            HopServer()
                            wait(5)
                            return
                        end
                        AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. x .. " spawn")
                    end
                end
            else
                if CheckPlrBackpack("Key") then
                    EquipItem("Key")
                    Tween(game.workspace.Map.Ice.Door.CFrame, true)
                    wait(1)
                else
                    if plr:DistanceFromCharacter(Vector3.new(4855.991, 6, 716.677)) < 10 then
                        CommF:InvokeServer("DressrosaQuestProgress", "Detective")
                    else
                        Tween(CFrame.new(4855.991, 6, 716.677))
                        wait(2)
                    end
                end
            end
            return
        elseif plrLevel >= 1500 then
            if CommF:InvokeServer("ZQuestProgress", "Check") == 1 then
                CommF:InvokeServer("TravelZou")
                wait(5)
                return
            end
            if Is1MilFruit() or CommF:InvokeServer("TalkTrevor", "1") == 0 then
                AutoFarmLabel.SetText(LabelTextAF ..  "Doing Sea 3 Quest")
                if CommF:InvokeServer("TalkTrevor", "1") == 0 then
                    if CommF:InvokeServer("ZQuestProgress", "Check") == nil then
                        local x = "Don Swan"
                        local v = GetMob(x)
                        if v then
                            repeat wait()
                                AttackMob(v)
                            until not IsMobAlive(v)
                            wait(1)
                        else
                            local UnloadBoss = child_stringfind(game.ReplicatedStorage, x, true, true)
                            if UnloadBoss then
                                Tween(UnloadBoss.HumanoidRootPart.CFrame * CFrame.new(0, Settings.Distance * 2, 0))
                                return
                            else
                                if Settings.AFSHopServer then
                                    HopServer()
                                    wait(5)
                                    return
                                end
                                AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. x .. " spawn")
                            end
                        end
                    elseif CommF:InvokeServer("ZQuestProgress", "Check") == 0 then
                        Tween(CFrame.new(-1926.78772, 12.1678171, 1739.80884))
                        wait(2)
                        CommF:InvokeServer("ZQuestProgress", "Begin")
                        wait(2)
                        local x = "rip_indra"
                        local v = GetMob(x)
                        if v then
                            if not RunCheckWorld3 then
                                getgenv().RunCheckWorld3 = true
                                spawn(function()
                                    while wait(5) do
                                        if CommF:InvokeServer("ZQuestProgress", "Check") == 1 then
                                            CommF:InvokeServer("TravelZou")
                                        end
                                    end
                                end)
                            end
                            repeat wait()
                                AttackMob(v)
                            until not IsMobAlive(v)
                            wait(2)
                            repeat wait(1)
                            until CommF:InvokeServer("ZQuestProgress", "Check") == 1
                            return
                        else
                            local UnloadBoss = child_stringfind(game.ReplicatedStorage, x, true, true)
                            if UnloadBoss then
                                Tween(UnloadBoss.HumanoidRootPart.CFrame * CFrame.new(0, Settings.Distance * 2, 0))
                                return
                            else
                                if Settings.AFSHopServer then
                                    HopServer()
                                    wait(5)
                                    return
                                end
                                AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. x .. " spawn")
                            end
                        end
                    elseif CommF:InvokeServer("ZQuestProgress", "Check") == 1 then
                        CommF:InvokeServer("TravelZou")
                        wait(5)
                        return
                    end
                else
                    if CommF:InvokeServer("TalkTrevor", "1") == true then
                        CommF:InvokeServer("TalkTrevor", "2")
                    else
                        CommF:InvokeServer("TalkTrevor", "3")
                    end
                    return
                end
            elseif not DF1mCheck then
                getgenv().DF1mCheck = true
                delay(5, function()
                    getgenv().DF1mCheck = false
                end)
                local v = GetTreasureFruit(true)
                if v then
                    getgenv().DisableAutoStore = true
                    wait(.25)
                    CommF:InvokeServer("LoadFruit", v)
                    wait(.5)
                    if CommF:InvokeServer("TalkTrevor", "1") == true then
                        CommF:InvokeServer("TalkTrevor", "2")
                    else
                        CommF:InvokeServer("TalkTrevor", "3")
                    end
                    getgenv().DisableAutoStore = false
                    return
                else
                    if not table.find(SelectedIgnoreHop, "[Sea 3 Quest] Server Hop for 1M+ Blox Fruit") then
                        if not NotiHopSv then
                            getgenv().NotiHopSv = true
                            Library.CreateNoti({Desc = 'Hopping Server for 1M+ Blox Fruit (Sea 3 Quest)', ShowTime = 5})
                        end
                        if not Settings.NPIII and NPIIIToggle then NPIIIToggle.SetStage(true) end
                        if not Settings.BTDFHopServer and BTDFHopServerToggle then BTDFHopServerToggle.SetStage(true) end
                        CT_DisableFarm()
                    else
                        AutoFarmLabel.SetText(LabelTextAF ..  "Not found 1m+ Blox Fruit in Inventory todo Sea 3 Quest")
                    end
                end
            end
        end
    end
    if game.PlaceId == 7449423635
    and (Settings.AutoTushita and not game.workspace.Map.Turtle:FindFirstChild("TushitaGate"))
    and not FindMobExist("rip_indra True Form [Lv. 5000] [Raid Boss]") then
        if IsHaveItem("Tushita") then
            if AutoTushitaToggle then AutoTushitaToggle.SetStage(false) end
            return Library.CreateNoti({Desc = "Got Tushita", ShowTime = 5})
        end
        if not game.workspace.Map.Turtle:FindFirstChild("TushitaGate")
        and not IsHaveItem("Tushita") then
            local x = "Longma"
            local v = GetMob(x)
            if v then
                AutoFarmLabel.SetText(LabelTextAF ..  "Killing " .. x)
                repeat wait()
                    AttackMob(v)
                until not IsMobAlive(v)
                or not Settings.AutoTushita
                return
            else
                local UnloadBoss = child_stringfind(game.ReplicatedStorage, x, true, true)
                if UnloadBoss then
                    Tween(UnloadBoss.HumanoidRootPart.CFrame * CFrame.new(0, Settings.Distance * 2, 0))
                    return
                else
                    AutoFarmLabel.SetText(LabelTextAF ..  "Waiting " .. x .. " spawn")
                end
            end
        end
    end
    if game.PlaceId == 7449423635
    and (Settings.rip_indraFarm or Settings.AutoTushita) then
        if Settings.AutoTushita and plrLevel >= 2000 and Settings.AFSHopServer and not FindMobExist("rip_indra True Form [Lv. 5000] [Raid Boss]")
        and (not SelectedIgnoreAction or not table.find(SelectedIgnoreAction, "Get Cursed Dual Katana")) then
            if Settings.Cuttay then
                Library.CreateNoti({Desc = 'Hopping Server for rip_indra True Form\n(Auto Tushita)', ShowTime = 20})
            end
            HopServer(true)
            wait(5)
            return
        end
        if FindMobExist("rip_indra True Form [Lv. 5000] [Raid Boss]")
        or Settings.AutoTushita and CheckPlrBackpack("Holy Torch") then
            if Settings.AutoTushita
            and game.workspace.Map.Turtle:FindFirstChild("TushitaGate") then
                if not CheckPlrBackpack("Holy Torch") then
                    Tween(game.workspace.Map.Waterfall.SecretRoom.Room.Door.Door.Hitbox.CFrame, true)
                    wait(1)
                else
                    local TorchCounter = 1
                    AutoFarmLabel.SetText(LabelTextAF ..  "Doing Tushita torch puzzle")
                    repeat wait()
                        for i, v in ipairs(game.workspace.Map.Turtle.QuestTorches:GetChildren()) do
                            if v.Name == "Torch" .. TorchCounter then
                                Tween(v.Position)
                                EquipItem("Holy Torch")
                                if v.Particles.Main.Enabled then
                                    TorchCounter = TorchCounter + 1
                                end
                            end
                        end
                    until TorchCounter == 6
                    or not game.workspace.Map.Turtle:FindFirstChild("TushitaGate")
                    or not Settings.AutoTushita
                end
                return
            end
            local x = "rip_indra True Form"
            local v = GetMob(x)
            if v then
                local OldInv = {}
                for i, v in pairs(getupvalue(require(plr.PlayerGui.Main.UIController.Inventory).UpdateRender, 4)) do
                    if v.details
                    and (v.details.Type == "Accessory" or v.details.Type == "Sword") then
                        table.insert(OldInv, v.details.Name)
                    end
                end
                AutoFarmLabel.SetText(LabelTextAF ..  "Killing " .. x)
                repeat wait()
                    AttackMob(v)
                until not IsMobAlive(v)
                or not Settings.rip_indraFarm
                or Settings.AutoTushita
                and game.workspace.Map.Turtle:FindFirstChild("TushitaGate")
                if IsMobAlive(v) then return end
                wait(4)
                if Settings.rip_indraFarm and Settings.RBFWebhook then
                    local x = GetNewInv(OldInv)
                    local PingEvery1 = ""
                    if x then
                        x = "\nItem Dropped: " .. x
                        PingEvery1 = "@everyone"
                    else
                        x = ""
                    end
                    SendWebHook({
                        ["content"] = PingEvery1,
                        ["embeds"] = {{
                            ["title"] = "Blox Fruits",
                            ["type"] = "rich",
                            ["color"] = tonumber(0xbdce44),
                            ["fields"] = {
                                {
                                    ["name"] = "Name",
                                    ["value"] = "||" .. plr.Name .. "||",
                                    ["inline"] = false
                                },
                                {
                                    ["name"] = "rip_indra Farm",
                                    ["value"] = "Killed rip_indra" .. x,
                                    ["inline"] = false
                                }
                            },
                            ["footer"] = {
                                ["icon_url"] = "https://cdn.discordapp.com/attachments/832985237638086660/843786018892939284/turtle.png",
                                ["text"] = "Sea Hub (" .. os.date("%X") .. ")"
                            }
                        }}
                    })
                end
            else
                local UnloadBoss = child_stringfind(game.ReplicatedStorage, x, true, true)
                if UnloadBoss then
                    Tween(UnloadBoss.HumanoidRootPart.CFrame * CFrame.new(0, Settings.Distance * 2, 0))
                    return
                end
            end
        elseif CheckPlrBackpack(WorldReward)
        and Settings.rip_indraFarm then
            local v, x = GetSummonPlate()
            if v then
                CommF:InvokeServer("activateColor", x)
                Tween(v.Position + Vector3.new(0, 5, 0), true)
                wait(1)
            else
                EquipItem(WorldReward)
                Tween(game.workspace.Map["Boat Castle"].Summoner.Detection.Position, true)
                wait(2)
            end
            return
        end
    end
    if game.PlaceId == 7449423635
    and Settings.SoulReaperFarm then
        if FindMobExist("Soul Reaper [Lv. 2100] [Raid Boss]") then
            local x = "Soul Reaper"
            local v = GetMob(x)
            if v then
                local OldInv = {}
                for i, v in pairs(getupvalue(require(plr.PlayerGui.Main.UIController.Inventory).UpdateRender, 4)) do
                    if v.details
                    and (v.details.Type == "Accessory" or v.details.Type == "Sword") then
                        table.insert(OldInv, v.details.Name)
                    end
                end
                AutoFarmLabel.SetText(LabelTextAF ..  "Killing " .. x)
                repeat wait()
                    AttackMob(v)
                until not IsMobAlive(v)
                or not Settings.SoulReaperFarm and not Settings.Cuttay
                if IsMobAlive(v) then return end
                wait(4)
                if Settings.SoulReaperFarm and Settings.RBFWebhook then
                    local x = GetNewInv(OldInv)
                    local PingEvery1 = ""
                    if x then
                        x = "\nItem Dropped: " .. x
                        PingEvery1 = "@everyone"
                    else
                        x = ""
                    end
                    SendWebHook({
                        ["content"] = PingEvery1,
                        ["embeds"] = {{
                            ["title"] = "Blox Fruits",
                            ["type"] = "rich",
                            ["color"] = tonumber(0xbdce44),
                            ["fields"] = {
                                {
                                    ["name"] = "Name",
                                    ["value"] = "||" .. plr.Name .. "||",
                                    ["inline"] = false
                                },
                                {
                                    ["name"] = "Soul Reaper Farm",
                                    ["value"] = "Killed Soul Reaper" .. x,
                                    ["inline"] = false
                                }
                            },
                            ["footer"] = {
                                ["icon_url"] = "https://cdn.discordapp.com/attachments/832985237638086660/843786018892939284/turtle.png",
                                ["text"] = "Sea Hub (" .. os.date("%X") .. ")"
                            }
                        }}
                    })
                end
            else
                local UnloadBoss = child_stringfind(game.ReplicatedStorage, x, true, true)
                if UnloadBoss then
                    Tween(UnloadBoss.HumanoidRootPart.CFrame * CFrame.new(0, Settings.Distance * 2, 0))
                    return
                end
            end
        elseif CheckPlrBackpack("Hallow Essence") then
            EquipItem("Hallow Essence") 
            Tween(game.workspace.Map["Haunted Castle"].Summoner.Detection.Position, true)
            wait(2)
            return
        else
            if CommF:InvokeServer("Bones", "Buy", 1, 1) ~= 0 then
                repeat wait()
                    if GetItemCount("Bones") < 50 then
                        AutoFarmLabel.SetText(LabelTextAF ..  "Farming Bone for Hallow Essence")
                        FarmLocation({"Reborn Skeleton", "Living Zombie", "Demonic Soul", "Posessed Mummy"}, CFrame.new(-9500.9443359375, 172.10487365722656, 6167.43359375))
                    end
                until CommF:InvokeServer("Bones", "Buy", 1, 1) ~= 0
                or not Settings.SoulReaperFarm
                return
            end
        end
    end
    if game.PlaceId == 4442272183
    and (Settings.DarkbeardFarm or Settings.Cuttay) then
        if FindMobExist("Darkbeard [Lv. 1000] [Raid Boss]") then
            local x = "Darkbeard"
            local v = GetMob(x)
            if v then
                local OldInv = {}
                for i, v in pairs(getupvalue(require(plr.PlayerGui.Main.UIController.Inventory).UpdateRender, 4)) do
                    if v.details
                    and (v.details.Type == "Accessory" or v.details.Type == "Sword") then
                        table.insert(OldInv, v.details.Name)
                    end
                end
                AutoFarmLabel.SetText(LabelTextAF ..  "Killing " .. x)
                repeat wait()
                    AttackMob(v)
                until not IsMobAlive(v)
                or not Settings.DarkbeardFarm and not Settings.Cuttay
                if IsMobAlive(v) then return end
                wait(4)
                if Settings.DarkbeardFarm and Settings.RBFWebhook then
                    local x = GetNewInv(OldInv)
                    local PingEvery1 = ""
                    if x then
                        x = "\nItem Dropped: " .. x
                        PingEvery1 = "@everyone"
                    else
                        x = ""
                    end
                    SendWebHook({
                        ["content"] = PingEvery1,
                        ["embeds"] = {{
                            ["title"] = "Blox Fruits",
                            ["type"] = "rich",
                            ["color"] = tonumber(0xbdce44),
                            ["fields"] = {
                                {
                                    ["name"] = "Name",
                                    ["value"] = "||" .. plr.Name .. "||",
                                    ["inline"] = false
                                },
                                {
                                    ["name"] = "Darkbeard Farm",
                                    ["value"] = "Killed Darkbeard" .. x,
                                    ["inline"] = false
                                }
                            },
                            ["footer"] = {
                                ["icon_url"] = "https://cdn.discordapp.com/attachments/832985237638086660/843786018892939284/turtle.png",
                                ["text"] = "Sea Hub (" .. os.date("%X") .. ")"
                            }
                        }}
                    })
                end
            else
                local UnloadBoss = child_stringfind(game.ReplicatedStorage, x, true, true)
                if UnloadBoss then
                    Tween(UnloadBoss.HumanoidRootPart.CFrame * CFrame.new(0, Settings.Distance * 2, 0))
                    return
                end
            end
        elseif CheckPlrBackpack(WorldReward) then
            EquipItem(WorldReward)
            Tween(game.workspace.Map.DarkbeardArena.Summoner.Detection.Position, true)
            wait(.5)
            return
        end
    end
    if game.PlaceId == 4442272183
    and Settings.OrderFarm then
        if FindMobExist("Order [Lv. 1250] [Raid Boss]") then
            local x = "Order"
            local v = GetMob(x)
            if v then
                local OldInv = {}
                for i, v in pairs(getupvalue(require(plr.PlayerGui.Main.UIController.Inventory).UpdateRender, 4)) do
                    if v.details
                    and (v.details.Type == "Accessory" or v.details.Type == "Sword") then
                        table.insert(OldInv, v.details.Name)
                    end
                end
                AutoFarmLabel.SetText(LabelTextAF ..  "Killing " .. x)
                repeat wait()
                    AttackMob(v)
                until not IsMobAlive(v)
                or not Settings.OrderFarm
                if IsMobAlive(v) then return end
                wait(4)
                if Settings.OrderFarm and Settings.RBFWebhook then
                    local x = GetNewInv(OldInv)
                    local PingEvery1 = ""
                    if x then
                        x = "\nItem Dropped: " .. x
                        PingEvery1 = "@everyone"
                    else
                        x = ""
                    end
                    SendWebHook({
                        ["content"] = PingEvery1,
                        ["embeds"] = {{
                            ["title"] = "Blox Fruits",
                            ["type"] = "rich",
                            ["color"] = tonumber(0xbdce44),
                            ["fields"] = {
                                {
                                    ["name"] = "Name",
                                    ["value"] = "||" .. plr.Name .. "||",
                                    ["inline"] = false
                                },
                                {
                                    ["name"] = "Order Farm",
                                    ["value"] = "Killed Order" .. x,
                                    ["inline"] = false
                                }
                            },
                            ["footer"] = {
                                ["icon_url"] = "https://cdn.discordapp.com/attachments/832985237638086660/843786018892939284/turtle.png",
                                ["text"] = "Sea Hub (" .. os.date("%X") .. ")"
                            }
                        }}
                    })
                end
            else
                local UnloadBoss = child_stringfind(game.ReplicatedStorage, x, true, true)
                if UnloadBoss then
                    Tween(UnloadBoss.HumanoidRootPart.CFrame * CFrame.new(0, Settings.Distance * 2, 0))
                end
                return
            end
        else
            if CheckPlrBackpack("Microchip") then
                fireclickdetector(game.workspace.Map.CircleIsland.RaidSummon.Button.Main.ClickDetector)
                wait(2)
                return
            elseif plr.Data.Fragments.Value > 1000 then
                CommF:InvokeServer("BlackbeardReward", "Microchip", "2")
                wait(1)
                return
            else
                AutoFarmLabel.SetText(LabelTextAF ..  "Not have enough Fragments to buy: Order Raid Microchip")
            end
        end
    end
    if Settings.AutoYama then
        if IsHaveItem("Yama") then
            if AutoYamaToggle then AutoYamaToggle.SetStage(false) end
            return Library.CreateNoti({Desc = "Got Yama", ShowTime = 5})
        elseif CommF:InvokeServer("EliteHunter", "Progress") >= 30 then
            if plr:DistanceFromCharacter(game.workspace.Map.Waterfall.SealedKatana.Handle.Position) > 200 then
                Tween(game.workspace.Map.Waterfall.SealedKatana.Handle.Position)
            else
                local x = "Ghost"
                local v = GetMob(x)
                if v then
                    repeat wait()
                        AttackMob(v)
                    until not IsMobAlive(v)
                    wait(.5)
                else
                    repeat wait()
                        if plr:DistanceFromCharacter(game.workspace.Map.Waterfall.SealedKatana.Handle.Position) > 50 then
                            Tween(game.workspace.Map.Waterfall.SealedKatana.Handle.Position)
                        else
                            fireclickdetector(game.workspace.Map.Waterfall.SealedKatana.Handle.ClickDetector)
                        end
                    until IsHaveItem("Yama")
                    or GetMob(x)
                    or not Settings.AutoYama
                end
            end
            return
        end
    end
    if game.PlaceId == 7449423635
    and Settings.ElitePirateFarm then
        local WorldRewardItem = CheckPlrBackpack(WorldReward)
        if WorldRewardItem
        and not Settings.rip_indraFarm
        and (Settings.EPFDisable or Settings.GDAWebhook and not WorldRewardItem:FindFirstChild("Ignored")) then
            if Settings.GDAWebhook and not WorldRewardItem:FindFirstChild("Ignored") then
                SendWebHook({
                    ["content"] = "@everyone",
                    ["embeds"] = {{
                        ["title"] = "Blox Fruits",
                        ["type"] = "rich",
                        ["color"] = tonumber(0xbdce44),
                        ["fields"] = {
                            {
                                ["name"] = "Name",
                                ["value"] = "||" .. plr.Name .. "||",
                                ["inline"] = false
                            },
                            {
                                ["name"] = "Elite Pirate Farm",
                                ["value"] = "Got " .. WorldReward,
                                ["inline"] = false
                            }
                        },
                        ["footer"] = {
                            ["icon_url"] = "https://cdn.discordapp.com/attachments/832985237638086660/843786018892939284/turtle.png",
                            ["text"] = "Sea Hub (" .. os.date("%X") .. ")"
                        }
                    }}
                })
                local Ignored = Instance.new("IntValue", WorldRewardItem)
                Ignored.Name = "Ignored"
            end
            if Settings.EPFDisable then
                TPLocation("Mansion")
                wait(2)
                return
            end
        else
            if not FuckPublicServer then
                spawn(function()
                    while wait(5) do
                        pcall(function()
                            if Settings.ElitePirateFarm
                            and Settings.EPFHopServer
                            and not plr.PlayerGui.Main.Quest.Visible
                            and KillingElitePirate then
                                HopServer()
                                wait(5)
                            end
                        end)
                    end
                end)
                getgenv().FuckPublicServer = true
            end
            if not EliteQuestCheck then
                getgenv().EliteQuestCheck = true
                delay(5, function()
                    getgenv().EliteQuestCheck = false
                end)
                CommF:InvokeServer("EliteHunter")
                wait(1)
            end
            if plr.PlayerGui.Main.Quest.Visible
            and
            (string.find(plr.PlayerGui.Main.Quest.Container.QuestTitle.Title.Text, "Urban")
            or string.find(plr.PlayerGui.Main.Quest.Container.QuestTitle.Title.Text, "Deandre")
            or string.find(plr.PlayerGui.Main.Quest.Container.QuestTitle.Title.Text, "Diablo"))
            then
                local x = GetMobNameInCurrentQuest()
                local v = GetMob(x)
                AutoFarmLabel.SetText(LabelTextAF ..  "Killing " .. x .. "\nTotal killed: " .. CommF:InvokeServer("EliteHunter", "Progress"))
                if v then
                    local Timer = tick()
                    getgenv().KillingElitePirate = true
                    repeat wait()
                        AttackMob(v)
                    until not IsMobAlive(v)
                    or not Settings.ElitePirateFarm
                    or tick() - Timer > 180
                    getgenv().KillingElitePirate = false
                    wait(1)
                else
                    local UnloadBoss = child_stringfind(game.ReplicatedStorage, x, true, true)
                    if UnloadBoss then
                        getgenv().KillingElitePirate = true
                        Tween(UnloadBoss.HumanoidRootPart.CFrame * CFrame.new(0, Settings.Distance * 2, 0))
                    end
                    return
                end
                return            
            elseif Settings.EPFHopServer and (not Settings.SpawnDoughKing and not Settings.CakePrinceFarm or not FindMobExist("Dough King [Lv. 2300] [Raid Boss]") and not (CheckPlrBackpack(WorldReward) or CheckPlrBackpack("Sweet Chalice"))) then
                if Settings.Cuttay then
                    Library.CreateNoti({Desc = 'Hopping Server for Elite Pirate Boss\n(Auto Yama)', ShowTime = 20})
                end
                HopServer()
                wait(5)
                return
            end
        end
    end
    
    if not TargetBoss then
        if game.PlaceId ~= 2753915549 
        and Settings.AutoRaid and plrLevel >= 1100 then
            if not plr.PlayerGui.Main.Timer.Visible and not CheckInRaid() then
                if CheckPlrBackpack("Special Microchip") then
                    AutoFarmLabel.SetText(LabelTextAF ..  "Joining Raid")
                    if RaidSummon.MainRaid.Color.Color == RaidColor then
                        local Timer = tick()
                        repeat wait()
                            if CheckPlrBackpack("Special Microchip") and not TweenPath then
                                fireclickdetector(RaidSummon.Button.Main.ClickDetector)
                                wait(2)
                            end
                        until plr.PlayerGui.Main.Timer.Visible or not Settings.AutoRaid and not Settings.Cuttay or tick() - Timer > 30
                        return
                    else
                        Library.CreateNoti({Desc = 'There is a Raid are starting, waiting ...', ShowTime = 5})
                        wait(2)
                    end
                    return
                elseif not BuyMicrochipCheck
                and (not Is1MilFruit() or (Settings.RaidMap == "Dough" or Settings.RaidMap == "Bird: Phoenix")) then
                    getgenv().BuyMicrochipCheck = true
                    delay(5, function()
                        getgenv().BuyMicrochipCheck = false
                    end)
                    CommF:InvokeServer("RaidsNpc", "Select", Settings.RaidMap)
                    if CheckPlrBackpack("Special Microchip") then
                        return
                    elseif Settings.AutoRaidAU
                    and not child_stringfind(plr.Backpack, " Fruit", nil, true)
                    and not child_stringfind(plr.Character, " Fruit", nil, true)
                    and GetTreasureFruit() then
                        local v = GetTreasureFruit()
                        if v then
                            getgenv().DisableAutoStore = true
                            CommF:InvokeServer("LoadFruit", v)
                            wait(.25)
                            CommF:InvokeServer("RaidsNpc", "Select", Settings.RaidMap)
                            wait(.25)
                            getgenv().DisableAutoStore = false
                            return
                        end
                    elseif Settings.BTDFHopServer
                    and not CheckPlrBackpack("Special Microchip") then
                        HopServer(true)
                        wait(5)
                        return
                    end
                end
            end
        elseif Settings.Cuttay and not Settings.NPIII and NPIIIToggle then
            NPIIIToggle.SetStage(true)
        end
        
        if game.PlaceId ~= 2753915549 
        and Settings.SeaBeastFarm then
            local WorldRewardItem = WorldReward and CheckPlrBackpack(WorldReward)
            if WorldRewardItem
            and not Settings.DarkbeardFarm
            and (Settings.SFDIGFOD or Settings.GDAWebhook and not WorldRewardItem:FindFirstChild("Ignored")) then
                if Settings.GDAWebhook and not WorldRewardItem:FindFirstChild("Ignored") then
                    SendWebHook({
                        ["content"] = "@everyone",
                        ["embeds"] = {{
                            ["title"] = "Blox Fruits",
                            ["type"] = "rich",
                            ["color"] = tonumber(0xbdce44),
                            ["fields"] = {
                                {
                                    ["name"] = "Name",
                                    ["value"] = "||" .. plr.Name .. "||",
                                    ["inline"] = false
                                },
                                {
                                    ["name"] = "Sea Beast Farm",
                                    ["value"] = "Got " .. WorldReward,
                                    ["inline"] = false
                                }
                            },
                            ["footer"] = {
                                ["icon_url"] = "https://cdn.discordapp.com/attachments/832985237638086660/843786018892939284/turtle.png",
                                ["text"] = "Sea Hub (" .. os.date("%X") .. ")"
                            }
                        }}
                    })
                    local Ignored = Instance.new("IntValue", WorldRewardItem)
                    Ignored.Name = "Ignored"
                end
                if Settings.ACDisable then
                    TPLocation(SafeZone)
                    wait(2)
                    return
                end
            else
                if Settings.SFHopServer and game.PlaceId == 7449423635 then
                    AutoFSSLabel.SetText(LabelTextAFS ..  "Traveling to Sea 2")
                    CommF:InvokeServer("TravelDressrosa")
                    wait(5)
                    return
                end
                if Settings.SFSIMIS and game.workspace.NPCs["Advanced Fruit Dealer"].HumanoidRootPart.Position.Y > -100 then
                    Tween(game.workspace.NPCs["Advanced Fruit Dealer"].HumanoidRootPart.Position)
                    wait(3)
                    return
                end
                local v = CheckSeaBeast() or CheckPirateShip()
                if v then
                    if Settings.SFSIMIS then
                        repeat wait()
                            if v.Name == "SeaBeast1" then
                                AutoFarmLabel.SetText(LabelTextAF ..  "Waiting for Sea Beast despawn")
                            else
                                AutoFarmLabel.SetText(LabelTextAF ..  "Waiting for Pirate Ship despawn")  
                            end
                            if not plr.Character.Humanoid.Sit then
                                UnSit()
                            else
                                TPLocation(SafeZone)
                                wait(2)
                            end
                        until not v or not v.Parent
                        or not v:FindFirstChild("Health")
                        or v.Health.Value == 0
                        or not Settings.SeaBeastFarm
                        or not Settings.SFSIMIS
                    end
                    local PlusY = -20
                    if v.Name == "SeaBeast1" then
                        AutoFarmLabel.SetText(LabelTextAF ..  "Attacking Sea Beast")
                        PlusY = 200
                    else
                        AutoFarmLabel.SetText(LabelTextAF ..  "Attacking Pirate Ship")
                    end
                    local Root = v:FindFirstChild("HumanoidRootPart") or v:FindFirstChild("Engine")
                    spawn(function()
                        repeat wait()
                            if Root.Position.Y + PlusY < 0 then getgenv().AimPos = nil end
                            if v.Name == "SeaBeast1" then
                                getgenv().AimPos = Vector3.new(Root.Position.X, 40, Root.Position.Z)
                            else
                                getgenv().AimPos = Root.Position + Vector3.new(0, -20, 0)
                            end
                        until not v or not v.Parent
                        or not v:FindFirstChild("Health")
                        or v.Health.Value == 0
                        or not Settings.SeaBeastFarm
                        wait(2)
                        if Settings.SFHopServer and not CheckPlrBackpack(WorldReward) and PlusY == 200 and not CheckSeaBeast() then
                            AutoFSSLabel.SetText(LabelTextAFS ..  "Traveling to Sea 3")
                            CommF:InvokeServer("TravelZou")
                            wait(3)
                            return
                        end
                    end)
                    repeat wait()
                        if IsPlayerDead() then
                            repeat wait()
                            until not IsPlayerDead()
                            wait(3)
                            for i, v in ipairs(plr.Backpack:GetChildren()) do
                                if v:IsA("Tool")
                                and v.ToolTip ~= "" then
                                    plr.Character.Humanoid:EquipTool(v)
                                end
                                wait(.25)
                            end
                            plr.Character.Humanoid:UnequipTools()
                        end
                        if v.Name == "SeaBeast1" or Settings.AttackPirateShip then
                            if Root.Position.Y + PlusY < 0 then return end
                            local k = GetUseableSkillWP()
                            if k then
                                if not plr.Character:FindFirstChild(k) then
                                    EquipItem(k)
                                end
                                Tween(Root.CFrame * CFrame.new(0, PlusY, 0))
                                for _, x in pairs(SkillList) do
                                    if Settings.SeaBeastFarm and not Panicing
                                    and v and v.Parent
                                    and plr:DistanceFromCharacter(Root.Position) < 400
                                    and CheckSkillUseable(k, x)
                                    and (x ~= "Z" or x == "Z" and not table.find(IgnoreZFruits, k))
                                    and (x ~= "F" or x == "F" and table.find(FDealDamageFruits, k))
                                    and plr.PlayerGui.Main.Skills[k][x].Title.Text ~= "Transformation"
                                    and Root.Position.Y + PlusY > 0
                                    and v:FindFirstChild("Health")
                                    and v.Health.Value ~= 0 then
                                        Tween(Root.CFrame * CFrame.new(0, PlusY, 0))
                                        game:GetService("VirtualInputManager"):SendKeyEvent(true, x, false, game)
                                        game:GetService("VirtualInputManager"):SendKeyEvent(false, x, false, game)
                                    end
                                end
                            elseif Root.Position.Y + PlusY > 0 then
                                if plr:DistanceFromCharacter(Root.Position) < 400 and v.Name == "SeaBeast1" then
                                    plr.Character.HumanoidRootPart.CFrame = Root.CFrame * SeaBeastRandomPos[math.random(1, 2)]
                                else
                                    Tween(Root.CFrame * CFrame.new(0, PlusY, 0))
                                end
                            end
                        else
                            if not plr.Character.Humanoid.Sit then
                                UnSit()
                            end
                            getgenv().noclip = false
                            local plrPos = plr.Character.HumanoidRootPart.Position
                            plr.Character.HumanoidRootPart.CFrame = CFrame.new(plrPos.X, 100, plrPos.Z)
                        end
                    until not v or not v.Parent
                    or not v:FindFirstChild("Health")
                    or v.Health.Value == 0
                    or not Settings.SeaBeastFarm
                else
                    if Settings.WaterWalker and WaterWalkerToggle then WaterWalkerToggle.SetStage(false) end
                    local ShipPos = CFrame.new(-9.799154281616211, -0.09795093536376953, 4071.22265625)
                    if game.PlaceId == 7449423635 then
                        ShipPos = CFrame.new(-7536.1572265625, -0.09795093536376953, -11520.6806640625)
                        if Settings.SFSIMIS then
                            ShipPos = CFrame.new(-8119.6171875, -0.09795093536376953, -15605.6884765625)
                        end
                    end
                    if plr:DistanceFromCharacter(ShipPos.Position) < 300 then
                        local v = FindOwnBoat()
                        if v then
                            if (v.VehicleSeat.Position - ShipPos.Position).magnitude > 300 then
                                AutoFarmLabel.SetText(LabelTextAF ..  "Spawning Ship")
                                plr.Character.HumanoidRootPart.CFrame = v.VehicleSeat.CFrame
                                wait(1)
                                v.VehicleSeat.CFrame = ShipPos
                                wait(2)
                                UnSit()
                            else
                                if Settings.SFSIMIS then
                                    AutoFarmLabel.SetText(LabelTextAF ..  "Waiting for Mirage Island")
                                else
                                    AutoFarmLabel.SetText(LabelTextAF ..  "Waiting for Sea Beast")
                                end
                                getgenv().noclip = false
                                if not plr.Character.Humanoid.Sit then
                                    plr.Character.HumanoidRootPart.CFrame = v.VehicleSeat.CFrame
                                    wait(2)
                                else
                                    game:GetService("VirtualInputManager"):SendKeyEvent(true, "S", false, game)
                                    wait(.25)
                                    game:GetService("VirtualInputManager"):SendKeyEvent(false, "S", false, game)
                                    wait(.5)
                                    game:GetService("VirtualInputManager"):SendKeyEvent(true, "W", false, game)
                                    wait(.25)
                                    game:GetService("VirtualInputManager"):SendKeyEvent(false, "W", false, game)
                                end
                            end
                        else
                            if Settings.AttackPirateShip then
                                CommF:InvokeServer("BuyBoat", "PirateBasic")
                            else
                                CommF:InvokeServer("BuyBoat", "Dinghy")
                            end
                        end
                    else
                        Tween(ShipPos)
                    end
                    wait(1)
                    return
                end
            end
        end
        if Settings.KenHakiFarm then
            local v = GetMobAura(true)
            if v then
                if game.Lighting.ExposureCompensation == 0 then
                    game:GetService("VirtualInputManager"):SendKeyEvent(true, "K", false, game)
                    game:GetService("VirtualInputManager"):SendKeyEvent(false, "K", false, game)
                end
                repeat wait()
                    Tween(v.HumanoidRootPart.Position + Vector3.new(0, 5, 0))
                until not IsMobAlive(v)
                or game.Lighting.ExposureCompensation == 0
                or not Settings.KenHakiFarm
                if Settings.KenHakiFarm and game.Lighting.ExposureCompensation == 0 then
                    HopServer()
                end
            else
                local UnloadMob = GetUnloadedMob()
                if UnloadMob then
                    Tween(UnloadMob.HumanoidRootPart.CFrame * CFrame.new(0, Settings.Distance * 2, 0))
                end
                return
            end
        end
        if Settings.AutoChest then
            if Settings.AC10Chest and CollectedChest >= 10 then
                HopServer()
                wait(5)
                return
            end
            if #getgenv().Chests == 0 then
                if not GetChestCheck then
                    delay(10, function()
                        getgenv().GetChestCheck = false
                    end)
                    getgenv().GetChestCheck = true
                    getgenv().GetChests()
                    wait(1)
                end
            else
                local WorldRewardItem = WorldReward and CheckPlrBackpack(WorldReward)
                if WorldRewardItem
                and (Settings.ACDisable or Settings.GDAWebhook and not WorldRewardItem:FindFirstChild("Ignored")) then
                    if Settings.GDAWebhook and not WorldRewardItem:FindFirstChild("Ignored") then
                        SendWebHook({
                            ["content"] = "@everyone",
                            ["embeds"] = {{
                                ["title"] = "Blox Fruits",
                                ["type"] = "rich",
                                ["color"] = tonumber(0xbdce44),
                                ["fields"] = {
                                    {
                                        ["name"] = "Name",
                                        ["value"] = "||" .. plr.Name .. "||",
                                        ["inline"] = false
                                    },
                                    {
                                        ["name"] = "Auto Chest",
                                        ["value"] = "Got " .. WorldReward,
                                        ["inline"] = false
                                    }
                                },
                                ["footer"] = {
                                    ["icon_url"] = "https://cdn.discordapp.com/attachments/832985237638086660/843786018892939284/turtle.png",
                                    ["text"] = "Sea Hub (" .. os.date("%X") .. ")"
                                }
                            }}
                        })
                        local Ignored = Instance.new("IntValue", WorldRewardItem)
                        Ignored.Name = "Ignored"
                    end
                    if Settings.ACDisable then
                        TPLocation(SafeZone)
                        wait(2)
                        return
                    end
                else
                    local Chest = GetNearestChest()
                    if Chest then
                        if Settings.AC10Chest and plr:DistanceFromCharacter(Chest.Position) > 2000 then
                            HopServer()
                            wait(5)
                            return
                        end
                        AutoFarmLabel.SetText(LabelTextAF ..  "Picking up Chest")
                        Tween(Chest.Position)
                        wait(.25)
                        Jump()
                        wait(.25)
                        getgenv().CollectedChest = CollectedChest + 1
                        return
                    elseif Settings.ACHopServer then
                        HopServer()
                        wait(5)
                        return
                    end
                end
            end
        end
    end
    if game.PlaceId == 7449423635
    and Settings.CakePrinceFarm then
        if FindMobExist("Cake Prince [Lv. 2300] [Raid Boss]")
        or FindMobExist("Dough King [Lv. 2300] [Raid Boss]") then
            if plr:DistanceFromCharacter(Vector3.new(-2112.831298828125, 70.00884246826172, -12393.880859375)) < 1000 then
                Tween(game.workspace.Map.CakeLoaf.BigMirror.Main.Position)
                wait(1)
            end
            local x
            if FindMobExist("Dough King [Lv. 2300] [Raid Boss]") then
                x = "Dough King"
            else
                x = "Cake Prince"
            end
            local v = GetMob(x)
            if v then
                local OldInv = {}
                for i, v in pairs(getupvalue(require(plr.PlayerGui.Main.UIController.Inventory).UpdateRender, 4)) do
                    if v.details
                    and (v.details.Type == "Accessory" or v.details.Type == "Sword") then
                        table.insert(OldInv, v.details.Name)
                    end
                end
                AutoFarmLabel.SetText(LabelTextAF ..  "Killing " .. x)
                repeat wait()
                    if IsPlayerDead() and not disable then
                        getgenv().AttackingMob = nil
                        repeat wait() until not IsPlayerDead()
                        wait(3)
                        if plr:DistanceFromCharacter(Vector3.new(-2112.831298828125, 70.00884246826172, -12393.880859375)) < 1000 then
                            Tween(game.workspace.Map.CakeLoaf.BigMirror.Main.Position)
                            wait(1)
                        end
                    end
                    AttackMob(v, true)
                until not IsMobAlive(v)
                or not Settings.CakePrinceFarm
                wait(4)
                if Settings.CakePrinceFarm and Settings.RBFWebhook then
                    local iv = GetNewInv(OldInv)
                    local PingEvery1 = ""
                    if iv then
                        iv = "\nItem Dropped: " .. iv
                        PingEvery1 = "@everyone"
                    else
                        iv = ""
                    end
                    SendWebHook({
                        ["content"] = PingEvery1,
                        ["embeds"] = {{
                            ["title"] = "Blox Fruits",
                            ["type"] = "rich",
                            ["color"] = tonumber(0xbdce44),
                            ["fields"] = {
                                {
                                    ["name"] = "Name",
                                    ["value"] = "||" .. plr.Name .. "||",
                                    ["inline"] = false
                                },
                                {
                                    ["name"] = "Cake Prince Farm",
                                    ["value"] = "Killed " .. x .. iv,
                                    ["inline"] = false
                                }
                            },
                            ["footer"] = {
                                ["icon_url"] = "https://cdn.discordapp.com/attachments/832985237638086660/843786018892939284/turtle.png",
                                ["text"] = "Sea Hub (" .. os.date("%X") .. ")"
                            }
                        }}
                    })
                end
                if CheckPlrBackpack("Red Key") then
                    EquipItem("Red Key")
                    Tween(CFrame.new(-2683.825927734375, 64.36637115478516, -12853.4599609375), true)
                end
            else
                local UnloadBoss = child_stringfind(game.ReplicatedStorage, x, true, true)
                if UnloadBoss then
                    Tween(UnloadBoss.HumanoidRootPart.CFrame * CFrame.new(0, Settings.Distance * 2, 0))
                end
                return
            end
        elseif not Settings.KillingElitePirate or (CheckPlrBackpack(WorldReward) or CheckPlrBackpack("Sweet Chalice")) then
            if Settings.SpawnDoughKing
            and GetItemCount("Conjured Cocoa") < 10
            and not CheckPlrBackpack("Sweet Chalice") then
                local v = GetMob({"Cocoa Warrior", "Chocolate Bar Battler", "Sweet Thief", "Candy Rebel"})
                if v then
                    AutoFarmLabel.SetText(LabelTextAF ..  "Farming Conjured Cocoa")
                    repeat wait()
                        AttackMob(v)
                    until not IsMobAlive(v)
                    or GetItemCount("Conjured Cocoa") >= 10
                    or not Settings.CakePrinceFarm
                    wait(.5)
                else
                    Tween(CFrame.new(236.79563903808594, 76.14258575439453, -12497.48828125))
                end
            else
                local CPProgress = CommF:InvokeServer("CakePrinceSpawner", true)
                if string.find(CPProgress, "open the portal now") then
                    if Settings.SpawnDoughKing
                    and not CheckPlrBackpack("Sweet Chalice") then
                        if CheckPlrBackpack(WorldReward) then
                            CommF:InvokeServer("SweetChaliceNpc")
                            wait(1)
                        else
                            AutoFarmLabel.SetText(LabelTextAF ..  "You don't have " .. WorldReward .. " to spawn " .. x)
                            wait(1)
                        end
                        return
                    end
                    if plr:DistanceFromCharacter(Vector3.new(-2136.96142578125, 70.00884246826172, -12322.5791015625)) < 10 then
                        CommF:InvokeServer("CakePrinceSpawner")
                    else
                        Tween(CFrame.new(-2136.96142578125, 70.00884246826172, -12322.5791015625))
                        return
                    end
                else
                    AutoFarmLabel.SetText(LabelTextAF ..  "Farming Mob to spawn Cake Prince (" .. CPProgress:split(">")[2]:split("<")[1] .. " left)")
                    FarmLocation({"Cookie Crafter", "Cake Guard", "Baking Staff", "Head Baker"}, CFrame.new(-2129.2158203125, 52.0726318359375, -12595.05078125), (not Settings.SpawnDoughKing and not Settings.CakePrinceFarm or not (CheckPlrBackpack(WorldReward) or CheckPlrBackpack("Sweet Chalice"))))
                    return
                end
            end
        end
    end
    if not TargetBoss
    and Settings.MobAura then
        if MobAuraPos
        and plr:DistanceFromCharacter(MobAuraPos.Position) > 1000 then
            AutoFarmLabel.SetText(LabelTextAF ..  "Tweening to Mob Aura Anchor")
            Tween(MobAuraPos.Position)
        else
            AutoFarmLabel.SetText(LabelTextAF ..  "Mob Aura Farming")
            if MobAuraPos then HopIfNearFarmArea(MobAuraPos.Position) end
            local v = GetMobAura()
            if v then
                local Timer = tick()
                repeat wait()
                    if MobAuraPos then HopIfNearFarmArea(MobAuraPos.Position) end
                    AttackMob(v)
                until not IsMobAlive(v)
                and not string.find(v.Name, "Boss")
                or not Settings.MobAura
                or tick() - Timer > 120
            else
                Tween(MobAuraPos.Position)
            end
        end
    end
    function PHCheck(v)
        local v = game.workspace.Characters:FindFirstChild(v)
        if v
        and (tostring(plr.Team) == "Pirates" and not table.find(Allies, v.Name) or tostring(plr.Team) == "Marines" and tostring(game.Players[v.Name].Team) ~= "Marines")
        and game.Players[v.Name].Data.Level.Value >= 20
        and IsMobAlive(v)
        and v.Humanoid.MaxHealth <= 1000
        and not BF_SafeZoneCheck(v.HumanoidRootPart)
        and plr.PlayerGui.Main.Quest.Visible then
            return true
        end
    end
    if game.PlaceId == 2753915549 and not DonePH
    and Settings.AutoDL and plrLevel >= 50 and not TemporaryDisablePlayerHunter then
        local PH = CommF:InvokeServer("PlayerHunter")
        if not string.find(PH, "I don't have") then
            local v = PH:split("player ")[2]
            v = v:split(" roaming")[1]
            if not PHCheck(v) then
                local Attempts = 0
                repeat wait()
                    Attempts = Attempts + 1
                    PH = CommF:InvokeServer("PlayerHunter")
                    v = PH:split("player ")[2]
                    v = v:split(" roaming")[1]
                    wait(.5)
                until PHCheck(v) or Attempts > 12 * 3
                if Attempts > 12 * 3 then
                    if Settings.AFSHopServer then
                        HopServer()
                        wait(5)
                    else
                        getgenv().TemporaryDisablePlayerHunter = true
                        delay(600, function()
                            getgenv().TemporaryDisablePlayerHunter = false
                        end)
                    end
                    return
                end
            end
            local v = game.workspace.Characters:FindFirstChild(v)
            spawn(function()
                repeat wait(1)
                until not IsMobAlive(v)
                or BF_SafeZoneCheck(v.HumanoidRootPart)
                or not plr.PlayerGui.Main.Quest.Visible
                ForceStopTween()
            end)
            repeat wait()
                if plr:DistanceFromCharacter(v.HumanoidRootPart.Position) > 50 then
                    getgenv().MovingPos = v.HumanoidRootPart
                    Tween(v.HumanoidRootPart.Position)
                    getgenv().MovingPos = nil
                else
                    plr.Character.HumanoidRootPart.CFrame = v.HumanoidRootPart.CFrame
                    if not plr.Character:FindFirstChildOfClass("Tool") then
                        EquipItem(GetM1WP())
                    end
                    game:GetService("VirtualInputManager"):SendKeyEvent(true, "Z", false, game)
                    game:GetService("VirtualInputManager"):SendKeyEvent(false, "Z", false, game)
                    game:GetService("VirtualInputManager"):SendKeyEvent(true, "X", false, game)
                    game:GetService("VirtualInputManager"):SendKeyEvent(false, "X", false, game)
                    ClickM1()
                end
            until not IsMobAlive(v)
            or BF_SafeZoneCheck(v.HumanoidRootPart)
            or not plr.PlayerGui.Main.Quest.Visible
            or IsPlayerDead()
            if IsPlayerDead() then
                repeat wait()
                until not IsPlayerDead()
                wait(3)
                if plr.PlayerGui.Main.PvpDisabled.Visible then
                    CommF:InvokeServer("EnablePvp")
                    wait(5)
                end
            else
                ForceStopTween()
                wait(1)
                if string.find(CommF:InvokeServer("PlayerHunter"), "I don't have") then
                    getgenv().DonePH = true
                    delay(360, function()
                        getgenv().DonePH = false
                    end)
                end
            end
            return
        end
    end
    if Settings.MobFarm
    or TargetBoss and (Settings.BossFarm or Settings.Cuttay) then
        local FMob = {}
        local SelectedFMob = TargetBoss
        local MobTable = Bosses
        if not SelectedFMob then
            if Settings.AutoDL then
                local ChoosenMob = GetMobByLevel()
                for i, v in pairs(Mobs) do
                    if Mobs[ChoosenMob].QName == v.QName
                    and plrLevel >= v.QLevel then
                        table.insert(FMob, i)
                    end
                end
            else
                FMob = SelectedMFMob
            end
            SelectedFMob = GetMSelectFMob(FMob)
            MobTable = Mobs
        end
        if SelectedFMob then
            if SelectedFMob ~= "Bandit"
            and SelectedFMob ~= "Trainee"
            and plrLevel < 120
            and Settings.AutoDL then
                if not NotiForRetard then
                    Library.CreateNoti({Desc = "(Auto Detect Level) This is the best way to farm from Lvl 10 to 120 so ignore what the script is doing", ShowTime = 60})
                    getgenv().NotiForRetard = true
                end
                AutoFarmLabel.SetText(LabelTextAF ..  "(Auto Detect Level) This is the best way to farm from Lvl 10 to 120 so ignore what the script is doing")
                FarmLocation({"Royal Soldier", "Royal Squad"}, CFrame.new(-7806.525390625, 5635.63818359375, -1526.8787841796875))
                return
            end
            if not HaveQuest(MobTable, SelectedFMob, FMob) then
                if not TargetBoss
                and SelectedFMob ~= "Factory Staff" then
                    HopIfNearFarmArea(Mobs[SelectedFMob].MPos)
                end
                repeat wait()
                    Tween(MobTable[SelectedFMob].QPos)
                    wait(.5)
                    if plr:DistanceFromCharacter(MobTable[SelectedFMob].QPos.Position) < 5 then
                        CommF:InvokeServer("StartQuest", MobTable[SelectedFMob].QName, MobTable[SelectedFMob].QNumber)
                        wait(.25)
                    end 
                until HaveQuest(MobTable, SelectedFMob, FMob)
                or TargetBoss and (not Settings.BossFarm or child_stringfind(game.workspace.Enemies, SelectedFMob, true) == 0 and child_stringfind(game.ReplicatedStorage, SelectedFMob, true) == 0)
                or not TargetBoss and not Settings.MobFarm
            end
            repeat wait()
                --[[
                local NeatestSpawnPoint = CheckNearestSpawn(MobTable[SelectedFMob].QPos)
                if Settings.SSPIT
                and plr.Data.SpawnPoint.Value ~= NeatestSpawnPoint
                and plr:DistanceFromCharacter(wOrigin.PlayerSpawns.Pirates[NeatestSpawnPoint]:FindFirstChildOfClass("Part").Position) > 1000 then
                    repeat wait()
                        plr.Character.HumanoidRootPart.CFrame = MobTable[SelectedFMob].QPos
                        CommF:InvokeServer("SetSpawnPoint")
                        local x = plr.Character:FindFirstChild("Head")
                        if x then
                            x:Destroy()
                        end
                    until plr.Data.SpawnPoint.Value == NeatestSpawnPoint
                    or not Settings.SSPIT or not Settings.MobFarm or TargetBoss and not Settings.BossFarm
                    repeat wait()
                    until not IsPlayerDead()
                    wait(3)
                    if plr.Data.SpawnPoint.Value ~= NeatestSpawnPoint then return end
                end
                ]]
                local v
                if MobTable[SelectedFMob] and plrLevel >= MobTable[SelectedFMob].QLevel
                or TargetBoss then
                    v = GetMob(SelectedFMob)
                else
                    v = GetMob(FMob)
                end
                if v then
                    getgenv().WaitSpawnTimer = nil
                    AutoFarmLabel.SetText(LabelTextAF ..  "Killing mob (" .. SelectedFMob .. ")")
                    local Timer = tick()
                    getgenv().MovingPos = v.HumanoidRootPart
                    repeat wait()
                        if not TargetBoss
                        and SelectedFMob ~= "Factory Staff" then
                            HopIfNearFarmArea(Mobs[SelectedFMob].MPos)
                        end
                        AttackMob(v)
                    until not IsMobAlive(v)
                    or not HaveQuest(MobTable, SelectedFMob, FMob)
                    or TargetBoss and Settings.BossFarm
                    or not TargetBoss and not Settings.MobFarm
                    or tick() - Timer > 120
                    getgenv().MovingPos = nil
                else
                    AutoFarmLabel.SetText(LabelTextAF ..  "Waiting for mob spawn (" .. SelectedFMob .. ")")
                    if not TargetBoss then
                        if not WaitSpawnTimer then
                            getgenv().WaitSpawnTimer = tick()
                        elseif tick() - WaitSpawnTimer > 180 then
                            getgenv().WaitSpawnTimer = nil
                            if not table.find(SelectedIgnoreHop, "[Main] Server Hop") then
                                Library.CreateNoti({Desc = "Server glitched, mobs not spawning in 3 minutes", ShowTime = 5})
                                HopServer()
                                wait(5)
                            else                               
                                if game.PlaceId == 2753915549 then
                                    TPLocation("Underwater City Entrance")
                                elseif game.PlaceId == 4442272183 then
                                    TPLocation("Swan's Room")
                                elseif game.PlaceId == 7449423635 then
                                    TPLocation("Castle on the Sea")
                                end
                            end
                            return
                        end
                        if not (MobTable[SelectedFMob] and plrLevel >= MobTable[SelectedFMob].QLevel) then
                            SelectedFMob = FMob[math.random(1, #FMob)]
                        end
                        Tween(Mobs[SelectedFMob].MPos + Vector3.new(0, Settings.Distance, 0))
                        if not GetMob(SelectedFMob) then
                            wait(2)
                            for i, v in ipairs(EnemySpawns) do
                                if (not MobTable[SelectedFMob] or MobTable[SelectedFMob] and plrLevel >= MobTable[SelectedFMob].QLevel and plr.PlayerGui.Main.Quest.Visible)
                                and not GetMob(SelectedFMob)
                                and GetMobNameOnly(v.Name) == SelectedFMob then
                                    Tween(v.Position + Vector3.new(0, Settings.Distance, 0))
                                    wait()
                                    if Settings.IgnoreYTween then wait(.8) end
                                end
                            end
                        end
                    else
                        local UnloadMob = child_stringfind(game.ReplicatedStorage, SelectedFMob, true, true)
                        if UnloadMob then
                            Tween(UnloadMob.HumanoidRootPart.CFrame * CFrame.new(0, Settings.Distance * 2, 0))
                        end
                    end
                end
            until TargetBoss and (not Settings.BossFarm or child_stringfind(game.workspace.Enemies, SelectedFMob, true) == 0 and child_stringfind(game.ReplicatedStorage, SelectedFMob, true) == 0)
            or not TargetBoss and (not Settings.MobFarm or (MobTable[SelectedFMob] and plrLevel >= MobTable[SelectedFMob].QLevel and not plr.PlayerGui.Main.Quest.Visible) or not (MobTable[SelectedFMob] and plrLevel >= MobTable[SelectedFMob].QLevel) and Settings.AutoDL)
            wait(.5)
        else
            CommF:InvokeServer("AbandonQuest")
            wait(2)
        end
    end
    if Settings.Cuttay then
        if CheckPlrBackpack("Library Key")
        and game.workspace.Map.IceCastle.Hall.LibraryDoor:FindFirstChild("PhoeyuDoor") then
            repeat wait()
                EquipItem("Library Key")
                Tween(game.workspace.Map.IceCastle.Hall.LibraryDoor.Keyhole.Detect.Position, true)
                wait(1)
            until not CheckPlrBackpack("Library Key")
        end
        if CheckPlrBackpack("Hidden Key")
        and not IsHaveItem("Rengoku") then
            repeat wait()
                EquipItem("Hidden Key")
                Tween(game.workspace.Map.IceCastle.RengokuChest.Detection.Position, true)
                wait(1)
            until not CheckPlrBackpack("Hidden Key")
        end
        if CheckPlrBackpack("Water Key") then
            CommF:InvokeServer("BuySharkmanKarate", true)
            wait(1)
        end
        if CheckPlrBackpack("Fire Essence")
        and string.find(CommF:InvokeServer("BuyDragonTalon", true), "Set your") then
            CommF:InvokeServer("BuyDragonTalon", true)
            wait(1)
        end
    end
    AutoFarmLabel.SetText("[Auto Farm]: None")
end
spawn(function()
    wait(2)
    if TabStatus and TabStatus == "In" then wait(4) end
    repeat wait() until AutoFSSLabel and AutoFarmLabel and S_Timer
    while wait() do
        pcall(function()
            AutoFarmFeatures()
        end)
    end
end)
if game.PlaceId ~= 7449423635 then
    local x, m = "Auto Sea 2 Quest (Dressrosa)", "Auto do the quest goto next Sea"
    if game.PlaceId == 4442272183 then
        x, m = "Auto Sea 3 Quest (Zou)", "Auto do the quest goto next Sea, require 1m+ value Blox Fruit in Inventory or Treasure Inventory, recommended enable with Auto Blox Fruit Dealer Cousin"
    end
    AutoNextSeaToggle = Section22.CreateToggle({Title = x, Desc = m, Default = Settings.AutoNextSea}, function(v)
        if v and not Settings.SelectM1Weapon and not AFSWeapon and not Settings.Cuttay then
            if AutoNextSeaToggle then AutoNextSeaToggle.SetStage(false) end
            return Library.CreateNoti({Desc = "Please select M1 Weapon", ShowTime = 5})
        end
        if v and game.PlaceId == 2753915549
        and game.workspace.Map.Ice.Door.Transparency == 1 then
            CommF:InvokeServer("TravelDressrosa")
            return
        end
        if v and game.PlaceId == 4442272183
        and CommF:InvokeServer("ZQuestProgress", "Check") == 1 then
            CommF:InvokeServer("TravelZou")
            return
        end
        if Settings.AutoNextSea and not v then
            spawn(function()
                wait(.5)
                ForceStopTween(true)
            end)
        end
        Settings.AutoNextSea = v
    end)
elseif Settings.AutoNextSea then
    Settings.AutoNextSea = false
end
if game.PlaceId ~= 2753915549 then
    local x, m = "Auto Pirate Raid", "Auto attack the raid Pirates at Castle on the Sea when the Raid Event happened"
    if game.PlaceId == 4442272183 then
        x, m = "Auto Factory", "Auto destroy the Factory when the Factory Event happened"
    end
    AutoWorldEventToggle = Section22.CreateToggle({Title = x, Desc = m, Default = Settings.AutoWorldEvent}, function(v)
        if v and not Settings.SelectM1Weapon and not AFSWeapon and not Settings.Cuttay then
            if AutoWorldEventToggle then AutoWorldEventToggle.SetStage(false) end
            return Library.CreateNoti({Desc = "Please select M1 Weapon", ShowTime = 5})
        end
        if Settings.AutoWorldEvent and not v then
            spawn(function()
                wait(.5)
                getgenv().PirateRaiding = false
                ForceStopTween(true)
            end)
        end
        Settings.AutoWorldEvent = v
    end)
    Section22.CreateToggle({Title = "Hop Server if no " .. x:gsub("Auto ", ""), Desc = "Will Hop Server if current server have no " .. x:gsub("Auto ", ""), Default = Settings.AWEHopServer}, function(v)
        Settings.AWEHopServer = v
    end)
end
MobFarmToggle = Section22.CreateToggle({Title = 'Mob Farm', Desc = 'Buit in Double Quest Farm\n(if selected 2 Mobs or enable Auto Detect Level)', Default = Settings.MobFarm}, function(v)
    if v and #SelectedMFMob == 0 and not Settings.AutoDL then
        if MobFarmToggle then MobFarmToggle.SetStage(false) end
        return Library.CreateNoti({Desc = "Please select an Mob", ShowTime = 5})
    end
    if v and not Settings.SelectM1Weapon and not AFSWeapon and not Settings.Cuttay then
        if MobFarmToggle then MobFarmToggle.SetStage(false) end
        return Library.CreateNoti({Desc = "Please select M1 Weapon", ShowTime = 5})
    end
    if Settings.MobFarm and not v then
        spawn(function()
            wait(.5)
            ForceStopTween(true)
        end)
    end
    Settings.MobFarm = v
end)
MFHopServerToggle = Section22.CreateToggle({Title = 'Hop Server if Player nearby', Default = Settings.MFHopServer, Desc = 'Will Hop Server if have an Player nearby the Selected Mob Farm area (only enable for Public Servers)'}, function(v)
    Settings.MFHopServer = v
end)
local Section22 = Page2.CreateSection('Mob Aura')
MobAuraToggle = Section22.CreateToggle({Title = 'Mob Aura', Desc = "Will Tween to nearest Mob in render distance and kill them without taking Quest\n(Best way to farming Beli / Mastery)", Default = Settings.MobAura}, function(v)
    if Settings.MobAura and not v then
        spawn(function()
            wait(.5)
            ForceStopTween(true)
        end)
    end
    Settings.MobAura = v
end)
function StringToCFrame(x)
    if not x then return end
    local v = string.split(x, ",")
    return CFrame.new(v[1], v[2], v[3], v[4], v[5], v[6], v[7], v[8], v[9], v[10], v[11], v[12])
end
local PText = "Mob Aura Position"
if Settings.MAPosition
and Settings.MAPosition[tostring(game.PlaceId)] then
    getgenv().MobAuraPos = StringToCFrame(Settings.MAPosition[tostring(game.PlaceId)])
    local pPos = Settings.MAPosition[tostring(game.PlaceId)]:split(", ")
    local pX, pY, pZ = math.floor(pPos[1]), math.floor(pPos[2]), math.floor(pPos[3])
    PText = pX .. ", " .. pY .. ", " .. pZ .. " (" .. GetNearestLocation(Vector3.new(pX, pY, pZ)) .. ")"
else
    Settings.MAPosition = {}
end
Section22.CreateButton({Title = 'Set Mob Aura Postion'}, function()
    local plrPos = plr.Character.HumanoidRootPart.Position
    local pX, pY, pZ = math.floor(plrPos.X), math.floor(plrPos.Y), math.floor(plrPos.Z)
    Settings.MAPosition[tostring(game.PlaceId)] = pX .. ", " .. pY .. ", " .. pZ
	getgenv().MobAuraPos = plr.Character.HumanoidRootPart.CFrame
	MobAuraLocationLabel.SetText(pX .. ", " .. pY .. ", " .. pZ .. " (" .. GetNearestLocation(plrPos) .. ")")
end)
MobAuraLocationLabel = Section22.CreateLabel({Title = PText})
local Section23 = Page2.CreateSection('Mastery Farm')
SelectMasteryWPDropdown = Section23.CreateDropdown({Title = 'Select Mastery Weapon', List = GetWeaponList(true), Default = Settings.SelectMasteryWP}, function(v)
    Settings.SelectMasteryWP = v
end)
Section23.CreateButton({Title = 'Refresh Mastery Weapon List'}, function()
    if SelectMasteryWPDropdown then
        SelectMasteryWPDropdown:GetNewList(GetWeaponList(true))
    end
end)
Section23.CreateSlider({Title = "Select % Health", Min = 5, Max = 100, Default = Settings.HealthPercent or 10, Percise = true}, function(v)
    Settings.HealthPercent = v
end)
MasteryFarmToggle = Section23.CreateToggle({Title = 'Mastery Farm', Desc = 'Will last hit with Selected Mastery Weapon when the attacking Mob below Selected % Health\nConfig Auto Skill in Setting Tab\n(work with all / enable with Auto Farm features)', Default = Settings.MasteryFarm}, function(v)
    if v and not Settings.SelectMasteryWP then
        if MasteryFarmToggle then MasteryFarmToggle.SetStage(false) end
        return Library.CreateNoti({Desc = "Please select Mastery Weapon", ShowTime = 5})
    end
    Settings.MasteryFarm = v
end)
local Section24 = Page2.CreateSection('Boss Farm')
getgenv().SelectedBFBoss = {}
local FirstBoss = {
    "Gorilla King",
    "Diamond",
    "Stone"
}
if game.PlaceId == 2753915549 then
    table.remove(FirstBoss, 1)
elseif game.PlaceId == 4442272183 then
    table.remove(FirstBoss, 2)
elseif game.PlaceId == 7449423635 then
    table.remove(FirstBoss, 3)
end
if not Settings.MFBoss
or typeof(Settings.MFBoss) ~= "table"
or IsMobInTable(FirstBoss, Settings.MFBoss) then
    Settings.MFBoss = {}
    for i, v in pairs(BossesName) do
        Settings.MFBoss[v] = false
    end
else
    local BossLCheck = {}
    for i, v in pairs(Settings.MFBoss) do
        if v then
            table.insert(getgenv().SelectedBFBoss, i)
        end
        table.insert(BossLCheck, i)
    end
    for i, v in pairs(BossesName) do
        if not table.find(BossLCheck, v) then
            Settings.MFBoss[v] = false
        end
    end
end
Section24.CreateDropdown({Title = "Select Boss", List = Settings.MFBoss, Selected = true, Search = true}, function(i, v)
    if i then
        Settings.MFBoss[i] = v
        if v then
            table.insert(getgenv().SelectedBFBoss, i)
        elseif table.find(SelectedBFBoss, i) then
            table.remove(getgenv().SelectedBFBoss, table.find(SelectedBFBoss, i))
        end
    end
end)
BossFarmToggle = Section24.CreateToggle({Title = 'Boss Farm', Desc = 'Will kill the selected Boss when it spawned\n(work with Mob Farm / Mastery Farm)', Default = Settings.BossFarm}, function(v)
    if v and #SelectedBFBoss == 0 and not Settings.AutoDL and not Settings.Cuttay then
        if BossFarmToggle then BossFarmToggle.SetStage(false) end
        return Library.CreateNoti({Desc = "Please select an Boss", ShowTime = 5})
    end
    if v and not Settings.SelectM1Weapon and not AFSWeapon and not Settings.Cuttay then
        if BossFarmToggle then BossFarmToggle.SetStage(false) end
        return Library.CreateNoti({Desc = "Please select M1 Weapon", ShowTime = 5})
    end
    if Settings.BossFarm and not v then
        spawn(function()
            wait(.5)
            ForceStopTween(true)
        end)
    end
    Settings.BossFarm = v
end)
BFHopServerToggle = Section24.CreateToggle({Title = 'Hop Server if no Boss', Desc = 'Will Hop Server if no Boss spawned', Default = Settings.BFHopServer}, function(v)
    Settings.BFHopServer = v
end)
if game.PlaceId == 7449423635 then
    local Section25 = Page2.CreateSection('Elite Pirate Farm')
    ElitePirateFarmToggle = Section25.CreateToggle({Title = 'Elite Pirate Farm', Desc = 'Will take quest and kill the elite boss whenever the boss is spawned', Default = Settings.ElitePirateFarm}, function(v)
        if v and not Settings.SelectM1Weapon and not AFSWeapon and not Settings.Cuttay then
            if ElitePirateFarmToggle then ElitePirateFarmToggle.SetStage(false) end
            return Library.CreateNoti({Desc = "Please select M1 Weapon", ShowTime = 5})
        end
        if Settings.ElitePirateFarm and not v then
            spawn(function()
                wait(.5)
                ForceStopTween(true)
            end)
        end
        Settings.ElitePirateFarm = v
    end)
    EPFHopServerToggle = Section25.CreateToggle({Title = 'Hop Server if no Boss', Desc = 'Will Hop Server if no Elite Boss spawned', Default = Settings.EPFHopServer}, function(v)
        Settings.EPFHopServer = v
    end)
    Section25.CreateToggle({Title = "Disable if got " .. WorldReward, Desc = "Will not Hop Server / Stop hunting Elite Pirate and tween to Mansion if got " .. WorldReward .. " after killed the boss", Default = Settings.EPFDisable}, function(v)
        Settings.EPFDisable = v
    end)
    AutoYamaToggle = Section25.CreateToggle({Title = 'Auto Yama', Desc = 'Will get Yama after completed 30 Elite Pirate quest\n(enble with Elite Pirate Farm)', Default = Settings.AutoYama}, function(v)
        if v and IsHaveItem("Yama") then
            if AutoYamaToggle then AutoYamaToggle.SetStage(false) end
            return Library.CreateNoti({Desc = "Already got Yama", ShowTime = 5})
        end
        Settings.AutoYama = v
    end)
    local Section25 = Page2.CreateSection('Raid Boss Farm')
    CakePrinceFarmToggle = Section25.CreateToggle({Title = 'Cake Prince Farm', Desc = 'Aka Auto Spikey Trident / Fragment Farm', Default = Settings.CakePrinceFarm}, function(v)
        if v and not Settings.SelectM1Weapon and not AFSWeapon and not Settings.Cuttay then
            if CakePrinceFarmToggle then CakePrinceFarmToggle.SetStage(false) end
            return Library.CreateNoti({Desc = "Please select M1 Weapon", ShowTime = 5})
        end
        if Settings.CakePrinceFarm and not v then
            spawn(function()
                wait(.5)
                ForceStopTween(true)
            end)
        end
        Settings.CakePrinceFarm = v
    end)
    Section25.CreateToggle({Title = 'Spawn Dough King', Desc = 'Will spawn Dough King instead of Cake Prince / for unlock Dough Raid\n(enable with Cake Prince Farm, can enable with Elite Pirate Farm / Hop Server)', Default = Settings.SpawnDoughKing}, function(v)
        Settings.SpawnDoughKing = v
    end)
    local LegEnhancementColor = {
        "Winter Sky",
        "Pure Red",
        "Snow White"
    }
    function CheckUnlockLegHaki()
        local Missing
        for i, v in pairs(CommF:InvokeServer("getColors")) do
            if table.find(LegEnhancementColor, v.HiddenName)
            and not v.Unlocked then
                if not Missing then
                    Missing = v.HiddenName
                else
                    Missing = Missing .. ", " .. v.HiddenName
                end
            end
        end
        return Missing
    end
    rip_indraFarmToggle = Section25.CreateToggle({Title = 'rip_indra Farm', Desc = 'Aka Auto Dark Dagger\n(can enable with Elite Pirate Farm / Hop Server)', Default = Settings.rip_indraFarm}, function(v)
        if v and not Settings.SelectM1Weapon and not AFSWeapon and not Settings.Cuttay then
            if rip_indraFarmToggle then rip_indraFarmToggle.SetStage(false) end
            return Library.CreateNoti({Desc = "Please select M1 Weapon", ShowTime = 5})
        end
        if v and CheckUnlockLegHaki() then
            if rip_indraFarmToggle then rip_indraFarmToggle.SetStage(false) end
            return Library.CreateNoti({Desc = "Missing Enhancement Color: " .. CheckUnlockLegHaki(), ShowTime = 5})
        end
        if Settings.rip_indraFarm and not v then
            spawn(function()
                wait(.5)
                ForceStopTween(true)
            end)
        end
        Settings.rip_indraFarm = v
    end)
    AutoTushitaToggle = Section25.CreateToggle({Title = 'Auto Tushita', Desc = 'Will get Tushita when rip_indra spawned\n(enble with rip_indra farm)', Default = Settings.AutoTushita}, function(v)
        if v and IsHaveItem("Tushita") then
            if AutoTushitaToggle then AutoTushitaToggle.SetStage(false) end
            return Library.CreateNoti({Desc = "Already got Tushita", ShowTime = 5})
        end
        Settings.AutoTushita = v
    end)
    SoulReaperFarmToggle = Section25.CreateToggle({Title = 'Soul Reaper Farm', Desc = 'Aka Auto Hallow Scythe', Default = Settings.SoulReaperFarm}, function(v)
        if v and not Settings.SelectM1Weapon and not AFSWeapon and not Settings.Cuttay then
            if SoulReaperFarmToggle then SoulReaperFarmToggle.SetStage(false) end
            return Library.CreateNoti({Desc = "Please select M1 Weapon", ShowTime = 5})
        end
        if Settings.SoulReaperFarm and not v then
            spawn(function()
                wait(.5)
                ForceStopTween(true)
            end)
        end
        Settings.SoulReaperFarm = v
    end)
end
if game.PlaceId ~= 2753915549 then
    local Section25 = Page2.CreateSection('Sea Beast Farm')
    spawn(function()
        while wait() do
            pcall(function()
                if Settings.SeaBeastFarm then
                    local plrPos = plr.Character.HumanoidRootPart.Position
                    if plrPos.Y < -4 then
                        getgenv().noclip = true
                        plr.Character.HumanoidRootPart.CFrame = CFrame.new(plrPos.X, 10, plrPos.Z)
                    end
                else
                    wait(1)
                end 
            end)
        end
    end)
    Section25.CreateToggle({Title = 'Sea Beast Farm', Default = Settings.SeaBeastFarm}, function(v)
        spawn(function()
            if v then
                for i, v in ipairs(plr.Backpack:GetChildren()) do
                    if v:IsA("Tool")
                    and v.ToolTip ~= "" then
                        plr.Character.Humanoid:EquipTool(v)
                    end
                    wait(.25)
                end
                plr.Character.Humanoid:UnequipTools()
            end
        end)
        Settings.SeaBeastFarm = v
    end)
    Section25.CreateToggle({Title = 'Attack Pirate Ship', Desc = "Will attack Pirate Ship when they spawned", Default = Settings.AttackPirateShip}, function(v)
        Settings.AttackPirateShip = v
    end)
    Section25.CreateToggle({Title = 'Hop Server after killed Sea Beast', Desc = "Will hop server after killed Sea Beast (for feaster Sea Beast farming result)\nFor Private Server will join Sea 3 and go back to Sea 2", Default = Settings.SFHopServer}, function(v)
        Settings.SFHopServer = v
    end)
    Section25.CreateToggle({Title = 'Disable if got Fist of Darkness', Desc = "Will not Hop Server / Stop farming Sea Beast and tween to Cafe if got Fist of Darkness", Default = Settings.SFDIGFOD}, function(v)
        Settings.SFDIGFOD = v
    end)
    if game.PlaceId == 4442272183 then
        local Section25 = Page2.CreateSection('Raid Boss Farm')
        OrderFarmToggle = Section25.CreateToggle({Title = 'Order Farm', Desc = 'Aka Auto Koko', Default = Settings.OrderFarm}, function(v)
            if v and not Settings.SelectM1Weapon and not AFSWeapon and not Settings.Cuttay then
                if OrderFarmToggle then OrderFarmToggle.SetStage(false) end
                return Library.CreateNoti({Desc = "Please select M1 Weapon", ShowTime = 5})
            end
            if Settings.OrderFarm and not v then
                spawn(function()
                    wait(.5)
                    ForceStopTween(true)
                end)
            end
            Settings.OrderFarm = v
        end)
        DarkbeardFarmToggle = Section25.CreateToggle({Title = 'Darkbeard Farm', Desc = 'Aka Auto Dark Coat / Dark Fragment Farm\n(can enable with Sea Beast Farm / Hop Server)', Default = Settings.DarkbeardFarm}, function(v)
            if v and not Settings.SelectM1Weapon and not AFSWeapon and not Settings.Cuttay then
                if DarkbeardFarmToggle then DarkbeardFarmToggle.SetStage(false) end
                return Library.CreateNoti({Desc = "Please select M1 Weapon", ShowTime = 5})
            end
            if Settings.DarkbeardFarm and not v then
                spawn(function()
                    wait(.5)
                    ForceStopTween(true)
                end)
            end
            Settings.DarkbeardFarm = v
        end)
    else
        Section25.CreateToggle({Title = 'Stop if Mirage Island spawned', Desc = "Will Stop and tween to Advanced Fruit Dealer when Mirage Island Spawned\nThis will ignore Sea Beast, only go for Mirage Island", Default = Settings.SFSIMIS}, function(v)
            Settings.SFSIMIS = v
        end)
    end
end
local Section26 = Page2.CreateSection('Auto Fighting Style')
AutoSuperhumanToggle = Section26.CreateToggle({Title = 'Auto Superhuman', Default = Settings.AutoSuperhuman}, function(v)
    if not v then getgenv().AFSWeapon = nil end
    if v and CommF:InvokeServer("BuySuperhuman", true) == 1 and not Settings.OSIFS then
        if AutoSuperhumanToggle then AutoSuperhumanToggle.SetStage(false) end
        return Library.CreateNoti({Desc = "You already got Superhuman", ShowTime = 5})
    end
    if v and not Settings.AutoSuperhuman and not Settings.Cuttay then
        BuyFightingStyle("BuyBlackLeg")
    end
    Settings.AutoSuperhuman = v
end)
AutoDeathStepToggle = Section26.CreateToggle({Title = 'Auto Death Step', Default = Settings.AutoDeathStep}, function(v)
    if not v then getgenv().AFSWeapon = nil end
    if v and CommF:InvokeServer("BuyDeathStep", true) == 1 and not Settings.OSIFS then
        if AutoDeathStepToggle then AutoDeathStepToggle.SetStage(false) end
        return Library.CreateNoti({Desc = "You already got Death Step", ShowTime = 5})
    end
    if v and not Settings.AutoDeathStep and not Settings.Cuttay then
        BuyFightingStyle("BuyBlackLeg")
    end
    Settings.AutoDeathStep = v
end)
AutoSharkmanKarateToggle = Section26.CreateToggle({Title = 'Auto Sharkman Karate', Default = Settings.AutoSharkmanKarate}, function(v)
    if not v then getgenv().AFSWeapon = nil end
    if v and CommF:InvokeServer("BuySharkmanKarate", true) == 1 and not Settings.OSIFS then
        if AutoSharkmanKarateToggle then AutoSharkmanKarateToggle.SetStage(false) end
        return Library.CreateNoti({Desc = "You already got Sharkman Karate", ShowTime = 5})
    end
    if v and not Settings.AutoSharkmanKarate and not Settings.Cuttay then
        BuyFightingStyle("BuyFishmanKarate")
    end
    Settings.AutoSharkmanKarate = v
end)
AutoElectricClawToggle = Section26.CreateToggle({Title = 'Auto Electric Claw', Default = Settings.AutoElectricClaw}, function(v)
    if not v then getgenv().AFSWeapon = nil end
    if v and CommF:InvokeServer("BuyElectricClaw", true) == 1 and not Settings.OSIFS then
        if AutoElectricClawToggle then AutoElectricClawToggle.SetStage(false) end
        return Library.CreateNoti({Desc = "You already got Electric Claw", ShowTime = 5})
    end
    if v and not Settings.AutoElectricClaw and not Settings.Cuttay then
        BuyFightingStyle("BuyElectro")
    end
    Settings.AutoElectricClaw = v
end)
AutoDragonTalonToggle = Section26.CreateToggle({Title = 'Auto Dragon Talon', Default = Settings.AutoDragonTalon}, function(v)
    if not v then getgenv().AFSWeapon = nil end
    if v and CommF:InvokeServer("BuyDragonTalon", true) == 1 and not Settings.OSIFS then
        if AutoDragonTalonToggle then AutoDragonTalonToggle.SetStage(false) end
        return Library.CreateNoti({Desc = "You already got Dragon Talon", ShowTime = 5})
    end
    if v and not Settings.AutoDragonTalon and not Settings.Cuttay then
        BuyFightingStyle("DragonClaw")
    end
    Settings.AutoDragonTalon = v
end)
AutoGodhumanToggle = Section26.CreateToggle({Title = 'Auto Godhuman', Desc = "Require unlocked all above melee", Default = Settings.AutoGodhuman}, function(v)
    if not v then getgenv().AFSWeapon = nil end
    if v and CommF:InvokeServer("BuyGodhuman", true) == 1 and not Settings.OSIFS then
        if AutoGodhumanToggle then AutoGodhumanToggle.SetStage(false) end
        return Library.CreateNoti({Desc = "You already got Godhuman", ShowTime = 5})
    end
    if v and not Settings.AutoGodhuman and not Settings.Cuttay then
        BuyFightingStyle("BuySuperhuman")
    end
    Settings.AutoGodhuman = v
end)
AFSHopServerToggle = Section26.CreateToggle({Title = 'Hop Server if no Boss', Desc = "Auto Death Step, Sharkman Karate need to defeat boss, also work with Auto Tushita, Rengoku, Cursed Dual Katana, Soul Guitar", Default = Settings.AFSHopServer}, function(v)
    Settings.AFSHopServer = v
end)
AFSTPSea3Toggle = Section26.CreateToggle({Title = 'Teleport to Sea 3 after finished', Desc = "After got Auto Death Step / Sharkman Karate will Teleport to Sea 3", Default = Settings.AFSTPSea3}, function(v)
    Settings.AFSTPSea3 = v
end)
OSIFSToggle = Section26.CreateToggle({Title = 'Only switch if full skill', Desc = "Only switch to next Auto Fighting Style if current Auto Fighting Style unlocked all Skill (350 Mastery)", Default = Settings.OSIFS}, function(v)
    Settings.OSIFS = v
end)
local Section27 = Page2.CreateSection('Auto Sword')
if game.PlaceId == 7449423635 then
    Section27.CreateLabel({Title = "Auto Yama in Elite Pirate Farm\nAuto Dark Dagger / Auto Tushita in rip_indra Farm\nAuto Spikey Trident in Cake Prince Farm"})
else
    Section27.CreateLabel({Title = "Auto Koko in Order Farm"})
end
AutoSaberToggle = Section27.CreateToggle({Title = 'Auto Saber', Desc = "Aka Auto Ken Haki Quest", Default = Settings.AutoSaber}, function(v)
    if not v then getgenv().ASWeapon = nil end
    if v and IsHaveItem("Saber") and not Settings.OSIFS then
        if AutoSaberToggle then AutoSaberToggle.SetStage(false) end
        return Library.CreateNoti({Desc = "You already got Saber", ShowTime = 5})
    end
    Settings.AutoSaber = v
end)
AutoRengokuToggle = Section27.CreateToggle({Title = 'Auto Rengoku', Default = Settings.AutoRengoku}, function(v)
    if not v then getgenv().ASWeapon = nil end
    if v and IsHaveItem("Rengoku") and not Settings.OSIFS then
        if AutoRengokuToggle then AutoRengokuToggle.SetStage(false) end
        return Library.CreateNoti({Desc = "You already got Rengoku", ShowTime = 5})
    end
    Settings.AutoRengoku = v
end)
AutoTripleKatanaToggle = Section27.CreateToggle({Title = 'Auto True Triple Katana', Desc = "Require Saddi / Shisui / Wando", Default = Settings.AutoTripleKatana}, function(v)
    if not v then getgenv().ASWeapon = nil end
    if v and IsHaveItem("True Triple Katana") and not Settings.OSIFS then
        if AutoTripleKatanaToggle then AutoTripleKatanaToggle.SetStage(false) end
        return Library.CreateNoti({Desc = "You already got True Triple Katana", ShowTime = 5})
    end
    Settings.AutoTripleKatana = v
end)
AutoDualKatanaToggle = Section27.CreateToggle({Title = 'Auto Cursed Dual Katana', Desc = "Require Tushita / Yama and a brain\n(put stats in Sword)", Default = Settings.AutoDualKatana}, function(v)
    if not v then getgenv().ASWeapon = nil end
    if v and IsHaveItem("Cursed Dual Katana") and not Settings.OSIFS then
        if AutoDualKatanaToggle then AutoDualKatanaToggle.SetStage(false) end
        return Library.CreateNoti({Desc = "You already got Cursed Dual Katana", ShowTime = 5})
    end
    if v then
        CommF:InvokeServer("CDKQuest", "StartTrial", "Good")
    end
    Settings.AutoDualKatana = v
end)
AutoSoulGuitarToggle = Section27.CreateToggle({Title = 'Auto Soul Guitar', Desc = "This only do the puzzle for you, you need to farm the materials to buy Soul Guitar by your self", Default = Settings.AutoSoulGuitar}, function(v)
    if not v then ForceStopTween() end
    if v and IsHaveItem("Soul Guitar") then
        if AutoSoulGuitarToggle then AutoSoulGuitarToggle.SetStage(false) end
        return Library.CreateNoti({Desc = "You already got Soul Guitar", ShowTime = 5})
    end
    Settings.AutoSoulGuitar = v
end)
local Section27 = Page2.CreateSection('Ken Haki Farm')
Section27.CreateToggle({Title = 'Ken Haki Farm', Desc = "Will TP to nearest Mob and enable Ken to farming Ken Haki\nWill Hop Server when out of Ken dodge\n(note: make sure your Blox Fruit isn't logia)", Default = Settings.KenHakiFarm}, function(v)
    Settings.KenHakiFarm = v
end)
Section27.CreateButton({Title = 'Check Ken Haki Progress'}, function()
    Library.CreateNoti({Desc = "Total Dodge times with Ken Haki: " .. CommF:InvokeServer("KenTalk", "Status"):split(".")[1], ShowTime = 10})
end)
local Section27 = Page2.CreateSection('Auto Switch')
AutoSwitchSwordToggle = Section27.CreateToggle({Title = '[Select Weapon] Auto Switch Sword', Desc = "Will switch to other swords if current sword above Require Mastery", Default = Settings.AutoSwitchSword}, function(v)
    if not v then getgenv().ASWeapon = nil end
    Settings.AutoSwitchSword = v
end)
Section27.CreateToggle({Title = '[Select Mastery Weapon] Auto Switch Gun', Desc = "Will switch to other gun if current gun above Require Mastery\n(for mastery farm)", Default = Settings.AutoSwitchGun}, function(v)
    if not v then getgenv().GWeapon = nil end
    Settings.AutoSwitchGun = v
end)
function CheckPermBFCount()
    local Count = 0
    for _, v in pairs(CommF:InvokeServer("GetFruits")) do
        if v.HasPermanent then
            Count = Count + 1
        end
    end
    return Count
end
AutoSwitchBloxFruitToggle = Section27.CreateToggle({Title = '[Select Mastery Weapon] Auto Switch Blox Fruit', Desc = "Will switch to other permanent owned Blox Fruit if current Blox Fruit above Require Mastery\n(for mastery farm)", Default = Settings.AutoSwitchBloxFruit}, function(v)
    if not v then getgenv().BFWeapon = nil end
    if v and CheckPermBFCount() < 2 then
        if AutoSwitchBloxFruitToggle then AutoSwitchBloxFruitToggle.SetStage(false) end
        return Library.CreateNoti({Desc = "You must have atleast 2 permanent Blox Fruit", ShowTime = 5})
    end
    Settings.AutoSwitchBloxFruit = v
end)
Section27.CreateSlider({Title = 'Require Mastery', Min = 2, Max = 600, Default = Settings.RequireMastery or 600}, function(v)
    Settings.RequireMastery = v
end)
local RarityList = {
    ["Mythical"] = 4,
    ["Legendary"] = 3,
    ["Rare"] = 2,
    ["Uncommon"] = 1,
    ["Common"] = 0
}
getgenv().SelectedIgnoreRarity = {}
getgenv().SelectedIgnoreRarity2 = {}
if not Settings.IgnoreRarity then
    Settings.IgnoreRarity = {}
    for i, v in pairs(RarityList) do
        Settings.IgnoreRarity[i] = false
    end
else
    local RarityLCheck = {}
    for i, v in pairs(Settings.IgnoreRarity) do
        if v then
            table.insert(getgenv().SelectedIgnoreRarity, i)
        end
        table.insert(RarityLCheck, i)
    end
    for i, v in pairs(RarityList) do
        if not table.find(RarityLCheck, i) then
            Settings.IgnoreRarity[i] = false
        end
    end
end
Section27.CreateDropdown({Title = 'Ignore Rarity', List = Settings.IgnoreRarity, Selected = true}, function(i, v)
    if i then
        Settings.IgnoreRarity[i] = v
        if v then
            table.insert(getgenv().SelectedIgnoreRarity, i)
            table.insert(getgenv().SelectedIgnoreRarity2, RarityList[i])
        elseif table.find(SelectedIgnoreRarity, i) then
            table.remove(getgenv().SelectedIgnoreRarity, table.find(SelectedIgnoreRarity, i))
            table.remove(getgenv().SelectedIgnoreRarity2, table.find(SelectedIgnoreRarity2, RarityList[i]))
        end
    end
end)

if game.PlaceId == 4442272183 or game.PlaceId == 7449423635 then
    local Page3 = Title.CreatePage({Page_Name = 'Raid', Page_Title = 'Raid Tab'})
    local Section31 = Page3.CreateSection('Auto Raid')
    Section31.CreateDropdown({Title = 'Select Raid Map', List = RaidList, Search = true, Default = Settings.RaidMap}, function(v) 
        Settings.RaidMap = v
    end)
    AutoAwakeToggle = Section31.CreateToggle({Title = "Auto Awake", Desc = "Auto awake your Blox Fruit Skill after finished the Raid", Default = Settings.AutoRaidAFR}, function(v)
        Settings.AutoRaidAFR = v
    end)
    AutoRaidAUToggle = Section31.CreateToggle({Title = "Auto Unstore Blox Fruit", Desc = "Auto unstore Blox Fruit in your Treasure Inventory below 1m todo Raid", Default = Settings.AutoRaidAU}, function(v)
        Settings.AutoRaidAU = v
    end)
    AutoRaidToggle = Section31.CreateToggle({Title = "Auto Raid", Desc = "Will not buy Microchip if in Inventory have 1m+ Blox Fruit\nAlso work with Tween Blox Fruit / Hop Server if no Fruit", Default = Settings.AutoRaid}, function(v)
        if Settings.AutoRaid and not v then
            spawn(function()
                wait(.5)
                ForceStopTween(true)
            end)
        end
        Settings.AutoRaid = v
    end)
    local Section32 = Page3.CreateSection('Manual Raid')
    Section32.CreateButton({Title = 'TP Next Raid Island'}, function()
        local RaidIsland = GetLastRaidIsland()
        if RaidIsland then
            Tween(RaidIsland.Position + Vector3.new(0, 100, 0), true)
        end
    end)
    spawn(function()
        while wait(1) do
            pcall(function()
                if Settings.MobInstantKillAura then
                    getgenv().SetSimulationRadius = true
                    KillRaidEnemy()
                end
            end)
        end
    end)
    Section32.CreateToggle({Title = "Mob Instant Kill Aura", Default = Settings.MobInstantKillAura, Desc = 'You will not get the reward from killed the mob, only use for raid (manual)'}, function(v)
        if Settings.MobInstantKillAura and not v then
            spawn(function()
                wait(2)
                getgenv().SetSimulationRadius = false
            end)
        end
        Settings.MobInstantKillAura = v
    end)
end
local Page4 = Title.CreatePage({Page_Name = 'Local Player', Page_Title = 'Local Player Tab'})
local Section31 = Page4.CreateSection('Teleport')
local LocationList = {}
for i, v in ipairs(Locations) do
    table.insert(LocationList, v.Name)	
end
getgenv().TPLocation = function(v)
    for i, x in ipairs(Locations) do
        if x.Name == v then
            if x.InstantTP then
                repeat wait()
                    plr.Character.HumanoidRootPart.CFrame = x.Pos
                    wait(1)
                until plr:DistanceFromCharacter(x.Pos.Position) < 1000
                or ForcedStopTween
                or IsPlayerDead()
            else
                Tween(x.Pos, true)
            end
        end
    end
end
Section31.CreateDropdown({Title = "TP Locations", List = LocationList, Search = true}, function(v)
    if v then 
        TPLocation(v)
    end
end)
local NPCs = {}
for i, v in ipairs(getnilinstances()) do 
    if IsValidNPC(v) then 
        NPCs[v.Name] = v.Head.CFrame * CFrame.new(0, -1, -2)
    end
end
for i, v in ipairs(game.workspace.NPCs:GetChildren()) do 
    if IsValidNPC(v) then 
        NPCs[v.Name] = v.Head.CFrame * CFrame.new(0, -1, -2)
    end
end
local NPCsName = {}
for i, v in pairs(NPCs) do
    table.insert(NPCsName, i)
end
local SpawnNPCs = {}
if game.PlaceId ~= 2753915549 then
    SpawnNPCs = {
        "Master of Enhancement ",
        "Advanced Fruit Dealer"
    }
end
if game.PlaceId == 4442272183 then
    table.insert(SpawnNPCs, "Legendary Sword Dealer ")
end
Section31.CreateDropdown({Title = "TP NPCs", List = NPCsName, Search = true}, function(v)
    if v then
        if table.find(SpawnNPCs, v) then
            local x = game.workspace.NPCs:FindFirstChild(v)
            if x
            and x.HumanoidRootPart.Position.Y > -100 then
                Tween(x.Head.CFrame, true)
            else
                Library.CreateNoti({Desc = v .. " haven't spawned yet", ShowTime = 10})
            end
        else
            Tween(NPCs[v], true)
        end
    end
end)
Section31.CreateButton({Title = 'Stop Tween'}, function()
    ForceStopTween(true)
end)
local Worlds = {"Sea 1", "Sea 2", "Sea 3"}
if game.PlaceId == 2753915549 then
    table.remove(Worlds, 1)
elseif game.PlaceId == 4442272183 then
    table.remove(Worlds, 2)
elseif game.PlaceId == 7449423635 then
    table.remove(Worlds, 3)
end
Section31.CreateDropdown({Title = "TP World", List = Worlds}, function(v)
    if v then
        if #game.CoreGui["Sea Hub Notification"].NotiContainer:GetChildren() > 1 then
            if v == "Sea 1" then
                CommF:InvokeServer("TravelMain")
            elseif v == "Sea 2" then
                CommF:InvokeServer("TravelDressrosa")
            elseif v == "Sea 3" then
                CommF:InvokeServer("TravelZou")
            end
            Library.CreateNoti({Desc = "Teleporting to " .. v, ShowTime = 10})
            return
        end
        Library.CreateNoti({Desc = "Press the Teleport button again\nto Teleport to " .. v, ShowTime = 10})
    end
end)
local Section32 = Page4.CreateSection('Haki')
spawn(function()
    while wait(.5) do
        pcall(function()
            if Settings.AutoEnhancement then
                if not plr.Character:FindFirstChild("HasBuso") then
                    CommF:InvokeServer("Buso")
                end
            end
            if Settings.AutoObservation then
                if game.Lighting.ExposureCompensation == 0 and not DisableKen then
                    game:GetService("VirtualInputManager"):SendKeyEvent(true, "K", false, game)
                    game:GetService("VirtualInputManager"):SendKeyEvent(false, "K", false, game)
                end
            end
            wait(1)
        end)
    end
end)
Section32.CreateToggle({Title = 'Auto enable Enhancement', Default = Settings.AutoEnhancement or true}, function(v)
    Settings.AutoEnhancement = v
end)
Section32.CreateToggle({Title = 'Auto enable Observation', Default = Settings.AutoObservation}, function(v)
    Settings.AutoObservation = v
end)
spawn(function()
    repeat wait(2)
        getgenv().CurrentObservation = plr.VisionRadius.Value
    until CurrentObservation ~= 0
end)
plr.VisionRadius:GetPropertyChangedSignal("Value"):Connect(function(v)
    if v == math.huge
    or CurrentObservation == 0 then
        return
    end
    wait(1)
    if Settings.ObservationIR then
        plr.VisionRadius.Value = math.huge
    end
end)
Section32.CreateToggle({Title = 'Observation Infinite Range', Desc = "Basicly like Player ESP but use game's and require Observation unlocked", Default = Settings.ObservationIR}, function(v) 
    if v then
        spawn(function()
            repeat wait()
            until CurrentObservation ~= 0 or not Settings.ObservationIR
            if Settings.ObservationIR then
                plr.VisionRadius.Value = math.huge
            end
        end)
    elseif Settings.ObservationIR then
        plr.VisionRadius.Value = CurrentObservation
    end
    Settings.ObservationIR = v
end)
Section32.CreateButton({Title = 'Unlock all Haki'}, function()
    if not UnlockedAllHaki then
        getgenv().UnlockedAllHaki = true
        loadstring([[
            local ReplicatedStorage = game:GetService("ReplicatedStorage")
            local mt = getrawmetatable(game)
            setreadonly(mt, false)
            local old = mt.__namecall
            mt.__namecall = function(...)
                local Args = {...}
                local Self = Args[1]
                local NamecallMethod = getnamecallmethod()
                if not checkcaller() and NamecallMethod == "HasTag" and Args[3] == "Geppo" then
                    return true
                end
                if not checkcaller() and NamecallMethod == "HasTag" and Args[3] == "Soru" then
                    return true
                end
                if not checkcaller() and NamecallMethod == "HasTag" and Args[3] == "Ken" then
                    return true
                end
                if not checkcaller() and NamecallMethod == "HasTag" and Args[3] == "KenUpgrade" then
                    return true
                end
                if not checkcaller() and NamecallMethod == "HasTag" and Args[3] == "Buso" then
                    return true
                end
                return old(...)
            end
        ]])()
    end
end)
local Section33 = Page4.CreateSection('Character')
spawn(function()
    while wait(.5) do
        pcall(function()
            if Settings.WaterWalker then
                local StandPlatform = game.workspace.Map:FindFirstChild("_SH_WW")
                if not StandPlatform then
                    local plrPos = plr.Character.HumanoidRootPart.Position
                    local StandPlatform = Instance.new("Part", game.workspace.Map)
                    StandPlatform.Name = "_SH_WW"
                    StandPlatform.Size = Vector3.new(2048, 1, 2048) 
                    StandPlatform.Anchored = true
                    StandPlatform.Transparency = 1
                    StandPlatform.Position = Vector3.new(plrPos.X, -4.25, plrPos.Z)
                else
                    if plr:DistanceFromCharacter(StandPlatform.Position) > 512 then
                        local plrPos = plr.Character.HumanoidRootPart.Position
                        StandPlatform.Position = Vector3.new(plrPos.X, -4.25, plrPos.Z)
                    end
                    wait(3)
                end
            end
        end)
    end
end)
WaterWalkerToggle = Section33.CreateToggle({Title = 'Water Walker', Default = Settings.WaterWalker}, function(v)
    if Settings.WaterWalker and not v then
        spawn(function()
            wait(.5)
            for i, x in ipairs(game.workspace.Map:GetChildren()) do
                if x.Name == "_SH_WW" then
                    x:Destroy()
                end
            end
        end)
    end
    Settings.WaterWalker = v
end)
Section33.CreateToggle({Title = 'Remove Lava Damage', Default = Settings.RemoveLavaDamage or true}, function(v)
    if v then
        spawn(function()
            for i, v in ipairs(game.workspace.Map:GetDescendants()) do
                if v.Name == "Lava" and v:FindFirstChild("TouchInterest") then
                    v.TouchInterest:Destroy()
                end
            end
        end)
    end
    Settings.RemoveLavaDamage = v
end)
Section33.CreateToggle({Title = 'Noclip', Default = Settings.NoClip}, function(v)
    Settings.NoClip = v
    if v then
        getgenv().noclip = true
    elseif not v then
        getgenv().noclip = false
    end
end)
local Input = game:GetService'UserInputService'
Input.InputBegan:Connect(function(v)
    if Settings.AutoBHop and v.KeyCode == Enum.KeyCode["Q"]
    and plr.Character.Humanoid.FloorMaterial ~= Enum.Material.Air then
        wait(.05)
        Jump()
    end
end)
Section33.CreateToggle({Title = 'Auto Bunny Hop', Desc = "Auto Jump when u Dodge (press Q) underground\n(faster legit traveling)", Default = Settings.AutoBHop}, function(v)
    Settings.AutoBHop = v
end)
local Section33 = Page4.CreateSection('Character 2')
loadstring([[
    function RunInfSkyjump()
        for i, v in ipairs(getgc()) do 
            if getfenv(v).script == plr.Character.Geppo then 
                for k, x in ipairs(debug.getconstants(v)) do 
                    if x == 5 then 
                        spawn(function()
                            while wait() do
                                if IsPlayerDead() then
                                    repeat wait()
                                    until not IsPlayerDead()
                                    wait(3)
                                    return RunInfSkyjump()
                                end
                                if Settings.InfSkyjump then
                                    debug.setconstant(v, k, 0) 
                                else
                                    debug.setconstant(v, k, 5) 
                                end
                            end
                        end)
                    end   
                end
            end    
        end
    end
    RunInfSkyjump()
]])
--[[
Section33.CreateToggle({Title = 'Infinite Skyjump', Desc = "You can Skyjump more than 10 times", Default = Settings.InfSkyjump}, function(v)
    Settings.InfSkyjump = v
end)
]]
loadstring([[
    function RunFlashStepNoCD()
        for i, v in pairs(getgc()) do 
            if tostring(getfenv(v).script) == "Soru" then 
                for k, x in pairs(debug.getconstants(v)) do
                    if type(x) == "number" and x > 0.03 and x < 0.04 then 
                        debug.setconstant(v, k, 0)
                    end
                end
                if #debug.getconstants(v) > 50
                and debug.getconstant(v, 1) == "Data"
                and debug.getconstant(v, 2) == "Race" then 
                    local c = 0
                    debug.setupvalue(v, 9, setmetatable({}, {
                        __index = function()
                            if Settings.FlashStepNoCD then
                                return 0
                            else
                                return c
                            end
                        end,
                        __newindex = function(self, index, value)
                            c = value
                        end
                    }))
                end
            end    
        end
    end
    function RunInfiniteEnergy()
        plr.Character.Energy:GetPropertyChangedSignal("Value"):Connect(function(v)
            if Settings.InfiniteEnergy and v ~= plr.Character.Energy.MaxValue then
                plr.Character.Energy.Value = plr.Character.Energy.MaxValue
            end
        end)
    end
    RunFlashStepNoCD()
    RunInfiniteEnergy()
    spawn(function()
        while wait(1) do
            if IsPlayerDead() then
                repeat wait()
                until not IsPlayerDead()
                wait(3)
                RunFlashStepNoCD()
                RunInfiniteEnergy()
            end
        end
    end)
]])()
Section33.CreateToggle({Title = 'Flash Step No Cooldown', Default = Settings.FlashStepNoCD}, function(v)
    Settings.FlashStepNoCD = v
end)
Section33.CreateToggle({Title = 'Infinite Energy', Default = Settings.InfiniteEnergy}, function(v)
    Settings.InfiniteEnergy = v
end)
loadstring([[
    local mt = getrawmetatable(game)
    setreadonly(mt, false)
    local old = mt.__index
    mt.__index = newcclosure(function(a, b, c) 
        if b == "Value"
        and tostring(a) == "Stun"
        and Settings.NoStun then 
            return 0
        end
        return old(a, b, c)
    end)
]])()
Section33.CreateToggle({Title = 'No Stun', Default = Settings.NoStun}, function(v)
    Settings.NoStun = v 
end)

local Section34 = Page4.CreateSection('Auto Stat')
local StatList = {
    "Melee",
    "Defense",
    "Sword",
    "Gun",
    "Demon Fruit"
}
getgenv().SelectedAutoStat = {}
if not Settings.AutoStat then
    Settings.AutoStat = {}
    for i, v in pairs(StatList) do
        Settings.AutoStat[v] = false
    end
else
    local StatLCheck = {}
    for i, v in pairs(Settings.AutoStat) do
        if v then
            table.insert(getgenv().SelectedAutoStat, i)
        end
        table.insert(StatLCheck, i)
    end
    for i, v in pairs(StatList) do
        if not table.find(StatLCheck, v) then
            Settings.AutoStat[v] = false
        end
    end
end
spawn(function()
    while wait() do
        if not Settings.Cuttay and #SelectedAutoStat ~= 0 and plr.Data.Points.Value ~= 0 then
            for i, v in ipairs(SelectedAutoStat) do
                CommF:InvokeServer("AddPoint", v, 1)
            end
        else
            wait(1)
        end
    end
end)
Section34.CreateDropdown({Title = 'Auto Stat', List = Settings.AutoStat, Selected = true}, function(i, v)
    if i then
        Settings.AutoStat[i] = v
        if v then
            table.insert(getgenv().SelectedAutoStat, i)
        elseif table.find(SelectedAutoStat, i) then
            table.remove(getgenv().SelectedAutoStat, table.find(SelectedAutoStat, i))
        end
    end
end)

local Page5 = Title.CreatePage({Page_Name = 'Combat', Page_Title = 'Combat Tab'})
local Section41 = Page5.CreateSection('PvP')
spawn(function()
    while wait() do
        pcall(function()
            if AttackNoCDAura and not Settings.BountyFarm then
                ClickM1()
            end
        end)
    end
end)
Section41.CreateToggle({Title = 'Attack No Cooldown Aura', Desc = "Auto hit entities near you 60 distance\n(equip with Melee / Sword)"}, function(v) 
    getgenv().AttackNoCDAura = v
end)
getgenv().Allies = {}
spawn(function()
    while wait(3) do
        getgenv().Allies = {}
        for i, v in ipairs(plr.PlayerGui.Main.Allies.Container.Allies.ScrollingFrame.Frame:GetChildren()) do
            if v.Name ~= "Template"
            and v:IsA("ImageButton") then
                table.insert(getgenv().Allies, v.Name)
            end
        end
    end
end)
function GetTargetPlayer()
    local TargetPlayer
    if Settings.AimTarget == "Selected Player (select below)" then
        TargetPlayer = game.workspace.Characters:FindFirstChild(SelectPlayer)
    elseif Settings.AimTarget == "Distance (nearest Player from you)" then
        local Dist = math.huge
        for i, v in ipairs(game.workspace.Characters:GetChildren()) do
            if v.Name ~= plr.Name
            and IsMobAlive(v)
            and not v:FindFirstChild("KenDisabled")
            and plr:DistanceFromCharacter(v.HumanoidRootPart.Position) < Settings.TargetDistance
            and (tostring(plr.Team) == "Pirates" and not table.find(Allies, v.Name) or tostring(plr.Team) == "Marines" and tostring(game.Players[v.Name].Team) ~= "Marines") then
                local Mag = plr:DistanceFromCharacter(v.HumanoidRootPart.Position)
                if Mag < Dist then
                    Dist = Mag
                    TargetPlayer = v
                end
            end
        end
    else
        local MousePos = Vector2.new(Mouse.X, Mouse.Y)
        local Dist = math.huge
        for i, v in ipairs(game.workspace.Characters:GetChildren()) do
            if v.Name ~= plr.Name
            and IsMobAlive(v)
            and not v:FindFirstChild("KenDisabled")
            and plr:DistanceFromCharacter(v.HumanoidRootPart.Position) < Settings.TargetDistance
            and (tostring(plr.Team) == "Pirates" and not table.find(Allies, v.Name) or tostring(plr.Team) == "Marines" and tostring(game.Players[v.Name].Team) ~= "Marines") then
                local Vec, onScreen = CurCam:WorldToScreenPoint(v.HumanoidRootPart.Position)
                if onScreen then
                    if (Vector2.new(Vec.X, Vec.Y) - MouseFOV).magnitude < MouseFOVLine.Radius then 
                        local Mag = (MousePos - Vector2.new(Vec.X, Vec.Y)).magnitude
                        if Mag < Dist then
                            Dist = Mag
                            TargetPlayer = v
                        end
                    end
                end
            end
        end
    end
    return TargetPlayer
end
local GuiService = game:GetService("GuiService")
getgenv().MouseFOVLine = Drawing.new("Circle")
MouseFOVLine.Visible = false
MouseFOVLine.Radius = 300
MouseFOVLine.Thickness = 3
getgenv().MouseFOV = Vector2.new(Mouse.X, Mouse.Y + GuiService:GetGuiInset().Y)
Mouse.Move:Connect(function() 
    MouseFOV = Vector2.new(Mouse.X, Mouse.Y + GuiService:GetGuiInset().Y)
    MouseFOVLine.Position = MouseFOV
    if Settings.ShowMouseFOV then
        MouseFOVLine.Visible = true
    else
        MouseFOVLine.Visible = false
    end
end)
spawn(function()
    while wait() do
        pcall(function()
            if Settings.SilentAim and not Settings.BountyFarm then
                if #game.Players:GetPlayers() > 1 then
                    local v = GetTargetPlayer()
                    if v then
                        if Settings.AimPredict then
                            getgenv().AimPos = (v.HumanoidRootPart.Position + v.HumanoidRootPart.Velocity * 0.5)
                        else
                            getgenv().AimPos = v.HumanoidRootPart.Position
                        end
                        getgenv().Targeting = v.Name
                    else
                        getgenv().AimPos = nil
                        getgenv().Targeting = nil
                    end
                end
            end
        end)
    end
end)
Section41.CreateDropdown({Title = "Aim Target", List = {"Distance (nearest Player from you)", "Mouse (nearest Player in FOV)", "Selected Player (select below)"}, Default = Settings.AimTarget}, function(v) 
    Settings.AimTarget = v
end)
Section41.CreateSlider({Title = 'Target Mouse FOV', Min = 50, Max = 700, Default = Settings.MouseFOV or 150}, function(v)
    Settings.MouseFOV = v
    MouseFOVLine.Radius = v
end)
Section41.CreateToggle({Title = "Show Mouse FOV", Desc = 'for Mouse Aim Target option', Default = Settings.ShowMouseFOV}, function(v)
    Settings.ShowMouseFOV = v
end)
Section41.CreateSlider({Title = 'Target Distance', Min = 500, Max = 3000, Default = Settings.TargetDistance or 500}, function(v)
    Settings.TargetDistance = v
end)
SilentAimToggle = Section41.CreateToggle({Title = "Silent Aim", Desc = 'Will Force your Aim to Target Player\n(Skills and Gun Bullet / Allies will not be target)', Default = Settings.SilentAim}, function(v)
    Settings.SilentAim = v
    if not v then
        getgenv().AimPos = nil
    end
end)
Section41.CreateBind({Title = 'Silent Aim Toggle Hotkey', Key = Enum.KeyCode.G}, function()
    local v = not SATHotkey
    SilentAimToggle.SetStage(v)
    getgenv().SATHotkey = v
end)
Section41.CreateToggle({Title = "Aim Predict", Desc = 'Will predict target movement 0.5s ahead (may glitchy)', Default = Settings.AimPredict}, function(v)
    Settings.AimPredict = v
end)
function GetPlrs()
    local plrs = {}
    for i, v in ipairs(game.Players:GetChildren()) do 
        if v.Name ~= plr.Name then
            table.insert(plrs, v.Name)
        end
    end
    return plrs
end
SelectPlayerDropdown = Section41.CreateDropdown({Title = "Select Player", List = GetPlrs(), Search = true}, function(v) 
    getgenv().SelectPlayer = v
end)
Section41.CreateButton({Title = 'Refresh Player List'}, function()
    if SelectPlayerDropdown then
        SelectPlayerDropdown:GetNewList(GetPlrs())
    end
end)
Section41.CreateToggle({Title = "View Player", Default = false}, function(v)
    spawn(function()
        if v then
            if #game.Players:GetPlayers() > 1 then
                local x = game.workspace.Characters:FindFirstChild(SelectPlayer)
                if x then
                    game.Workspace.Camera.CameraSubject = x.Humanoid
                end
            end
        else
            game.Workspace.Camera.CameraSubject = plr.Character.Humanoid
        end
    end)
end)
function formatNumber(v)
	return tostring(v):reverse():gsub("%d%d%d", "%1,"):reverse():gsub("^,", "")
end
Section41.CreateButton({Title = 'Player Stat Checker'}, function()
    local v = game.workspace.Characters:FindFirstChild(SelectPlayer)
    if v then
        v = game.Players[v.Name]
        Library.CreateNoti({Desc = "Name: " .. v.Name
        .. "\nLevel: " .. formatNumber(v.Data.Level.Value) .. " (" .. formatNumber(v.Data.Exp.Value) .. ")"
        .. "\nRace: " .. v.Data.Race.Value
        .. "\nBlox Fruit: " .. v.Data.DevilFruit.Value
        .. "\nBeli: " .. formatNumber(v.Data.Beli.Value)
        .. "\nFragment: " .. formatNumber(v.Data.Fragments.Value)
        .. "\nStats: " .. formatNumber(v.Data.Points.Value) .. " (available stat point)"
        .. "\n- Demon Fruit: " .. formatNumber(v.Data.Stats["Demon Fruit"].Level.Value)
        .. "\n- Defense: " .. formatNumber(v.Data.Stats.Defense.Level.Value)
        .. "\n- Melee: " .. formatNumber(v.Data.Stats.Melee.Level.Value)
        .. "\n- Gun: " .. formatNumber(v.Data.Stats.Gun.Level.Value)
        .. "\n- Sword: " .. formatNumber(v.Data.Stats.Sword.Level.Value)
        , ShowTime = 10})
    end
end)

local Section41 = Page5.CreateSection('Bounty Farm')
spawn(function()
    while wait() do
        pcall(function()
            if game.CoreGui.RobloxPromptGui.promptOverlay:FindFirstChild("ErrorPrompt")
            and not Hopping
            and Settings.BountyFarm then
                while wait() do
                    game:GetService("TeleportService"):Teleport(game.PlaceId, game.Players.LocalPlayer)
                    wait(10)
                end
            end
        end)
        wait(5)
    end
end)
function BF_SafeZoneCheck(x)
    for i, v in ipairs(wOrigin.SafeZones:GetChildren()) do
        if (x.Position - v.Position).magnitude <= v.Mesh.Scale.X / 1.75 then
            return true
        end
    end
    for i, v in ipairs(game.workspace:GetChildren()) do
        if v.Name == "tempsafezone" and v:FindFirstChild("Part")
        and (x.Position - v.Part.Position).magnitude < 60 then
            return true
        end
    end
end
getgenv().IgnorePlr = {}
function BF_GetPlayer()
    local Dist = math.huge
    local NearestPlr
    for i, v in ipairs(game.workspace.Characters:GetChildren()) do
        if v.Name ~= plr.Name
        and not table.find(IgnorePlr, v.Name)
        and plrLevel - game.Players[v.Name].Data.Level.Value <= 550
        and not v:FindFirstChild("KenDisabled")
        and (tostring(plr.Team) == "Pirates" and not table.find(Allies, v.Name) or tostring(plr.Team) == "Marines" and tostring(game.Players[v.Name].Team) ~= "Marines")
        and IsMobAlive(v)
        and not BF_SafeZoneCheck(v.HumanoidRootPart) then
            if v:FindFirstChild("Chop Glitch Fix") then
                local Mag = plr:DistanceFromCharacter(v.HumanoidRootPart.Position)
                if Mag < Dist then
                    Dist = Mag
                    NearestPlr = v
                end
            else
                table.insert(IgnorePlr, v.Name)
            end
        end
    end 
    return NearestPlr
end
function BF_NearestPlayerFromPlayer(x)
    local Dist = math.huge
    local NearestPlr
    for i, v in ipairs(game.workspace.Characters:GetChildren()) do
        if v.Name ~= x.Name and v.Name ~= plr.Name
        and IsMobAlive(v) and not BF_SafeZoneCheck(v.HumanoidRootPart) then
            local Mag = (v.HumanoidRootPart.Position - x.HumanoidRootPart.Position).magnitude
            if Mag < Dist then
                Dist = Mag
                NearestPlr = v
            end
        end
    end
    if NearestPlr then
        return (NearestPlr.HumanoidRootPart.Position - x.HumanoidRootPart.Position).magnitude
    else
        return 100000
    end
end
local DodgeLevels = {
    [0] = 2,
    [50] = 3,
    [330] = 4,
    [815] = 4,
    [1418] = 4,
    [2121] = 5,
    [2824] = 5,
}
function GetDodgeTime(x)
    local DodgeTime = 0
    for i, v in pairs(DodgeLevels) do
        if game.Players[x.Name].VisionRadius.Value >= i and DodgeTime < v then
            DodgeTime = v
        end
    end
    if x.UpperTorso.Material == Enum.Material.Neon then
        DodgeTime = DodgeTime + 2
    end
    return DodgeTime
end
function CheckPvPDisabled()
    for i, v in pairs(plr.PlayerGui.Notifications:GetChildren()) do
        if string.find(v.Text, "Player died recently") and v.Visible then
            return v
        end
    end
end
function CheckSusKll()
    for i, v in pairs(plr.PlayerGui.Notifications:GetChildren()) do
        if string.find(v.Text, "sus") and v.Visible then
            return v
        end
    end
end
function BF_CheckStop(v, OldHealthPercent, Timer)
    if v:FindFirstChild("KenDisabled")
    or not IsMobAlive(v)
    or not v:FindFirstChild("Chop Glitch Fix")
    or CheckPvPDisabled()
    or Timer and (v.Humanoid.Health / v.Humanoid.MaxHealth) * 100 >= OldHealthPercent
    and tick() - Timer >= 3 + GetDodgeTime(v)
    or BF_SafeZoneCheck(v.HumanoidRootPart)
    and not plr.PlayerGui.Main.InCombat.Visible then
        return true
    end
end
function BountyFarm()
    local v = BF_GetPlayer()
    if v then
        local OldBounty = plr.leaderstats["Bounty/Honor"].Value
        local Timer
        local OldHealthPercent = (v.Humanoid.Health / v.Humanoid.MaxHealth) * 100
        repeat wait()
            if Hopping then return end
            if not v:FindFirstChild("Chop Glitch Fix") then
                table.insert(IgnorePlr, v.Name)
            end
            if not plrInRaidCheck then
                plrInRaidCheck = true
                spawn(function()
                    repeat wait()
                    until v:FindFirstChild("KenDisabled")
                    getgenv().MovingPos = nil
                    ForceStopTween()
                end)
            end
            if (v.HumanoidRootPart.Position - Vector3.new(plr.Character.HumanoidRootPart.Position.X, v.HumanoidRootPart.Position.Y, plr.Character.HumanoidRootPart.Position.Z)).magnitude > 100 then
                getgenv().MovingPos = v.HumanoidRootPart
                if not Timer then
                    local plrPos = plr.Character.HumanoidRootPart.Position
                    plr.Character.HumanoidRootPart.CFrame = CFrame.new(plrPos.X, v.HumanoidRootPart.Position.Y, plrPos.Z)
                    wait(.25)
                end
                BountyFarmLabel.SetText(LabelTextBF .. "Tweening to " .. v.Name)
                repeat wait()
                    Tween(v.HumanoidRootPart.Position + Vector3.new(0, 50, 0), false, 0)
                until (v.HumanoidRootPart.Position - Vector3.new(plr.Character.HumanoidRootPart.Position.X, v.HumanoidRootPart.Position.Y, plr.Character.HumanoidRootPart.Position.Z)).magnitude < 80
                or not Settings.BountyFarm
                or not IsMobAlive(v)
                wait(.25)
                getgenv().MovingPos = nil
            else
                if not Timer then Timer = tick() end
                if not PvPDisableCheck and v.Humanoid.FloorMaterial ~= Enum.Material.Air then
                    spawn(function()
                        repeat wait()
                            plr.Character.HumanoidRootPart.CFrame = CFrame.new(v.HumanoidRootPart.Position.X, v.HumanoidRootPart.Position.Y, v.HumanoidRootPart.Position.Z)
                        until PvPDisableCheck or not Settings.BountyFarm or CheckPvPDisabled() or Hopping or Panicing
                        or v.Humanoid.FloorMaterial == Enum.Material.Air
                    end)
                    repeat wait()
                        if not plr.Character:FindFirstChildOfClass("Tool") then
                            EquipItem(GetM1WP())
                        end
                        pcall(function()
                            AttackM1(v)
                        end)
                        wait(.2)
                    until (v.Humanoid.Health / v.Humanoid.MaxHealth) * 100 < OldHealthPercent
                    or CheckPvPDisabled() or not Settings.BountyFarm or tick() - Timer > 1
                    or v.Humanoid.FloorMaterial == Enum.Material.Air
                    Timer = tick()
                    getgenv().PvPDisableCheck = true
                    plr.Character.HumanoidRootPart.CFrame = CFrame.new(v.HumanoidRootPart.Position.X, 0, v.HumanoidRootPart.Position.Z)
                else
                    local k = GetUseableSkillWP()
                    if k then
                        BountyFarmLabel.SetText(LabelTextBF .. "Attacking " .. v.Name .. "\nHealth: " .. math.round(v.Humanoid.Health) .. "/" .. v.Humanoid.MaxHealth)
                        if not plr.Character:FindFirstChild(k) then
                            EquipItem(k)
                        end
                        getgenv().DelayWait = false
                        for _, x in pairs(SkillList) do
                            if CheckSkillUseable(k, x)
                            and Settings.BountyFarm and not Panicing
                            and not BF_CheckStop(v, OldHealthPercent, Timer)
                            and (x ~= "Z" or x == "Z" and not table.find(IgnoreZFruits, k))
                            and (x ~= "F" or x == "F" and table.find(FDealDamageFruits, k))
                            and plr.PlayerGui.Main.Skills[k][x].Title.Text ~= "Transformation"
                            and not CheckPvPDisabled()
                            and (v.HumanoidRootPart.Position - Vector3.new(plr.Character.HumanoidRootPart.Position.X, v.HumanoidRootPart.Position.Y, plr.Character.HumanoidRootPart.Position.Z)).magnitude < 200 
                            and not (Timer and (v.Humanoid.Health / v.Humanoid.MaxHealth) * 100 < 70 and tick() - Timer < 10) then
                                getgenv().DisableSpamTP = false
                                getgenv().SpamTpAbove = false
                                getgenv().AimPos = Predict
                                plr.Character.HumanoidRootPart.CFrame = v.HumanoidRootPart.CFrame * CFrame.new(0, 0, -3)
                                if plr.Character.HumanoidRootPart.Position.Y > 9000 then
                                    wait(.4)
                                end
                                spawn(function()
                                    repeat wait()
                                        if (plr.Character.Humanoid.Health / plr.Character.Humanoid.MaxHealth) * 100 <= 80
                                        or plr.Character.Stun.Value ~= 0 then
                                            game:GetService("VirtualInputManager"):SendKeyEvent(true, "T", false, game)
                                            game:GetService("VirtualInputManager"):SendKeyEvent(false, "T", false, game)
                                        end
                                        getgenv().AimPos = (v.HumanoidRootPart.Position + v.HumanoidRootPart.Velocity * 0.5)
                                        plr.Character.HumanoidRootPart.CFrame = CFrame.lookAt(plr.Character.HumanoidRootPart.Position, v.HumanoidRootPart.Position)
                                        if SpamTpAbove then
                                            plr.Character.HumanoidRootPart.CFrame = v.HumanoidRootPart.CFrame * CFrame.new(0, 20, 0)
                                        else
                                            local Predict = (v.HumanoidRootPart.Position + v.HumanoidRootPart.Velocity * .15)
                                            local PreDictZ = PreDict.Z
                                            if PreDict.X  == 0 and Predict.Z == 0 then
                                                PreDictZ = 3
                                            end
                                            plr.Character.HumanoidRootPart.CFrame = CFrame.new(Predict.X, v.HumanoidRootPart.Position.Y, PreDictZ)
                                        end
                                    until DisableSpamTP
                                    or not Settings.BountyFarm
                                    or not IsMobAlive(v)
                                    or Panicing
                                    or (v.HumanoidRootPart.Position - Vector3.new(plr.Character.HumanoidRootPart.Position.X, v.HumanoidRootPart.Position.Y, plr.Character.HumanoidRootPart.Position.Z)).magnitude > 200
                                end)
                                if plr:DistanceFromCharacter(v.HumanoidRootPart.Position) < 200 then
                                    getgenv().AimPos = (v.HumanoidRootPart.Position + v.HumanoidRootPart.Velocity * 0.5)
                                    if k == "Control-Control" then
                                        if not wOrigin:FindFirstChild("Globe")
                                        or plr:DistanceFromCharacter(wOrigin.Globe.Position) > wOrigin.Globe.AB.CurveSize0 / 1.75 then
                                            UseSkillZ(k)
                                        end
                                    elseif k == "Human-Human: Buddha" then
                                        if plr.Character:WaitForChild("UpperTorso").Material ~= Enum.Material.Neon then
                                            UseSkillZ(k)
                                        end
                                    elseif k == "Diamond-Diamond" then
                                        if not plr.Character:FindFirstChild("DiamondBody") then
                                            UseSkillZ(k)
                                        end
                                    elseif k == "Bird-Bird: Falcon" then
                                        if not plr.Character:FindFirstChild("FalconWings") then
                                            UseSkillZ(k)
                                        end
                                    end
                                    game:GetService("VirtualInputManager"):SendKeyEvent(true, x, false, game)
                                    repeat wait()
                                        if not table.find(SelectedHoldSkill, plr.PlayerGui.Main.Skills[k][x].Title.Text) then
                                            game:GetService("VirtualInputManager"):SendKeyEvent(false, x, false, game)
                                        else
                                            getgenv().SpamTpAbove = true
                                        end
                                    until tostring(plr.PlayerGui.Main.Skills[k][x].Cooldown.Size.X):split(",")[1] ~= "1"
                                    or not Settings.BountyFarm
                                    or not IsMobAlive(v)
                                    or Panicing or Hopping
                                    game:GetService("VirtualInputManager"):SendKeyEvent(false, x, false, game)
                                end
                                getgenv().DisableSpamTP = true
                                getgenv().noclip = true
                                if not GetUseableSkillWP() then
                                    plr.Character.HumanoidRootPart.CFrame = CFrame.new(v.HumanoidRootPart.Position.X, 0, v.HumanoidRootPart.Position.Z)
                                    wait()
                                    plr.Character.HumanoidRootPart.CFrame = CFrame.new(v.HumanoidRootPart.Position.X, 0, v.HumanoidRootPart.Position.Z)
                                else
                                    wait(.25)
                                end
                            end
                        end
                        plr.Character.HumanoidRootPart.CFrame = CFrame.new(v.HumanoidRootPart.Position.X, 0, v.HumanoidRootPart.Position.Z)
                    else
                        getgenv().noclip = true
                        plr.Character.HumanoidRootPart.CFrame = CFrame.new(v.HumanoidRootPart.Position.X, 0, v.HumanoidRootPart.Position.Z)
                        for i, v in ipairs(plr.Backpack:GetChildren()) do
                            if v:IsA("Tool")
                            and v.ToolTip ~= "" then
                                plr.Character.Humanoid:EquipTool(v)
                            end
                            wait()
                        end
                        plr.Character.Humanoid:UnequipTools()
                    end
                end
            end
        until not Settings.BountyFarm or Panicing
        or BF_CheckStop(v, OldHealthPercent, Timer)
        getgenv().PvPDisableCheck = false
        getgenv().MovingPos = nil
        ForceStopTween()
        if not v:FindFirstChild("Chop Glitch Fix") then
            BountyFarmLabel.SetText(LabelTextBF .. v.Name .. " is also using Sea Hub, hi")
            while wait() do
                HopServer()
                wait(5)
            end
        elseif Panicing then
            BountyFarmLabel.SetText(LabelTextBF .. v.Name .. " can counter Sea Hub, nice job")
            while wait() do
                HopServer()
                wait(5)
            end
        end
        if Settings.BountyFarm then
            wait(.25)
            if plr.leaderstats["Bounty/Honor"].Value > OldBounty then
                table.insert(IgnorePlr, v.Name)
                if Settings.AutoEZ then
                    local x = "ez"
                    if Settings.CustomMSG or Settings.CustomMSG ~= "" then
                        x = Settings.CustomMSG
                    end
                    game:GetService("ReplicatedStorage").DefaultChatSystemChatEvents.SayMessageRequest:FireServer("/w " .. v.Name .. " " .. x or "ez", "All")
                end
                local BountyGot = formatNumber(plr.leaderstats["Bounty/Honor"].Value - OldBounty)
                Library.CreateNoti({Desc = "Successfully killed " .. v.Name .. "\nBounty received: " .. BountyGot, ShowTime = 10})
                if Settings.BFWebhook then
                    SendWebHook({
                        ["embeds"] = {{
                            ["title"] = "Blox Fruits",
                            ["type"] = "rich",
                            ["color"] = tonumber(0xbdce44),
                            ["fields"] = {
                                {
                                    ["name"] = "Name",
                                    ["value"] = "||" .. plr.Name .. "||",
                                    ["inline"] = false
                                },
                                {
                                    ["name"] = "Bounty Farm",
                                    ["value"] = "Killed Player: " .. v.Name .. "\nBounty received: " .. BountyGot .. "\nTotal Bounty: " .. formatNumber(plr.leaderstats["Bounty/Honor"].Value),
                                    ["inline"] = false
                                }
                            },
                            ["footer"] = {
                                ["icon_url"] = "https://cdn.discordapp.com/attachments/832985237638086660/843786018892939284/turtle.png",
                                ["text"] = "Sea Hub (" .. os.date("%X") .. ")"
                            }
                        }}
                    })
                end
                --[[
                spawn(function()
                    for i = 1, 6 do
                        ForceStopTween()
                        wait(.25)
                    end
                end)
                ]]
                local plrPos = plr.Character.HumanoidRootPart.Position
                plr.Character.HumanoidRootPart.CFrame = CFrame.new(plrPos.X, 0, plrPos.Z)
                wait(.25)
            else
                local x = "Kill got stole"
                local sK = CheckSusKll()
                if sK then
                    x = "Suspicious kill"
                    sK.Visible = false
                else
                    table.insert(IgnorePlr, v.Name)
                end
                local pD = CheckPvPDisabled()
                if pD
                or Timer and (v.Humanoid.Health / v.Humanoid.MaxHealth) * 100 >= OldHealthPercent
                and tick() - Timer >= 3 + GetDodgeTime(v) then
                    x = "PvP Disabled"
                    if pD then
                        pD.Visible = false
                    end
                end
                if not game.Players:FindFirstChild(v.Name) then
                    x = "Combat logged, left the game"
                end
                Library.CreateNoti({Desc = "Failed to kill " .. v.Name .. "\nPossibly: " .. x, ShowTime = 10})
            end
        else
            ForceStopTween(true)
        end
    else
        BountyFarmLabel.SetText(LabelTextBF .. "No killable player found")
        if Settings.BFHopServer then
            HopServer()
            wait(5)
            return
        end
        getgenv().MovingPos = nil
        local plrPos = plr.Character.HumanoidRootPart.Position
        ForceStopTween()
        plr.Character.HumanoidRootPart.CFrame = CFrame.new(plrPos.X, 0, plrPos.Z)
        getgenv().noclip = true
    end
end
spawn(function()
    repeat wait() until BountyFarmLabel and ToolReady
    while wait() do
        pcall(function()
            if Settings.BountyFarm then
                BountyFarm()
            end 
        end)
    end
end)
spawn(function()
    while wait(1) do
        pcall(function()
            if Settings.BountyFarm then
                if plr.Character.Humanoid.Sit then
                    UnSit()
                end
                local x = plr.Character:FindFirstChild("Chop Glitch Fix")
                if x then
                    x:Destroy()
                end
            end 
        end)
    end
end)
getgenv().LabelTextBF = "[Bounty Farm]\n"
getgenv().BountyFarmLabel = Section41.CreateLabel({Title = "[Bounty Farm]: None"})
Section41.CreateToggle({Title = 'Bounty Farm', Desc = "No skill?, don't worry, i gotchu - Built different\nPutting stats to Fighting Style / Blox Fruit, equip any Gun / Sword got big AOE\n* Electric Claw (recommended) and AOE Fruits\n(Do not enable with Auto Farm features)", Default = Settings.BountyFarm}, function(v)
    if not v and Settings.BountyFarm then
        if game.PlaceId == 7449423635 then TPLocation("Mansion") end
        spawn(function()
            getgenv().MovingPos = nil
            wait(1)
            if game.PlaceId == 7449423635 then TPLocation("Mansion") end
            BountyFarmLabel.SetText("[Bounty Farm]: None")
        end)
    end
    spawn(function()
        if v then
            for i, v in ipairs(plr.Backpack:GetChildren()) do
                if v:IsA("Tool")
                and v.ToolTip ~= "" then
                    plr.Character.Humanoid:EquipTool(v)
                end
                wait(.25)
            end
            plr.Character.Humanoid:UnequipTools()
            getgenv().ToolReady = true
        end
    end)
    Settings.BountyFarm = v
end)
Section41.CreateToggle({Title = 'Hop Server if no killable Player', Desc = "Will Hop Server if current server have no killable Player", Default = Settings.BFHopServer}, function(v) 
    Settings.BFHopServer = v
end)
function GetAllSkill()
    local x = {}
    for i, v in ipairs(plr.PlayerGui.Main.Skills:GetDescendants()) do
        if table.find(SkillList, v.Name)
        and v.Title.Text ~= "Transformation"
        and v.Title.TextColor3 == Color3.fromRGB(255, 255, 255) 
        and v.Cooldown.Size == UDim2.new(0, 0, 1, -1) then
            table.insert(x, v.Title.Text)
        end
    end
    return x
end
local HoldSkillList = GetAllSkill()
getgenv().SelectedHoldSkill = {}
if not Settings.HoldSkill then
    Settings.HoldSkill = {}
    for i, v in pairs(HoldSkillList) do
        Settings.HoldSkill[v] = false
    end
else
    local HoldSkillLCheck = {}
    for i, v in pairs(Settings.HoldSkill) do
        if v then
            table.insert(getgenv().SelectedHoldSkill, i)
        end
        table.insert(HoldSkillLCheck, i)
    end
    for i, v in pairs(HoldSkillList) do
        if not table.find(HoldSkillLCheck, v) then
            Settings.HoldSkill[v] = false
        end
    end
end
SelectHoldSkillDropdown = Section41.CreateDropdown({Title = 'Select Hold Skill', List = Settings.HoldSkill, Selected = true, Search = true}, function(i, v)
    if i then
        Settings.HoldSkill[i] = v
        if v then
            table.insert(getgenv().SelectedHoldSkill, i)
        elseif table.find(SelectedHoldSkill, i) then
            table.remove(getgenv().SelectedHoldSkill, table.find(SelectedHoldSkill, i))
        end
    end
end)
Section41.CreateButton({Title = 'Refresh Hold Skill List'}, function()
    if SelectHoldSkillDropdown then
        for i, v in ipairs(plr.Backpack:GetChildren()) do
            if v:IsA("Tool")
            and v.ToolTip ~= "" then
                plr.Character.Humanoid:EquipTool(v)
            end
            wait(.25)
        end
        plr.Character.Humanoid:UnequipTools()
        local HSK = {}
        for i, v in pairs(GetAllSkill()) do
            HSK[v] = false
        end
        SelectHoldSkillDropdown:GetNewList(HSK)
    end
end)
Section41.CreateToggle({Title = '[Non-Related] Auto EZ', Desc = 'Will /msg them and say "ez" after killed them', Default = Settings.AutoEZ}, function(v) 
    Settings.AutoEZ = v
end)
Section41.CreateBox({Title = 'Custom MSG Text', Number = false, Default = Settings.CustomMSG, Placeholder = 'Will say the thing you want instead of "ez"'}, function(v)
	Settings.CustomMSG = v
end)

local Page6 = Title.CreatePage({Page_Name = 'Shop', Page_Title = 'Shop Tab'})
function BuyStyle(x, v, c)
    if not x and c then
        CommF:InvokeServer(v, true)
        CommF:InvokeServer(v)
    else
        CommF:InvokeServer(x, v, c)
    end
end
local Section51 = Page6.CreateSection('Click Shop')
Section51.CreateDropdown({Title = "Ability Shop", List = {"Skyjump", "Enhancement", "Flash Step", "Ken Haki"}}, function(v) 
    if v == "Skyjump" then
        CommF:InvokeServer("BuyHaki", "Geppo")
    elseif v == "Enhancement" then
        CommF:InvokeServer("BuyHaki", "Buso")
    elseif v == "Flash Step" then
        CommF:InvokeServer("BuyHaki", "Soru")
    elseif v == "Ken Haki" then
        if CommF:InvokeServer("KenTalk", "Start") == 0 then return end
        if CommF:InvokeServer("KenTalk", "Start") == 1 then
            CommF:InvokeServer("KenTalk", "Buy")
        else
            Library.CreateNoti({Desc = "You haven't unlocked Saber Quest", ShowTime = 10})
        end
    end
end)
local Styles = {
    ["Dark Step"] = "BuyBlackLeg",
    ["Electric"] = "BuyElectro",
    ["Water Kung-fu"] = "BuyFishmanKarate",
    ["Dragon Breath"] = "",
    ["Superhuman"] = "BuySuperhuman",
    ["Death Step"] = "BuyDeathStep",
    ["Sharkman Karate"] = "BuySharkmanKarate",
    ["Electric Claw"] = "BuyElectricClaw",
    ["Dragon Talon"] = "BuyDragonTalon",
    ["Godhuman"] = "BuyGodhuman"
}
local StyleList = {}
for i, v in pairs(Styles) do
    table.insert(StyleList, i)
end
Section51.CreateDropdown({Title = "Fighting Style Shop", List = StyleList}, function(v) 
    if v then
        if v == "Dragon Breath" then
            BuyStyle("BlackbeardReward", "DragonClaw", "1")
            BuyStyle("BlackbeardReward", "DragonClaw", "2")
        else
            BuyStyle(Styles[v])
        end
    end
end)
local Section52 = Page6.CreateSection('Automatic Shop')
function GetNewHakiColor(OldColor)
    local NewHakiColor
    for i, v in pairs(CommF:InvokeServer("getColors")) do
        if v.Unlocked 
        and not table.find(OldColor, v.HiddenName) then
            NewHakiColor = v.HiddenName
        end
    end
    return NewHakiColor
end
local LegSword = {
    "Saddi",
    "Shisui",
    "Wando"
}
function GetNewLegSword(OldLegSword)
    local NewLegSword
    for i, v in pairs(getupvalue(require(plr.PlayerGui.Main.UIController.Inventory).UpdateRender, 4)) do
        if v.details
        and table.find(LegSword, v.details.Name) then
            if not table.find(OldLegSword, v.details.Name) then
                NewLegSword = v.details.Name
            end
        end
    end
    return NewLegSword
end
spawn(function()
    wait(5)
    while wait(1) do
        pcall(function()
            if Settings.AutoBuyFragments
            and GetItemCount("Candy") >= 100 then
                CommF:InvokeServer("Candies", "Buy", 2, 2)
            end
            if Settings.AutoBuy15mx2XP
            and plrLevel < MaxLevel
            and not string.find(plr.PlayerGui.Main.Level.Exp.Text, "2x ends")
            and GetItemCount("Candy") >= 50 then
                CommF:InvokeServer("Candies", "Buy", 1, 1)
            end
            if Settings.AutoRandomSurprise
            and GetItemCount("Bones") >= 50 then
                CommF:InvokeServer("Bones", "Buy", 1, 1)
            end
            if Settings.AutoBFDC then
                CommF:InvokeServer("Cousin", "Buy")
            end
            wait(2)
        end)
    end
end)
spawn(function()
    wait(3)
    if TabStatus and TabStatus == "In" then wait(4) end
    while wait() do
        pcall(function()
            if Settings.AutoMOE
            and plr.Data.Fragments.Value >= 1500 then
                local MOE = game.workspace.NPCs:FindFirstChild("Master of Enhancement ")
                if MOE and MOE.HumanoidRootPart.Position.Y > -100 then
                    local x = CommF:InvokeServer("ColorsDealer", "1", true):gsub("%d+", ""):gsub("%s+$", "")
                    if not table.find(SelectedIgnoreColor, x) then
                        local OldColor = {}
                        for i, v in pairs(CommF:InvokeServer("getColors")) do
                            if v.Unlocked then
                                table.insert(OldColor, v.HiddenName)
                            end
                        end
                        CommF:InvokeServer("ColorsDealer", "2")
                        wait(1)
                        local BoughtColor = GetNewHakiColor(OldColor)
                        if BoughtColor then
                            Library.CreateNoti({Desc = "Bought Color: " .. BoughtColor, ShowTime = 10})
                            if Settings.MOEBWebhook then
                                SendWebHook({
                                    ["content"] = "@everyone",
                                    ["embeds"] = {{
                                        ["title"] = "Blox Fruits",
                                        ["type"] = "rich",
                                        ["color"] = tonumber(0xbdce44),
                                        ["fields"] = {
                                            {
                                                ["name"] = "Name",
                                                ["value"] = "||" .. plr.Name .. "||",
                                                ["inline"] = false
                                            },
                                            {
                                                ["name"] = "Auto Master of Enhancement",
                                                ["value"] = "Bought Color: " .. BoughtColor,
                                                ["inline"] = false
                                            }
                                        },
                                        ["footer"] = {
                                            ["icon_url"] = "https://cdn.discordapp.com/attachments/832985237638086660/843786018892939284/turtle.png",
                                            ["text"] = "Sea Hub (" .. os.date("%X") .. ")"
                                        }
                                    }}
                                })
                            end
                        else
                            Library.CreateNoti({Desc = "Attempted to buy Color " .. x .. " but already got the Color", ShowTime = 10})
                            MOE.HumanoidRootPart.CFrame = CFrame.new(0, -1000, 0)
                        end
                    else
                        Library.CreateNoti({Desc = "Ignored Color " .. x, ShowTime = 10})
                        MOE.HumanoidRootPart.CFrame = CFrame.new(0, -1000, 0)
                    end
                    wait(2)
                elseif Settings.AMHopServer then
                    HopServer(true)
                    wait(5)
                end
            end
            if Settings.AutoLSD then
                if IsHaveItem("Saddi") and IsHaveItem("Shisui") and IsHaveItem("Wando") then
                    Library.CreateNoti({Desc = "Already got all 3 Saddi Shisui Wando", ShowTime = 10})
                    if AutoLSDToggle then AutoLSDToggle.SetStage(false) end
                    return
                end
                if game.PlaceId == 7449423635 and Settings.AMHopServer then CommF:InvokeServer("TravelDressrosa") wait(5) end
                local LSD = game.workspace.NPCs:FindFirstChild("Legendary Sword Dealer ")
                if LSD and LSD.HumanoidRootPart.Position.Y > -100 and plr.Data.Beli.Value >= 2000000 then
                    local OldLegSword = {}
                    for i, v in pairs(getupvalue(require(plr.PlayerGui.Main.UIController.Inventory).UpdateRender, 4)) do
                        if v.details
                        and table.find(LegSword, v.details.Name) then
                            table.insert(OldLegSword, v.details.Name)
                        end
                    end
                    CommF:InvokeServer("LegendarySwordDealer", "2")
                    wait(1)
                    local BoughtSword = GetNewLegSword(OldLegSword)
                    if BoughtSword then
                        Library.CreateNoti({Desc = "Bought Legendary Sword: " .. BoughtSword, ShowTime = 10})
                        if Settings.LSDBWebhook then
                            SendWebHook({
                                ["content"] = "@everyone",
                                ["embeds"] = {{
                                    ["title"] = "Blox Fruits",
                                    ["type"] = "rich",
                                    ["color"] = tonumber(0xbdce44),
                                    ["fields"] = {
                                        {
                                            ["name"] = "Name",
                                            ["value"] = "||" .. plr.Name .. "||",
                                            ["inline"] = false
                                        },
                                        {
                                            ["name"] = "Auto Legendary Sword Dealer",
                                            ["value"] = "Bought Sword: " .. BoughtSword,
                                            ["inline"] = false
                                        }
                                    },
                                    ["footer"] = {
                                        ["icon_url"] = "https://cdn.discordapp.com/attachments/832985237638086660/843786018892939284/turtle.png",
                                        ["text"] = "Sea Hub (" .. os.date("%X") .. ")"
                                    }
                                }}
                            })
                        end
                    else
                        Library.CreateNoti({Desc = "Attempted to buy Legendary Sword but already got the Sword", ShowTime = 10})
                        LSD.HumanoidRootPart.CFrame = CFrame.new(0, -1000, 0)
                    end
                    wait(2)
                elseif Settings.AMHopServer then
                    if Settings.Cuttay then
                        Library.CreateNoti({Desc = 'Hopping Server for True Triple Katana (3 Legendary Swords)', ShowTime = 5})
                    end
                    HopServer(true)
                    wait(5)
                end
            end
        end)
    end
end)
AutoBuyFragmentsToggle = Section52.CreateToggle({Title = 'Auto Buy 500 Fragments', Desc = "Auto buy 500 Fragments with 100 Candies", Default = Settings.AutoBuyFragments}, function(v) 
    Settings.AutoBuyFragments = v
end)
AutoBuy15mx2XPToggle = Section52.CreateToggle({Title = 'Auto Buy 15m x2 XP', Desc = "Auto buy 15 minutes of x2 XP with 50 Candies when you don't have any x2 XP boost", Default = Settings.AutoBuy15mx2XP}, function(v) 
    Settings.AutoBuy15mx2XP = v
    if v and plrLevel >= MaxLevel then
        if AutoBuy15mx2XPToggle then AutoBuy15mx2XPToggle.SetStage(false) end
        return Library.CreateNoti({Desc = 'You already maxed Level (no need to buy x2 XP)', ShowTime = 10})
    end
end)
Section52.CreateToggle({Title = 'Auto Random Surprise', Desc = "Auto buy random surprise by using Bone", Default = Settings.AutoRandomSurprise}, function(v) 
    Settings.AutoRandomSurprise = v
end)
AutoBFDCToggle = Section52.CreateToggle({Title = 'Auto Blox Fruit Dealer Cousin', Desc = "Auto buy random Blox Fruit", Default = Settings.AutoBFDC}, function(v) 
    Settings.AutoBFDC = v
end)
Section52.CreateToggle({Title = 'Auto Master of Enhancement', Desc = "Auto buy Enhancement Color when the Merchant spawned", Default = Settings.AutoMOE}, function(v) 
    Settings.AutoMOE = v
end)
local ColorList = {}
for i, v in pairs(CommF:InvokeServer("getColors")) do
    table.insert(ColorList, v.HiddenName)
end
getgenv().SelectedIgnoreColor = {}
if not Settings.IgnoreColor then
    Settings.IgnoreColor = {}
    for i, v in pairs(ColorList) do
        Settings.IgnoreColor[v] = false
    end
else
    local ColorLCheck = {}
    for i, v in pairs(Settings.IgnoreColor) do
        if v then
            table.insert(getgenv().SelectedIgnoreColor, i)
        end
        table.insert(ColorLCheck, i)
    end
    for i, v in pairs(ColorList) do
        if not table.find(ColorLCheck, v) then
            Settings.IgnoreColor[v] = false
        end
    end
end
Section52.CreateDropdown({Title = 'Ignore Buy Enhancement Color', List = Settings.IgnoreColor, Selected = true}, function(i, v)
    if i then
        Settings.IgnoreColor[i] = v
        if v then
            table.insert(getgenv().SelectedIgnoreColor, i)
        elseif table.find(SelectedIgnoreColor, i) then
            table.remove(getgenv().SelectedIgnoreColor, table.find(SelectedIgnoreColor, i))
        end
    end
end)
AutoLSDToggle = Section52.CreateToggle({Title = 'Auto Legendary Sword Dealer', Desc = "Auto buy Legendary Swords when the Merchant spawned", Default = Settings.AutoLSD}, function(v) 
    Settings.AutoLSD = v
end)
AMHopServerToggle = Section52.CreateToggle({Title = 'Hop Server if no Merchant', Desc = "Will Hop Server if current server have no Master of Enhancement / Legendary Sword Dealer", Default = Settings.AMHopServer}, function(v) 
    Settings.AMHopServer = v
end)

local Page7 = Title.CreatePage({Page_Name = 'Webhook', Page_Title = 'Webhook Settings Tab'})
local Section71 = Page7.CreateSection('Webhook Setting')
Section71.CreateBox({Title = 'Webhook URL', Number = false, Default = Settings.TextBoxWebhookURL, Placeholder = 'Webhook URL here'}, function(v)
	Settings.TextBoxWebhookURL = v
end)
getgenv().SendWebHook = function(v)
    if not Settings.TextBoxWebhookURL then return end
	syn.request({
		Url = Settings.TextBoxWebhookURL,
		Method = "POST",
		Headers = {
			["Content-Type"] = "application/json"
		},
		Body = HttpService:JSONEncode(v)
	})
end
Section71.CreateButton({Title = 'Test Webhook'}, function()
	SendWebHook({
		["embeds"] = {{
			["title"] = "Blox Fruits",
			["type"] = "rich",
			["color"] = tonumber(0xbdce44),
			["fields"] = {
				{
					["name"] = "Test webhook",
					["value"] = "egoD was here :eyes:",
					["inline"] = false
				},
			},
			["footer"] = {
				["icon_url"] = "https://cdn.discordapp.com/attachments/832985237638086660/843786018892939284/turtle.png",
				["text"] = "Sea Hub (" .. os.date("%X") .. ")"
			}
		}}
	})
end)
local Section71 = Page7.CreateSection('Webhook Notification')
Section71.CreateToggle({Title = 'Blox Fruit Bought / Stored / Dropped', Default = Settings.BFBSDWebhook, Desc = "Will notify you when:\nBlox Fruit Dealer Sniper bought a selected Fruti\nAuto Store Blox Fruit stored a fruit\nDrop if Maxed if dropped a fruit"}, function(v)
	Settings.BFBSDWebhook = v
end)
if game.PlaceId ~= 2753915549 then
    local DescText = "Will notify you when got " .. WorldReward .. " from Auto Chest" 
    if game.PlaceId == 7449423635 then
        DescText = DescText .. " or Elite Pirate Farm"
    else
        DescText = DescText .. " or Sea Beast Farm"
    end
    Section71.CreateToggle({Title = 'Got ' .. WorldReward, Default = Settings.GDAWebhook, Desc = DescText}, function(v)
        Settings.GDAWebhook = v
    end)
    Section71.CreateToggle({Title = 'Raid Boss Killed', Default = Settings.RBFWebhook, Desc = "Will notify you when killed Cake Prince / rip_indra"}, function(v)
        Settings.RBFWebhook = v
    end)
end
Section71.CreateToggle({Title = 'Master of Enhancement Bought', Default = Settings.MOEBWebhook, Desc = "Will notify you when Auto Master of Enhancement bought an Enhancement Color"}, function(v)
	Settings.MOEBWebhook = v
end)
if game.PlaceId == 4442272183 then
    Section71.CreateToggle({Title = 'Legendary Sword Dealer Bought', Default = Settings.LSDBWebhook, Desc = "Will notify you when Auto Legendary Sword Dealer bought an Legendary Sword"}, function(v)
        Settings.LSDBWebhook = v
    end)
end
Section71.CreateToggle({Title = 'Bounty Farm Player killed', Default = Settings.BFWebhook, Desc = "Will notify you Bounty Farm killed a Player"}, function(v)
	Settings.BFWebhook = v
end)
local Page8 = Title.CreatePage({Page_Name = 'Info', Page_Title = 'Informations Tab'})
local Section81 = Page8.CreateSection('Script Status')
getgenv().AutoFarmLabel = Section81.CreateLabel({Title = "[Auto Farm]: None"})
getgenv().AutoFSSLabel = Section81.CreateLabel({Title = "[Auto Fighting Style / Sword]: None"})
local Section82 = Page8.CreateSection('Spawn Status')
BossSpawnLabel = Section82.CreateLabel({Title = "Boss Spawn Status"})
spawn(function()
    while wait() do
        pcall(function()
            local BossSpawnText = "[Boss Spawn Status]"
            for i, v in pairs(BossesName) do
                BossSpawnText = BossSpawnText .. "\n"
                local x = child_stringfind(game.ReplicatedStorage, v, true, true) or child_stringfind(game.workspace.Enemies, v, true, true)
                if x then
                    BossSpawnText = BossSpawnText .. "🟢 " .. v
                else
                    BossSpawnText = BossSpawnText .. "🔴 " .. v 
                end
            end
            BossSpawnLabel.SetText(BossSpawnText)
        end)
        wait(10)
    end
end)
if game.PlaceId ~= 2753915549 then
    NPCSpawnLabel = Section82.CreateLabel({Title = "NPC Spawn Status"})
    spawn(function()
        while wait() do
            pcall(function()
                local NPCSpawnText = "[NPC Spawn Status]"
                for i, v in pairs(SpawnNPCs) do
                    NPCSpawnText = NPCSpawnText .. "\n"
                    local x = game.workspace.NPCs:FindFirstChild(v)
                    if x
                    and x.HumanoidRootPart.Position.Y > -100 then
                        NPCSpawnText = NPCSpawnText .. "🟢 " .. v
                    else
                        NPCSpawnText = NPCSpawnText .. "🔴 " .. v 
                    end
                end
                NPCSpawnLabel.SetText(NPCSpawnText)
            end)
            wait(10)
        end
    end)
end
local CT_Access
pcall(function()
    CT_Access = data.Headers.Cuttay or Dec.Cuttay
end)
if not CT_Access then CT_Access = "false" end
if not getgenv().Key then CT_Access = "true" end
warn("Cuttay Access: " .. CT_Access) 
if CT_Access == "true" then
    local Page9 = Title.CreatePage({Page_Name = 'Seller', Page_Title = 'Seller Tab 💸'})
    local Section91 = Page9.CreateSection('Cuttay Account Farm')
    spawn(function()
        while wait() do
            if Settings.Cuttay and plr.Data.Points.Value ~= 0 then
                if plr.Data.Stats.Melee.Level.Value < MaxLevel then
                    CommF:InvokeServer("AddPoint", "Melee", plr.Data.Points.Value)
                elseif plr.Data.Stats.Defense.Level.Value < MaxLevel then
                    CommF:InvokeServer("AddPoint", "Defense", plr.Data.Points.Value)
                else
                    CommF:InvokeServer("AddPoint", "Sword", plr.Data.Points.Value)
                end           
            else
                wait(1)
            end
        end
    end)
    function CheckFruitAwakeable()
        local BF = GetM1WP("Blox Fruit")
        if BF and BF ~= "Dough-Dough" and BF ~= "Bird-Bird: Phoenix" then
            BF = CheckPlrBackpack(BF)
            if BF:FindFirstChild("AwakenedMoves") then
                if BF.AwakenedMoves:FindFirstChild("V") then
                    if Settings.AutoAwake and AutoAwakeToggle then AutoAwakeToggle.SetStage(false) end
                    return
                end
                return true
            end
        end
    end
    function CheckFruitFullAwake()
        local BF = GetM1WP("Blox Fruit")
        if BF then
            BF = CheckPlrBackpack(BF)
            if BF:FindFirstChild("AwakenedMoves") and BF.AwakenedMoves:FindFirstChild("V") then
                return true
            end
        end
    end
    function Cuttay()
        if Hopping then return end
        if Settings.AutoNextSea and AutoNextSeaToggle and CommF:InvokeServer("ZQuestProgress", "Check") == 1 then
            AutoNextSeaToggle.SetStage(false)
        else
            if plrLevel >= 700 and not Settings.AutoNextSea
            and game.PlaceId == 2753915549
            and not CommF:InvokeServer("ZQuestProgress", "Check")
            and AutoNextSeaToggle then
                AutoNextSeaToggle.SetStage(true)
            end
            if plrLevel >= 1500 and not Settings.AutoNextSea
            and CommF:InvokeServer("ZQuestProgress", "Check") ~= 1
            and AutoNextSeaToggle then
                AutoNextSeaToggle.SetStage(true)
            end
        end
        if CuttayAccountFarm and CuttayAccountFarm["Blox Fruit Sniper"]
        and #CuttayAccountFarm["Blox Fruit Sniper"] ~= 0
        and not table.find(SelectedSnipeBloxFruit, tostring(plr.Data.DevilFruit.Value)) 
        and not Settings.BFDealerSniper and BFDealerSniperToggle then
            BFDealerSniperToggle.SetStage(true)
        end
        if not Settings.AutoSave and AutoSaveToggle then AutoSaveToggle.SetStage(true) end
        if not Settings.BoostFPS and BoostFPSToggle then BoostFPSToggle.SetStage(true) end
        if not Settings.NoFog and NoFogToggle then NoFogToggle.SetStage(true) end
        if not Settings.RemoveScreenShake and RemoveScreenShakeToggle then RemoveScreenShakeToggle.SetStage(true) end
        if not Settings.IgnoreYTween and IgnoreYTweenToggle then IgnoreYTweenToggle.SetStage(true) end
        if Settings.Distance ~= 40 then Settings.Distance = 40 end
        if Settings.DefaultYLevel ~= 400 then Settings.DefaultYLevel = 400 end
        if Settings.TweenSpeed ~= 300 then Settings.TweenSpeed = 300 end
        if not Settings.TweenBF and TweenBFToggle then TweenBFToggle.SetStage(true) end
        if not Settings.TweenNBF and TweenNBFToggle then TweenNBFToggle.SetStage(true) end
        if game.PlaceId ~= 2753915549 and not Settings.AutoWorldEvent and AutoWorldEventToggle then AutoWorldEventToggle.SetStage(true) end
        if not Settings.AutoStoreBF and AutoStoreBFToggle then AutoStoreBFToggle.SetStage(true) end
        if plr.Data.Beli.Value >= 160000 and not Settings.AutoBFDC and AutoBFDCToggle then AutoBFDCToggle.SetStage(true) end
        if game.PlaceId == 4442272183 and not Settings.AutoLSD and AutoLSDToggle
        and (not IsHaveItem("Saddi") or not IsHaveItem("Shisui") or not IsHaveItem("Wando")) then
            AutoLSDToggle.SetStage(true)
        end
        if not Settings.AFSTPSea3 and AFSTPSea3Toggle then AFSTPSea3Toggle.SetStage(true) end
        if Settings.BTDFHopServer and BTDFHopServerToggle then BTDFHopServerToggle.SetStage(false) end
        if not table.find(SelectedIgnoreHop, "[Main] Server Hop") then
            if not Settings.AFSHopServer and AFSHopServerToggle then AFSHopServerToggle.SetStage(true) end
            if not Settings.AutoRejoin and AutoRejoinToggle then AutoRejoinToggle.SetStage(true) end
        else
            if Settings.AFSHopServer and AFSHopServerToggle then AFSHopServerToggle.SetStage(false) end
            if Settings.AutoRejoin and AutoRejoinToggle then AutoRejoinToggle.SetStage(false) end
        end
        if not table.find(SelectedIgnoreHop, "[Farm] Server Hop if Player nearby") then
            if not Settings.MFHopServer and MFHopServerToggle then MFHopServerToggle.SetStage(true) end
        elseif Settings.MFHopServer and MFHopServerToggle then
            MFHopServerToggle.SetStage(false)
        end
        if Settings.CT_RaidIfMaxed then
            if GetDropBF(plr.Character) or GetDropBF(plr.Backpack) then
                local EquippedBF = GetM1WP("Blox Fruit")
                local RaidMapBF = "Flame"
                if EquippedBF then
                    EquippedBF = EquippedBF:split("-")[1]
                    for i, v in pairs(RaidList) do
                        if string.find(EquippedBF, v:split(":")[1])
                        and not string.find(v, "Dough")
                        and not string.find(v, "Phoenix") then
                            RaidMapBF = v
                        end
                    end
                end
                Settings.RaidMap = RaidMapBF
                if not Settings.AutoRaid and AutoRaidToggle then AutoRaidToggle.SetStage(true) end
                return
            elseif AFSWeapon and (table.find(SelectedIgnoreAction, "Awake Current Blox Fruit") or CheckFruitFullAwake()) then
                if Settings.AutoRaid and AutoRaidToggle then AutoRaidToggle.SetStage(false) end
            end
        end
        if not Settings.BossFarm and BossFarmToggle then BossFarmToggle.SetStage(true) end
        if (table.find(SelectedIgnoreAction, "Awake Current Blox Fruit") or CheckFruitFullAwake()) and Settings.AutoAwake and AutoAwakeToggle then
            AutoAwakeToggle.SetStage(false)
        end
        if table.find(SelectedIgnoreAction, "Get Godhuman") and Settings.AutoGodhuman and AutoGodhumanToggle then
            AutoGodhumanToggle.SetStage(false)
        end
        if table.find(SelectedIgnoreAction, "Get Rengoku") and Settings.AutoRengoku and AutoRengokuToggle then
            AutoRengokuToggle.SetStage(false)
        end
        if table.find(SelectedIgnoreAction, "Get True Triple Katana") then
            if Settings.AutoTripleKatana and AutoTripleKatanaToggle then AutoTripleKatanaToggle.SetStage(false) end
            if Settings.AMHopServer and AMHopServerToggle then AMHopServerToggle.SetStage(false) end
        end
        if (table.find(SelectedIgnoreAction, "Get Hallow Scythe") or IsHaveItem("Hallow Scythe")) and Settings.SoulReaperFarm and SoulReaperFarmToggle then
            SoulReaperFarmToggle.SetStage(false)
        end
        if table.find(SelectedIgnoreAction, "Get Cursed Dual Katana") then
            if Settings.AutoDualKatana and AutoDualKatanaToggle then AutoDualKatanaToggle.SetStage(false) end
            if Settings.EPFHopServer and EPFHopServerToggle then EPFHopServerToggle.SetStage(false) end
        end
        if table.find(SelectedIgnoreAction, "Get Soul Guitar") and Settings.AutoSoulGuitar and AutoSoulGuitarToggle then
            AutoSoulGuitarToggle.SetStage(false)
        end
        if game.PlaceId == 7449423635 then
            if not IsHaveItem("Tushita") and not Settings.AutoTushita and AutoTushitaToggle then AutoTushitaToggle.SetStage(true) end
            if not IsHaveItem("Yama") then
                if not Settings.ElitePirateFarm and ElitePirateFarmToggle then ElitePirateFarmToggle.SetStage(true) end
                if not Settings.AutoYama and AutoYamaToggle then AutoYamaToggle.SetStage(true) end
            end
            if not IsHaveItem("Hallow Scythe")
            and not table.find(SelectedIgnoreAction, "Get Hallow Scythe") then
                if not Settings.SoulReaperFarm and SoulReaperFarmToggle then SoulReaperFarmToggle.SetStage(true) end
            end
        end
        if CommF:InvokeServer("BuyGodhuman", true) ~= 1
        and not table.find(SelectedIgnoreAction, "Get Godhuman")
        or CommF:InvokeServer("BuyDragonTalon", true) ~= 1 then
            if not Settings.AutoSuperhuman and CommF:InvokeServer("BuySuperhuman", true) ~= 1 and AutoSuperhumanToggle then
                AutoSuperhumanToggle.SetStage(true)
            end
            if not Settings.AutoDeathStep and CommF:InvokeServer("BuyDeathStep", true) ~= 1 and AutoDeathStepToggle then
                AutoDeathStepToggle.SetStage(true)
            end
            if not Settings.AutoSharkmanKarate and CommF:InvokeServer("BuySharkmanKarate", true) ~= 1 and AutoSharkmanKarateToggle then
                AutoSharkmanKarateToggle.SetStage(true)
            end
            if not Settings.AutoElectricClaw and CommF:InvokeServer("BuyElectricClaw", true) ~= 1 and AutoElectricClawToggle then
                AutoElectricClawToggle.SetStage(true)
            end
            if not Settings.AutoDragonTalon and CommF:InvokeServer("BuyDragonTalon", true) ~= 1 and AutoDragonTalonToggle then
                AutoDragonTalonToggle.SetStage(true)
            end
            if not table.find(SelectedIgnoreAction, "Get Godhuman")
            and not Settings.AutoGodhuman and CommF:InvokeServer("BuyGodhuman", true) ~= 1 and AutoGodhumanToggle then
                AutoGodhumanToggle.SetStage(true)
            end
        else
            if not IsHaveItem("Saber") then
                if not Settings.AutoSaber and AutoSaberToggle then AutoSaberToggle.SetStage(true) end
                return
            end
            if not table.find(SelectedIgnoreAction, "Get Rengoku")
            and not IsHaveItem("Rengoku") then
                if not Settings.AutoRengoku and AutoRengokuToggle then AutoRengokuToggle.SetStage(true) end
                return
            end
            if not table.find(SelectedIgnoreAction, "Get True Triple Katana")
            and not IsHaveItem("True Triple Katana") then
                if IsHaveItem("Saddi")
                and IsHaveItem("Shisui")
                and IsHaveItem("Wando") then
                    if Settings.AMHopServer and AMHopServerToggle then AMHopServerToggle.SetStage(false) end
                    if game.PlaceId ~= 7449423635 then
                        CommF:InvokeServer("TravelZou")
                        wait(5)
                        return
                    end
                    if plr.Data.Beli.Value >= 2000000 then
                        getgenv().AFSWeapon = nil
                        if not Settings.AutoTripleKatana and AutoTripleKatanaToggle then AutoTripleKatanaToggle.SetStage(true) end
                    else
                        AutoFSSLabel.SetText(LabelTextAFS .. "Not have enough Beli to buy: True Triple Katana")
                        CT_DisableAutoRaid()
                        CT_EnableFarm()
                    end
                elseif plr.Data.Beli.Value >= 2000000 then
                    if game.PlaceId ~= 4442272183 then
                        CommF:InvokeServer("TravelDressrosa")
                        wait(5)
                        return
                    else
                        if not table.find(SelectedIgnoreHop, "[Main] Server Hop") then
                            if not NotiHopSv then
                                getgenv().NotiHopSv = true
                                Library.CreateNoti({Desc = 'Will Hop Server for 3 Legendary Swords\n(Auto True Triple Katana)', ShowTime = 20})
                            end
                            CT_DisableFarm()
                            if not Settings.AMHopServer and AMHopServerToggle then AMHopServerToggle.SetStage(true) end
                        else
                            AutoFSSLabel.SetText(LabelTextAFS .. "Waiting for Legendary Sword Merchant Spawn (Auto True Triple Katana)")
                            if Settings.AMHopServer and AMHopServerToggle then AMHopServerToggle.SetStage(false) end
                            CT_DisableAutoRaid()
                            CT_EnableFarm()
                        end
                    end
                else
                    if not NotiHopSv then
                        getgenv().NotiHopSv = true
                        Library.CreateNoti({Desc = 'Not enough Beli to buy Legendary Swords\n(Auto True Triple Katana)', ShowTime = 20})
                    end
                    if Settings.AMHopServer and AMHopServerToggle then AMHopServerToggle.SetStage(false) end
                    if game.PlaceId ~= 7449423635 then
                        if Settings.AMHopServer and AMHopServerToggle then AMHopServerToggle.SetStage(false) end
                        CommF:InvokeServer("TravelZou")
                        wait(5)
                        return
                    else
                        CT_DisableAutoRaid()
                        CT_EnableFarm()
                    end
                end
                return
            end
            if not table.find(SelectedIgnoreAction, "Get Cursed Dual Katana")
            and not IsHaveItem("Cursed Dual Katana") then
                if game.PlaceId ~= 7449423635 then
                    if Settings.AMHopServer and AMHopServerToggle then AMHopServerToggle.SetStage(false) end
                    CommF:InvokeServer("TravelZou")
                    wait(5)
                    return
                else
                    if not IsHaveItem("Yama") then
                        if not table.find(SelectedIgnoreHop, "[Main] Server Hop") then
                            if not Settings.EPFHopServer and EPFHopServerToggle then EPFHopServerToggle.SetStage(true) end
                        else
                            if Settings.EPFHopServer and EPFHopServerToggle then EPFHopServerToggle.SetStage(false) end
                            CT_EnableFarm()
                        end
                    else
                        if Settings.EPFHopServer and EPFHopServerToggle then EPFHopServerToggle.SetStage(false) end
                        if plrLevel >= 2200 and IsHaveItem("Tushita") then
                            if not Settings.AutoDualKatana and AutoDualKatanaToggle then AutoDualKatanaToggle.SetStage(true) end
                            if not NotiHopSv and Settings.AFSHopServer then
                                getgenv().NotiHopSv = true
                                Library.CreateNoti({Desc = 'Will Hop Server for Raid Pirate / Soul Reaper\n(Auto Cursed Dual Katana)', ShowTime = 20})
                            end
                        else
                            CT_EnableFarm()
                        end
                    end
                end
                return
            end
            if not table.find(SelectedIgnoreAction, "Get Soul Guitar")
            and not IsHaveItem("Soul Guitar") then
                if not Settings.AutoSoulGuitar and AutoSoulGuitarToggle then AutoSoulGuitarToggle.SetStage(true) end
                return
            end
            if not table.find(SelectedIgnoreAction, "Awake Current Blox Fruit") and CheckFruitAwakeable() then
                if not NotiHopSv then
                    getgenv().NotiHopSv = true
                    Library.CreateNoti({Desc = 'Will Hop Server for Blox Fruit to go Raid\n(Auto Awake Current Blox Fruit)', ShowTime = 20})
                end
                if not Settings.AutoRaidAU and AutoRaidAUToggle then AutoRaidAUToggle.SetStage(true) end
                if not table.find(SelectedIgnoreHop, "[Main] Server Hop") then
                    if not Settings.BTDFHopServer and BTDFHopServerToggle then BTDFHopServerToggle.SetStage(true) end
                else
                    if Settings.BTDFHopServer and BTDFHopServerToggle then BTDFHopServerToggle.SetStage(false) end
                    CT_EnableFarm()
                end
                return
            end
            if table.find(SelectedIgnoreHop, "[Main] Server Hop") and Settings.BTDFHopServer and BTDFHopServerToggle then BTDFHopServerToggle.SetStage(false) end
            getgenv().CT_DoneGetStuffs = true
        end
        if AFSWeapon or ASWeapon then
            CT_DisableAutoRaid()
            CT_EnableFarm()
        end    
        if CT_DoneGetStuffs
        and not ASWeapon then
            if Settings.CT_FarmBossDrop and not GotBelowSeaItems then
                if not NotiHopSv then
                    getgenv().NotiHopSv = true
                    Library.CreateNoti({Desc = 'Will Hop Server for Bosses\n(Farm boss drops if maxed)', ShowTime = 20})
                end
                if FarmBossDrop then
                    if FarmBossDrop == "Sea 1" then
                        if game.PlaceId ~= 2753915549 then
                            CommF:InvokeServer("TravelMain")
                            wait(5)
                        else
                            CT_DisableFarm()
                            if not Settings.BFHopServer and BFHopServerToggle then BFHopServerToggle.SetStage(true) end
                        end 
                    elseif FarmBossDrop == "Sea 2" then
                        if game.PlaceId ~= 4442272183 then
                            CommF:InvokeServer("TravelDressrosa")
                            wait(5)
                        else
                            CT_DisableFarm()
                            if not Settings.BFHopServer and BFHopServerToggle then BFHopServerToggle.SetStage(true) end
                        end 
                    end
                else
                    for i, v in pairs(BossDrops[2753915549]) do
                        if not table.find(RaidBoss, v) then
                            if not IsHaveItem(i) then
                                getgenv().FarmBossDrop = "Sea 1"
                            end
                        end
                    end
                    if not FarmBossDrop then
                        for i, v in pairs(BossDrops[4442272183]) do
                            if not table.find(RaidBoss, v) then
                                if not IsHaveItem(i) then
                                    getgenv().FarmBossDrop = "Sea 2"
                                end
                            end
                        end
                        if not FarmBossDrop then
                            if game.PlaceId ~= 7449423635 then
                                CommF:InvokeServer("TravelZou")
                            end
                            if Settings.BFHopServer and BFHopServerToggle then BFHopServerToggle.SetStage(false) end
                            getgenv().GotBelowSeaItems = true
                        end
                    end
                end
            else
                if game.PlaceId ~= 7449423635 then
                    CommF:InvokeServer("TravelZou")
                    wait(5)
                    return
                end
                if DoneFightingStyle then
                    AutoFSSLabel.SetText(LabelTextAFS .. "Farming all Legendary / Mythic rarity swords to 600 Mastery (extra time)")
                    wait(1)
                    if not Settings.AutoSwitchSword and AutoSwitchSwordToggle then
                        AutoSwitchSwordToggle.SetStage(true)
                        if not Settings.CT_FarmUntilUnlock or DoneFarmUntilUnlock then
                            Settings.RequireMastery = 600
                        end
                        if not table.find(SelectedIgnoreRarity2, 0) then
                            table.insert(getgenv().SelectedIgnoreRarity2, 0)
                        end
                        if not table.find(SelectedIgnoreRarity2, 1) then
                            table.insert(getgenv().SelectedIgnoreRarity2, 1)
                        end
                        if not table.find(SelectedIgnoreRarity2, 2) then
                            table.insert(getgenv().SelectedIgnoreRarity2, 2)
                        end
                    end
                else
                    local v = GetCurrentEquippedM1()
                    if v.Name == "Godhuman" then
                        if v.Level.Value < ExtraTimeMasteryFarm["Godhuman"] then
                            AutoFSSLabel.SetText(LabelTextAFS .. "Farming " .. v.Name .. " to hit " .. ExtraTimeMasteryFarm["Godhuman"] .. " Mastery (extra time)")
                            getgenv().AFSWeapon = v.Name
                        else
                            BuyFightingStyle("BuyDragonTalon")
                        end
                    elseif v.Name == "Dragon Talon" then
                        if v.Level.Value < ExtraTimeMasteryFarm["Dragon Talon"] then
                            AutoFSSLabel.SetText(LabelTextAFS .. "Farming " .. v.Name .. " to hit " .. ExtraTimeMasteryFarm["Dragon Talon"] .. " Mastery (extra time)")
                            getgenv().AFSWeapon = v.Name
                        else
                            BuyFightingStyle("BuySharkmanKarate")
                        end
                    elseif v.Name == "Sharkman Karate" then
                        if v.Level.Value < ExtraTimeMasteryFarm["Sharkman Karate"] then
                            AutoFSSLabel.SetText(LabelTextAFS .. "Farming " .. v.Name .. " to hit " .. ExtraTimeMasteryFarm["Sharkman Karate"] .. " Mastery (extra time)")
                            getgenv().AFSWeapon = v.Name
                        else
                            BuyFightingStyle("BuyElectricClaw")
                        end
                    elseif v.Name == "Electric Claw" then
                        if v.Level.Value < ExtraTimeMasteryFarm["Electric Claw"] then
                            AutoFSSLabel.SetText(LabelTextAFS .. "Farming " .. v.Name .. " to hit " .. ExtraTimeMasteryFarm["Electric Claw"] .. " Mastery (extra time)")
                            getgenv().AFSWeapon = v.Name
                        else
                            BuyFightingStyle("BuyDeathStep")
                        end
                    elseif v.Name == "Death Step" then
                        if v.Level.Value < ExtraTimeMasteryFarm["Death Step"] then
                            AutoFSSLabel.SetText(LabelTextAFS .. "Farming " .. v.Name .. " to hit " .. ExtraTimeMasteryFarm["Death Step"] .. " Mastery (extra time)")
                            getgenv().AFSWeapon = v.Name
                        else
                            BuyFightingStyle("BuySuperhuman")
                        end
                    elseif v.Name == "Superhuman" then
                        if v.Level.Value < ExtraTimeMasteryFarm["Superhuman"] then
                            AutoFSSLabel.SetText(LabelTextAFS .. "Farming " .. v.Name .. " to hit " .. ExtraTimeMasteryFarm["Superhuman"] .. " Mastery (extra time)")
                            getgenv().AFSWeapon = v.Name
                        else
                            if not CheckGodhuman then
                                getgenv().CheckGodhuman = true
                                if CommF:InvokeServer("BuyGodhuman", true) == 1 then
                                    BuyFightingStyle("BuyGodhuman")
                                else
                                    BuyFightingStyle("BuyDragonTalon")
                                end
                            else
                                getgenv().DoneFightingStyle = true
                            end
                        end
                    end
                end
            end
        end
    end
    spawn(function()
        wait(1)
        while wait() do
            pcall(function()
                if Settings.Cuttay then
                    Cuttay()
                end
            end)
            wait(1)
        end
    end)
    if not CuttayAccountFarm then getgenv().CuttayAccountFarm = {} end
    Section91.CreateToggle({Title = "Cuttay Account Farm 🚫✋", Desc = "Aka: 1 Click Auto Farm, Kaiton\n* Please only enable on acc haven't got Godhuman\n* Also if you using this, please do not enable anything else while this enable, make sure everything is disabled before enabling this", Default = Settings.Cuttay or CuttayAccountFarm["Enable"]}, function(v)
        if v and not Settings.Cuttay then
            for i, v in pairs(Codes) do
                game.ReplicatedStorage.Remotes.Redeem:InvokeServer(v)
            end
        elseif not v and Settings.Cuttay then
            wait(1)
            CT_DisableAutoRaid()
            CT_DisableFarm()
            AFSHopServerToggle.SetStage(false)
        end
        Settings.Cuttay = v
    end)
    Section91.CreateToggle({Title = "Raid if Maxed Blox Fruit", Desc = "Will go Raid if maxed stored Blox Fruit amount\n(work same as Drop if Maxed but go Raid instead)", Default = Settings.CT_RaidIfMaxed or CuttayAccountFarm["Raid if Maxed Blox Fruit"]}, function(v)
        Settings.CT_RaidIfMaxed = v
    end)
    Section91.CreateToggle({Title = "Farm boss drops if maxed", Desc = "Will go back to Sea 1, 2 and farm all boss drops haven't got when maxed level\n(do after got Godhuman, Cursed Dual Katana)", Default = Settings.CT_FarmBossDrop or CuttayAccountFarm["Farm boss drops if maxed"]}, function(v)
        Settings.CT_FarmBossDrop = v
    end)
    Section91.CreateToggle({Title = "Farm boss drops while not maxed", Desc = "While farming for stuff / level if boss spawned and you dont have their drop it will go kill them", Default = Settings.CT_FarmBossDrop2 or CuttayAccountFarm["Farm boss drops while not maxed"]}, function(v)
        Settings.CT_FarmBossDrop2 = v
    end)
    Section91.CreateDropdown({Title = "Select Farm method after maxed", List = {
        "Mob Farm - Level Path",
        "Raid Boss Farm - Cake Prince Farm",
        "Mob Aura - Haunted Castle",
        "Mob Aura - Sea of Treats 4"
    }, Default = Settings.CT_FarmMethod or CuttayAccountFarm["Farm method after maxed"]}, function(v) 
        Settings.CT_FarmMethod = v
    end)
    getgenv().O_ExtraTimeMasteryFarm = {
        ["Godhuman"] = 350,
        ["Dragon Talon"] = 350,
        ["Sharkman Karate"] = 300,
        ["Electric Claw"] = 330,
        ["Death Step"] = 400,
        ["Superhuman"] = 330
    }
    getgenv().ExtraTimeMasteryFarm = {}
    Section91.CreateToggle({Title = "Extra time Farm until unlock skills", Desc = 'After maxed and do "Farm method after maxed" it will farm Fighting Styles / Weapons until unlocked all it skill and switch to another (instead of farming until 600 Mastery then switch)', Default = Settings.CT_FarmUntilUnlock or CuttayAccountFarm["Extra time Farm until unlock skills"]}, function(v)
        Settings.CT_FarmUntilUnlock = v
        if v then
            for i, v in pairs(O_ExtraTimeMasteryFarm) do
                getgenv().ExtraTimeMasteryFarm[i] = v
            end
        else
            for i, v in pairs(O_ExtraTimeMasteryFarm) do
                getgenv().ExtraTimeMasteryFarm[i] = 600
            end
        end
    end)
    local HopList = {
        "[Main] Server Hop",
        "[Farm] Server Hop if Player nearby",
        "[Sea 3 Quest] Server Hop for 1M+ Blox Fruit",
    }
    getgenv().SelectedIgnoreHop = {}
    if not Settings.CT_IgnoreHop then
        Settings.CT_IgnoreHop = {}
        for i, v in pairs(HopList) do
            Settings.CT_IgnoreHop[v] = false
        end
        if CuttayAccountFarm["Ignore Hop Server Type"] then
            for i, v in pairs(CuttayAccountFarm["Ignore Hop Server Type"]) do
                if v then
                    Settings.CT_IgnoreHop[i] = true
                    table.insert(getgenv().SelectedIgnoreHop, i)
                end    
            end
        end
    else
        local HopLCheck = {}
        for i, v in pairs(Settings.CT_IgnoreHop) do
            if v then
                table.insert(getgenv().SelectedIgnoreHop, i)
            end
            table.insert(HopLCheck, i)
        end
        for i, v in pairs(HopList) do
            if not table.find(HopLCheck, v) then
                Settings.CT_IgnoreHop[v] = false
            end
        end
    end
    Section91.CreateDropdown({Title = "Select Ignore Hop Server Type", List = Settings.CT_IgnoreHop, Selected = true}, function(i, v) 
        if i then
            Settings.CT_IgnoreHop[i] = v
            if v then
                table.insert(getgenv().SelectedIgnoreHop, i)
            elseif table.find(SelectedIgnoreHop, i) then
                table.remove(getgenv().SelectedIgnoreHop, table.find(SelectedIgnoreHop, i))
            end
        end
    end)
    local ActionList = {
        "Get Godhuman",
        "Get Rengoku",
        "Get True Triple Katana",
        "Get Cursed Dual Katana",
        "Get Soul Guitar",
        "Get Hallow Scythe",
        "Awake Current Blox Fruit",
    }
    getgenv().SelectedIgnoreAction = {}
    if not Settings.CT_IgnoreAction then
        Settings.CT_IgnoreAction = {}
        for i, v in pairs(ActionList) do
            Settings.CT_IgnoreAction[v] = false
        end
        if CuttayAccountFarm["Ignore Action"] then
            for i, v in pairs(CuttayAccountFarm["Ignore Action"]) do
                if v then
                    Settings.CT_IgnoreAction[i] = true
                    table.insert(getgenv().SelectedIgnoreAction, i)
                end    
            end
        end
    else
        local ActionLCheck = {}
        for i, v in pairs(Settings.CT_IgnoreAction) do
            if v then
                table.insert(getgenv().SelectedIgnoreAction, i)
            end
            table.insert(ActionLCheck, i)
        end
        for i, v in pairs(ActionList) do
            if not table.find(ActionLCheck, v) then
                Settings.CT_IgnoreAction[v] = false
            end
        end
    end
    Section91.CreateDropdown({Title = "Select Ignore Cuttay Action", List = Settings.CT_IgnoreAction, Selected = true}, function(i, v) 
        if i then
            Settings.CT_IgnoreAction[i] = v
            if v then
                table.insert(getgenv().SelectedIgnoreAction, i)
            elseif table.find(SelectedIgnoreAction, i) then
                table.remove(getgenv().SelectedIgnoreAction, table.find(SelectedIgnoreAction, i))
            end
        end
    end)
    local Worlds = {
        [2753915549] = "Sea 1",
        [4442272183] = "Sea 2",
        [7449423635] = "Sea 3",
    }
    local SeaHubGUI = "Page8"
    if game.PlaceId == 2753915549 then
        SeaHubGUI = "Page7"
    end
    local FightingStyleRemotes = {
        "BuySuperhuman",
        "BuyDeathStep",
        "BuySharkmanKarate",
        "BuyElectricClaw",
        "BuyDragonTalon",
        "BuyGodhuman"
    }
    local RarityList = {
        ["Mythical"] = 4,
        ["Legendary"] = 3,
        ["Rare"] = 2,
        ["Uncommon"] = 1,
        ["Common"] = 0
    }
    
    local function formatNumber(v)
        return tostring(v):reverse():gsub("%d%d%d", "%1,"):reverse():gsub("^,", "")
    end
    local function GetData(v)
        return formatNumber(plr.Data[v].Value)
    end
    local function GetScriptStatus()
        local ScriptStatus = {}
        for i, v in ipairs(game.CoreGui["Sea Hub GUI"].Main.MainContainer.Concacontainer.Concacmain.MainPage[SeaHubGUI].PageList["Script Status_Dot"]:GetChildren()) do
            if v.Name == "LabelFrame" then
                local a = "Auto Farm"
                local b = "Auto Fighting Style / Sword"
                local m = v.LabelBG.TextColor.Text
                local x = m:gsub(a, "")
                x = x:split("\n")[2]
                x = x:gsub(": ", "")
                x = x:gsub("\n", "")
                if string.find(m, a) then
                    ScriptStatus[a] = x
                else
                    ScriptStatus[b] = x
                end
            end
        end
        return ScriptStatus
    end
    function SplitStringByCapitalLetters(v)
        return string.sub(string.gsub(v, "(%u)", " %1"), 2, -1)
    end
    local function GetOwnFS()
        local FightingStyle = {}
        for i, v in pairs(FightingStyleRemotes) do
            if CommF:InvokeServer(v, true) == 1 then
                table.insert(FightingStyle, SplitStringByCapitalLetters(v:gsub("Buy", "")))
            end
        end
        return FightingStyle
    end
    
    function AP_Request()
        local OwnedFS = GetOwnFS()
        local I_Sword = {}
        local I_BloxFruit = {}
        local I_Material = {}
        for i, v in pairs(getupvalue(require(plr.PlayerGui.Main.UIController.Inventory).UpdateRender, 4)) do
            for k, x in pairs(RarityList) do
                if v.details.Rarity == x then
                    if not I_Sword[k] then I_Sword[k] = {} end
                    if not I_BloxFruit[k] then I_BloxFruit[k] = {} end
                    if not I_Material[k] then I_Material[k] = {} end
                    if v.details.Type == "Sword" then
                        table.insert(I_Sword[k], v.details.Name)
                    elseif v.details.Type == "Blox Fruit" then
                        table.insert(I_BloxFruit[k], v.details.Name)
                    elseif v.details.Type == "Material" then
                        table.insert(I_Material[k], v.details.Name)
                    end
                end
            end
        end
        if IsHaveItem("Soul Guitar") then
            k = "Mythical"
            if not I_Sword[k] then I_Sword[k] = {} end
            table.insert(I_Sword[k], "Soul Guitar")
        end
        for k, x in pairs(RarityList) do
            if not I_Sword[k] then I_Sword[k] = {} end
            if not I_BloxFruit[k] then I_BloxFruit[k] = {} end
            if not I_Material[k] then I_Material[k] = {} end
        end
        local function GetBloxFruitChild(x)
            for i, v in ipairs(x:GetChildren()) do
                if v:IsA("Tool") and string.find(v.Name, "-") then
                    return v
                end
            end
        end
        local BloxFruitChild = GetBloxFruitChild(plr.Backpack) or GetBloxFruitChild(plr.Character)
        local function GetAwakenedMove(x)
            if not x then return end
            local m = x:FindFirstChild("AwakenedMoves")
            if not m then
                return
            end
            local AwakenedMove = {}
            for i, v in ipairs(m:GetChildren()) do
                AwakenedMove[v.Name] = true
            end
            return AwakenedMove
        end
        local BF_AM = GetAwakenedMove(BloxFruitChild)
        if not BF_AM then BF_AM = {} end

        local Body = game:GetService("HttpService"):JSONEncode({
            Name = plr.Name,
            [plr.Name] = {
                Name = plr.Name,
                Level = GetData("Level"),
                Fragments = GetData("Fragments"),
                Beli = GetData("Beli"),
                Race = GetData("Race"),
                DevilFruit = GetData("DevilFruit"),
                World = Worlds[game.PlaceId],
                ScriptStatus = GetScriptStatus(),
                Status = 'Online',
                Inventory = {
                    FightingStyle = OwnedFS,
                    Mythical = {
                        Sword = I_Sword["Mythical"],
                        BloxFruit = I_BloxFruit["Mythical"],
                        Material = I_Material["Mythical"]
                    },
                    Legendary = {
                        Sword = I_Sword["Legendary"],
                        BloxFruit = I_BloxFruit["Legendary"],
                        Material = I_Material["Legendary"]
                    },
                    Rare = {
                        Sword = I_Sword["Rare"],
                        BloxFruit = I_BloxFruit["Rare"],
                        Material = I_Material["Rare"]
                    },
                    Uncommon = {
                        Sword = I_Sword["Uncommon"],
                        BloxFruit = I_BloxFruit["Uncommon"],
                        Material = I_Material["Uncommon"]
                    },
                    Common = {
                        Sword = I_Sword["Common"],
                        BloxFruit = I_BloxFruit["Common"],
                        Material = I_Material["Common"]
                    },
                },
                AwakenedMove = {
                    Z = BF_AM["Z"],
                    X = BF_AM["X"],
                    C = BF_AM["C"],
                    V = BF_AM["V"],
                    F = BF_AM["F"],
                    TAP = BF_AM["TAP"],
                },
            },
        })

        syn.request({
            Url = 'https://panel.ego-d.xyz/post/' .. getgenv().Key,
            Method = 'POST',
            Headers = {
                ["Content-Type"] = "application/json"
            },
            Body = Body
        })
    end
    spawn(function()
        wait(1)
        while wait() do
            pcall(function()
                if Settings.CT_AccountPanel and getgenv().Key then
                    if not AP_RequestDelay or tick() - AP_RequestDelay >= 300 then
                        getgenv().AP_RequestDelay = tick()
                        AP_Request() 
                    end
                end
            end)
            wait(10)
        end
    end)
    Section91.CreateToggle({Title = "Account Panel", Desc = "Will add current account to Account Panel list, limit: 25 accounts, data will be update every 5 minutes\nAccount Panel Website: panel.ego-d.xyz", Default = Settings.CT_AccountPanel or CuttayAccountFarm["Account Panel"]}, function(v)
        Settings.CT_AccountPanel = v
    end)
    local I1 = "* Farm Details:\n- Fighting Style: Superhuman, Death Step, Sharkman Karate, Electric Claw, Dragon Talon, Godhuman\n- Sword: Saber, Rengoku, True Triple Katana, Tushita, Yama, Cursed Dual Katana, Soul Guitar, Hallow Scythe\n- Kill boss to get drops (if spawned / no x2 xp boost)"
    local I2 = "\n* Extra info:\n- You don't need todo anything, just enable the feature and other optinal options and you're good to go\n(just afk with Acc Manager Auto Relaunch)\n- Make sure to delete Sea Hub folder in Synapse workspace folder (leave Roblox first) everytime you enable or disable Cuttay Account Farm"
    Section91.CreateLabel({Title = I1 .. I2})
else
    Settings.Cuttay = nil
    Settings.CT_RaidIfMaxed = nil
    Settings.CT_FarmBossDrop = nil
    Settings.CT_FarmMethod = nil
    Settings.CT_IgnoreAction = nil
end

local SettingPage = Title.CreatePage({Page_Name = 'Setting', Page_Title = 'Setting Tab'})
local MFSSection = SettingPage.CreateSection('Mastery Farm Skill')
local SkillList = {
    "Z",
    "X",
    "C",
    "V",
    "F"
}
getgenv().SelectedAutoSkill = {}
if not Settings.AutoSkill then
    Settings.AutoSkill = {}
    for i, v in pairs(SkillList) do
        Settings.AutoSkill[v] = false
    end
else
    local SkillLCheck = {}
    for i, v in pairs(Settings.AutoSkill) do
        if v then
            table.insert(getgenv().SelectedAutoSkill, i)
        end
        table.insert(SkillLCheck, i)
    end
    for i, v in pairs(SkillList) do
        if not table.find(SkillLCheck, v) then
            Settings.AutoSkill[v] = false
        end
    end
end
MFSSection.CreateDropdown({Title = 'Auto Skill', List = Settings.AutoSkill, Selected = true}, function(i, v)
    if i then
        Settings.AutoSkill[i] = v
        if v then
            table.insert(getgenv().SelectedAutoSkill, i)
        elseif table.find(SelectedAutoSkill, i) then
            table.remove(getgenv().SelectedAutoSkill, table.find(SelectedAutoSkill, i))
        end
    end
end)
if not Settings.HoldSkillTime then
    Settings.HoldSkillTime = {}
end
for _, x in pairs(SkillList) do
    MFSSection.CreateSlider({Title = "Hold " .. x .. " Time", Min = 0, Max = 5, Default = Settings.HoldSkillTime[x], Precise = true}, function(v)
        Settings.HoldSkillTime[x] = v
    end)
end

local SettingSection = SettingPage.CreateSection('Script Settings')
SettingSection.CreateDropdown({Title = "Select Auto Choose Side", List = {"Pirates", "Marines"}, Default = Settings.ChooseSide}, function(v) 
    Settings.ChooseSide = v
end)
local ServerRegions = {
    "Random",
    "United States",
    "United Kingdom",
    "France",
    "Germany",
    "Poland",
    "Singapore",
    "Hong Kong",
    "Japan",
    "India",
}
SettingSection.CreateDropdown({Title = "Hop Server Region", List = ServerRegions, Default = Settings.HopServerRegion or "Random"}, function(v) 
    Settings.HopServerRegion = v
end)
local PanicSection = SettingPage.CreateSection('Auto Panic')
PanicSection.CreateSlider({Title = 'Panic Health', Min = 10, Max = 60, Default = Settings.PanicHealth or 30}, function(v)
    Settings.PanicHealth = v
end)
local SettingSection2 = SettingPage.CreateSection('Attack No Cooldown Setting')
SettingSection2.CreateSlider({Title = 'Attack Duration', Min = 1, Max = 10, Default = Settings.AttackDuration or 3}, function(v)
    Settings.AttackDuration = v
end)
SettingSection2.CreateSlider({Title = 'Attack Cooldown', Min = 1, Max = 30, Default = Settings.AttackCooldown or 20}, function(v)
    Settings.AttackCooldown = v
end)
AttackAutoScaleToggle = SettingSection2.CreateToggle({Title = "Auto Scale Cooldown", Desc = "Will Auto Scale the cooldown\n(may sometime still get you kicked)", Default = Settings.AttackAutoScale}, function(v)
    Settings.AttackAutoScale = v
end)
spawn(function()
    while wait() do
        pcall(function()
            if Settings.AutoPanic or Settings.BountyFarm then
                local x = Settings.PanicHealth
                if Settings.BountyFarm then
                    x = 35
                end
                if (plr.Character.Humanoid.Health / plr.Character.Humanoid.MaxHealth) * 100 <= x then
                    local x = plr.Character:FindFirstChild("Chop Glitch Fix")
                    if x then
                        x:Destroy()
                    end
                    getgenv().Panicing = true
                    getgenv().LastYLevel = plr.Character.HumanoidRootPart.Position.Y
                    ForceStopTween()
                    repeat wait()
                        local plrPos = plr.Character.HumanoidRootPart.Position
                        if plrPos.Y < 9000 then
                            ForceStopTween()
                            getgenv().Noclip = true
                            plr.Character.HumanoidRootPart.CFrame = CFrame.new(plrPos.X, 10000, plrPos.Z)
                            wait()
                            plr.Character.HumanoidRootPart.CFrame = CFrame.new(plrPos.X, 20000, plrPos.Z)
                            wait()
                            plr.Character.HumanoidRootPart.CFrame = CFrame.new(plrPos.X, 30000, plrPos.Z)
                            wait()
                            plr.Character.HumanoidRootPart.CFrame = CFrame.new(plrPos.X, 40000, plrPos.Z)
                            wait()
                            plr.Character.HumanoidRootPart.CFrame = CFrame.new(plrPos.X, 50000, plrPos.Z)
                        end
                    until plr.Character.Humanoid.Health == plr.Character.Humanoid.MaxHealth
                    or not Settings.AutoPanic
                    local plrPos = plr.Character.HumanoidRootPart.Position
                    plr.Character.HumanoidRootPart.CFrame = CFrame.new(plrPos.X, LastYLevel, plrPos.Z)
                    ForceStopTween(true)
                    wait(.25)
                    getgenv().Panicing = false
                else
                    getgenv().Panicing = false
                end
            end
        end)
    end
end)
PanicSection.CreateToggle({Title = "Auto Panic", Desc = "Auto TP to Safe Zone + temporary disable all feature (stop tween) when your health below selected Panic Health and wait until you full 100% Health", Default = Settings.AutoPanic}, function(v)
    Settings.AutoPanic = v
end)
local SettingSection3 = SettingPage.CreateSection('Tween Settings')
SettingSection3.CreateSlider({Title = 'Tween Speed', Min = 100, Max = 350, Default = Settings.TweenSpeed or 150}, function(v)
    Settings.TweenSpeed = v
end)
SettingSection3.CreateLabel({Title = "Max Tween Speed is 300 without enabling Ignore Y Tween or you will get TP back"})
IgnoreYTweenToggle = SettingSection3.CreateToggle({Title = "Ignore Y Tween", Desc = "Traveling (Tween) to other place faster\n- Safer on public server (if Deafult Y is high)\n- Bring Mob will be glitchy (if Deafult Y out of render)\n* Recommended enable\n* Set Default Y Level 200 if Private / 10k if Public", Default = Settings.IgnoreYTween}, function(v)
    Settings.IgnoreYTween = v
end)
SettingSection3.CreateSlider({Title = 'Default Y Level', Min = 100, Max = 10000, Default = Settings.DefaultYLevel or 10000}, function(v)
    Settings.DefaultYLevel = v
end)
local SettingSection4 = SettingPage.CreateSection('Dodge Settings')
SettingSection4.CreateToggle({Title = "Auto Dodge", Desc = "Will sometime dodged the current attacking enemy skill, depend on the skills\n(only work with Auto Farm features)", Default = Settings.AutoDodge or true}, function(v)
    Settings.AutoDodge = v
end)
SettingSection4.CreateToggle({Title = "Hard Dodge", Desc = "Will dodge more skills but may be glitchy", Default = Settings.HardDodge}, function(v)
    Settings.HardDodge = v
end)
local AutoSaveSection = SettingPage.CreateSection('Auto Save Settings')
AutoSaveToggle = AutoSaveSection.CreateToggle({Title = 'Auto Save', Default = Settings.AutoSave}, function(v)
    Settings.AutoSave = v
    spawn(function()
        while Settings.AutoSave and wait() do
            SaveSettings()
            if not Hopping then
                local Timer1 = tick()
                repeat wait()
                until tick() - Timer1 >= 5
                or Hopping
            end
        end
        if not v then
            Settings.AutoSave = false
            SaveSettings()
        end
    end)
end)
local GUISettingSection = SettingPage.CreateSection('GUI Settings')
TimeWaveLabel = GUISettingSection.CreateLabel({Title = "Timer | Wave (Time Left)"})
spawn(function()
    while wait(.25) do
        local TotalTime = game.workspace.DistributedGameTime
        local Sec = math.round(TotalTime % 60)
        local Min = math.floor(TotalTime / 60 % 60)
        local Hour = math.floor(TotalTime / 3600)
        if Sec == 60 then Sec = 0 Min = Min + 1 end
        if Min == 60 then Min = 0 Hour = Hour + 1 end
        local SecFormat = "" if string.len(Sec) == 1 then SecFormat = "0" end
        local MinFormat = "" if string.len(Min) == 1 then MinFormat = "0" end
        local HourFormat = "" if string.len(Hour) == 1 then HourFormat = "0" end
        getgenv().S_Timer = string.format(MinFormat .. '%.0f:' .. SecFormat .. '%.0f', Min, Sec)
        if Hour >= 1 then
            getgenv().S_Timer = string.format(HourFormat .. '%.0f:', Hour) .. getgenv().S_Timer
        end
        TimeWaveLabel.SetText("Timer: " .. getgenv().S_Timer)
    end
end)
getgenv().GuiToggled = true
GUISettingSection.CreateBind({Title = 'Toggle GUI', Key = Enum.KeyCode.RightControl}, function()
    getgenv().GuiToggled = not getgenv().GuiToggled
    if game.CoreGui:FindFirstChild("Sea Hub GUI")then for a,b in ipairs(game.CoreGui:GetChildren())do if b.Name=="Sea Hub GUI"then b.Enabled=getgenv().GuiToggled end end end
end)
if getgenv().Key == nil then
    GUISettingSection.CreateButton({Title = 'Destroy GUI'}, function()
        if game.CoreGui:FindFirstChild("Sea Hub GUI")then for a,b in ipairs(game.CoreGui:GetChildren())do if b.Name=="Sea Hub GUI"then b:Destroy()end end end
    end)
end
